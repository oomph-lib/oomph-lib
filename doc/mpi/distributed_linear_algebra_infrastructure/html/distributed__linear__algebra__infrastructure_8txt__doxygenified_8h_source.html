<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<title>oomph-lib: distributed_linear_algebra_infrastructure.txt_doxygenified.h Source File</title>
<link rel="apple-touch-icon" sizes="57x57" href="../../../figures/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../../../figures/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../../../figures/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../../../figures/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../../../figures/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../../../figures/apple-touch-icon-120x120.png">
<link rel="icon" type="image/png" href="../../../figures/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="../../../figures/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../../../figures/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="../../../figures/manifest.json">
<link rel="mask-icon" href="../../../figures/safari-pinned-tab.svg" color="#008000">
<link rel="shortcut icon" href="../../../figures/favicon.ico">
<meta name="msapplication-TileColor" content="#00a300">
<meta name="msapplication-config" content="../../../figures/browserconfig.xml">
<meta name="theme-color" content="#008000">
<link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600" rel="stylesheet" type="text/css">
<!-- Doxygen css-->
<!-- <link rel="stylesheet" type="text/css" href="doxygen.css"> -->
<!-- Bootstrap -->
<link href="../../../css/bootstrap.css" rel="stylesheet">
<!-- oomph-lib specific overrides -->
<link rel="stylesheet" type="text/css" href="../../../css/oomph_header.css">
</head>
<body>
<nav class="navbar navbar-default">
<div class="container">
<div class="container-fluid">
  <!-- Brand and toggle get grouped for better mobile display -->
  <div class="navbar-header">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="../../../html/index.html"><img alt="oomph-lib" src="../../../figures/oomph_logo.png"></a>
  </div>
  <!-- Collect the nav links, forms, and other content for toggling -->
  <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    <ul class="nav navbar-nav">          
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Documentation <span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li class="dropdown-header">Big picture</li>
          <li><a href="../../../../doc/intro/html/index.html">The finite element method</a></li>
          <li><a href="../../../../doc/the_data_structure/html/index.html">The data structure</a></li>
          <li><a href="../../../../doc/quick_guide/html/index.html">Not-so-quick guide</a></li>
          <li><a href="../../../../doc/optimisation/html/index.html">Optimisation</a></li>
          <li><a href="../../../../doc/order_of_action_functions/html/index.html">Order of action functions</a></li>
          <li role="separator" class="divider"></li>
          <li class="dropdown-header">Example codes and tutorials</li>
          <li><a href="../../../../doc/example_code_list/html/index.html">List of example codes and tutorials</a></li>
          <li><a href="../../../../doc/example_code_list/html/index.html#meshes">Meshing</a></li>
          <li><a href="../../../../doc/example_code_list/html/index.html#solvers">Solvers</a></li>
          <li><a href="../../../../doc/example_code_list/html/index.html#parallel">MPI parallel processing</a></li>
          <li><a href="../../../../doc/example_code_list/html/index.html#visualisation">Post-processing/visualisation</a></li>
          <li role="separator" class="divider"></li>
          <li class="dropdown-header">Other</li>
          <li><a href="../../../../doc/change_log/html/index.html">Change log</a></li>
          <li><a href="../../../../doc/creating_doc/html/index.html">Creating documentation</a></li>
          <li><a href="../../../../doc/coding_conventions/html/index.html">Coding conventions</a></li>
          <li><a href="../../../../doc/index/html/index.html">Index</a></li>
          <li><a href="../../../../doc/FAQ/html/index.html">FAQ</a></li>
        </ul>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Installation<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="../../../../doc/the_distribution/html/index.html">Installation guide</a></li>
            <li><a href="../../../../doc/copyright/html/index.html">Copyright</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">About <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="../../../../doc/people/html/index.html">People</a></li>            
            <li><a href="../../../../doc/contact/html/index.html">Contact/Get involved</a></li>
            <li><a href="../../../../doc/publications/html/index.html">Publications</a></li>
            <li><a href="../../../../doc/acknowledgements/html/index.html">Acknowledgements</a></li>
            <li><a href="../../../../doc/picture_show/index.html">Picture show</a></li>
          </ul>
        </li>
      </li>
    </ul>
    <ul class="nav navbar-nav navbar-right navbar-search">
      <form class="navbar-form" role="search" action="../../../../doc/search_results/html/index.html">
        <div class="input-group">
          <input type="text" class="form-control" placeholder="Search" name="q">
          <span class="input-group-btn">
            <button class="btn btn-default" type="submit">Go</button>
          </span>
        </div><!-- /input-group -->
       <!--<div class="form-group">
          <input type="text" class="form-control" placeholder="Search">
        </div>
        <button type="submit" class="btn btn-default">Submit</button>-->
      </form>
    </ul>
  </div><!-- /.navbar-collapse -->
</div><!-- /.container-fluid -->
</div>
</nav>
<!-- Generated by Doxygen 1.8.17 -->
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">distributed_linear_algebra_infrastructure.txt_doxygenified.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="distributed__linear__algebra__infrastructure_8txt__doxygenified_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">\mainpage Distributed Linear Algebra Infrastructure</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">In this document we provide an overview of \c oomph-lib&#39;s distributed linear</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">algebra framework, discussing its design and key functionality. </span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">The aim of this framework is to facilitate the parallel (distributed) </span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">execution of linear algebra type operations with little (or no) user </span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">intervention. This requires all linear algebra data and computations </span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">to be distributed over all available processes.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">We begin by defining the \c OomphCommunicator, a class that is fundamental  </span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">to distributed computing in \c oomph-lib. Next we discuss the class </span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">\c LinearAlgebraDistribution which specifies the  distribution of  the data </span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">and computations over the available processes. In</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">Sections \ref double_vector, \ref cr_double_matrix and \ref</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">distributed_linear_algebra_object we discuss \c oomph-lib&#39;s distributed linear</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">algebra objects including the key containers (matrices and vectors) </span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">and operators (solvers and preconditioners). Finally, we demonstrate how the </span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">distributed linear algebra framework is typically used in practice.</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">The primary aim of this document is to provide an overview of the design </span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">and functionality of distributed linear algebra capabilities in </span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">\c oomph-lib, and hence </span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">we do not discuss every method of every class; we refer the reader to the class</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">documentation for a complete specification.</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">\section oomph_communicator OomphCommunicator</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">\c Oomph-lib employs MPI for distributed memory</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">parallelisation. Fundamental to MPI is the communicator  </span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">( \c MPI_Comm )</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">which determines which processes are involved in a parallel</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">computation. Although \c oomph-lib is implemented in C++, the C MPI</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">bindings are utilised. \c Oomph-lib provides the class \c</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">OomphCommunicator as an object-oriented wrapper for a \c</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">MPI_Comm.</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">Calling \c MPI_Helpers::init(argc,argv) is equivalent to calling \c</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">MPI_Init(argc,argv). It initialises MPI</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">( i.e. calls \c MPI_Init(argc,argv) ) and creates \c oomph-lib&#39;s global</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">communicator:</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">\dontinclude generic_mpi_test.cc</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">\skipline start_of_main</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">\until init(</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment"> The newly created communicator is available via a \c MPI_Helpers</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">class static method:</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">\skipline Get the global </span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">\until communicator_pt</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment"> and is equivalent to the \c MPI_COMM_WORLD</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">communicator in that it represents all the processes that \c oomph-lib</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">knows about. By default, this communicator contains exactly the same</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">set of processes as \c MPI_COMM_WORLD. </span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">The \c OomphCommunicator provides a number of access functions to </span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">communicator data including the rank of the process and the number of </span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">the processes:</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">\until std::endl;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">\section linear_algebra_distribution LinearAlgebraDistribution</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">Distributed memory parallelisation requires data and computations to </span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">be distributed</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">over the available processes in some way. In this document we are</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">solely interested in distributed linear algebra. We choose to</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">distribute the linear algebra objects row-wise, and constrain the</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">distribution such that each process is associated with a single</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">contiguous set of rows. The class \c LinearAlgebraDistribution allows</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">the specification of such a distribution. </span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">The distribution is defined by two integers defining the first</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">global row and the number of local rows associated with a</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">process. This data is sufficient to allow a mapping between a global</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">row number and a local row number on a particular process.</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">To construct a \c LinearAlgebraDistribution in which 100 rows are</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">uniformly distributed across the set of processes specified by \c</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">comm_pt we write:</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">\until std::endl;</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">In this example, if run on four processes, the first 25 rows are associated </span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">with process 0, the next 25 rows are on process 1 and so on. In</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">general, in a uniform distribution of \f$n_r\f$ global rows over</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">\f$n_p\f$ processes the first row on process</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">\f$p=0,1,\ldots,(n_p-1)\f$ is \f$\lfloor</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">\frac{pn_r}{n_p}\rfloor\f$. It is also possible the specify</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">alternative user defined distributions; see the class documentation for details.</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">An optional third ( \c bool ) argument (default: true) in the</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment">constructor indicates that we require a distributed linear algebra </span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">distribution. However, on some occasions we may want</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">to replicate all rows of a linear algebra object on all processes. This is</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">achieved by simply making the third argument \c false (non-distributed):</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">\until &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">This example illustrates two other features of \c</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">LinearAlgebraDistribution. Firstly, the default constructor creates</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">an empty distribution, and secondly for every (non-default)</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">constructor there is an equivalent \c build(...) method to </span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">&quot;re-construct&quot; the object.</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">The state of the object is accessible through a range of methods.</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">\until bool built</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">The \c built() method indicates if the object specifies a</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">distribution, or is empty.</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">\section double_vector DoubleVector</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">The simplest distributed linear algebra object is \c DoubleVector, a</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">distributed vector of \c doubles developed specifically for linear</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">algebra (It differs from a \c Vector&lt;double&gt; which simply provides a</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">container for \c doubles ). For example, the following command constructs a \c DoubleVector with a uniform distribution (specified by the distributed </span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">\c LinearAlgebraDistribution defined in the previous section) </span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">and unit elements:</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">\until my_vector</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment"> </span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">To access the vector elements the \c operator[] is implemented. </span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">For example to increment every element by one:</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">\until }</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">It is the \c oomph-lib convention that the data in \c DoubleVector (and all </span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">other distributed linear algebra object) is accessed using local indices. The </span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">following loop documents the local row number, the global row number, and the</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">value of the elements on each process:</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">\until }</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">To change the distribution of a \c DoubleVector while retaining the</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">data, we provide the \c redistribute(...) method. For example to</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">change \c my_vector from uniformly distributed to locally replicated:</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">\until redistribute</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">Just like the \c LinearAlgebraDistribution, we provide \c build() methods </span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">that mirror the behaviour of all non-default constructors. For example</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">to revert \c my_vector to a uniform distribution with unit elements:</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">\until distributed_distribution</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">It is important to differentiate between \c build(...) and \c</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">redistribute(...); calling \c build(...) deletes the existing data,</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">effectively re-constructing the object, whereas \c redistribute(...)</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">retains the vector&#39;s data.</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="comment">Like the \c LinearAlgebraDistribution, a \c DoubleVector need not</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="comment">contain any data. To generate an object in this state, we could </span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="comment">instantiate an object using the default constructor or call the </span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">\c clear() method:</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">\until clear</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">Again the \c built() method returns the state of the object </span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">and indicates if it contains any data.</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">\section cr_double_matrix CRDoubleMatrix</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">\c CRDoubleMatrix is the only distributed matrix in \c oomph-lib. It</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;<span class="comment">employs sparse compressed row storage to store \c double coefficients.</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment">A \c CRDoubleMatrix has three fundamental states: </span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">- A \c CRDoubleMatrix can have no distribution or coefficients in</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">which case \c my_matrix-&gt;distribution_built() and</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">\c my_matrix-&gt;built() are both \c false.</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">- A (built) distribution but</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">no coefficients in which case \c my_matrix-&gt;distribution_built() is \c true but \c</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment"> my_matrix-&gt;built() is still \c false.</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">- A (built) distribution and</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment"> coefficients in which case \c my_matrix-&gt;distribution_built() and \c</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment"> my_matrix-&gt;built() are both \c true.  </span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">For example, to construct an empty matrix we call:</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">\until my_matrix</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">To specify the distribution as defined by the </span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">\c LinearAlgebraDistribution \c distributed_distribution we write:</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">\until my_matrix.build</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">The distribution has now been specified but the coefficients have not.</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">Like the \c DoubleVector, rows are indexed locally and hence the</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">coefficients rows must be indexed locally. For example, </span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">to populate \c my_matrix</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">as a square identity matrix, we write:</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">\until my_matrix.build</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment"> We note that the column indices are global because only the rows are</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment"> distributed. The assembly of a \c CRDoubleMatrix is now</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment"> complete. </span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">We constructed the matrix in two stages by first specifying </span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">the distribution and then specifying the coefficients. However it is possible </span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">to perform this operation in just one step, by using the appropriate </span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">constructor or \c build(...) method, for example:</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">\until row_start);</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">\section distributed_linear_algebra_object DistributedLinearAlgebraObject</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">In this section we introduce the class \c</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">DistributedLinearAlgebraObject, </span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">a base class for all distributed linear algebra objects. </span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">This class encapsulates a \c LinearAlgebraDistribution, provides (protected)</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">access to derived classes to update ( \c build_distribution(...) ) and</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">clear ( \c clear() ) the stored distribution. Secondly, it provides</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">methods to simplify access to commonly used \c</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">LinearAlgebraDistribution data. For example, because a </span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">\c CRDoubleMatrix is a \c DistributedLinearAlgebraObject,</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">\until first_row();</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">can be replaced with</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">\until first_row();</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment"> </span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">\c DistributedLinearAlgebraObjects can be divided into two types:</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">containers and operators. We have already reviewed the containers \c</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">DoubleVector and \c CRDoubleMatrix. A wide range of operator classes</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">have been implemented in \c oomph-lib to operate on these</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">containers. In particular, all \c LinearSolvers, \c</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">IterativeLinearSolvers and \c Preconditioners (discussed in the</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">&lt;a href=&quot;../../../linear_solvers/html/index.html&quot;&gt;Linear Solvers</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">Tutorial&lt;/A&gt;) are \c DistributedLinearAlgebraObjects. We finish this section </span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">by reviewing the key linear algebra operators:</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">- \c SuperLUSolver is a \c LinearSolver wrapper to both the </span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">&lt;a href=&quot;http://crd.lbl.gov/~xiaoye/SuperLU/#superlu&quot;&gt;&lt;code&gt;SuperLU&lt;/code&gt;&lt;/a&gt;</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">  direct solver and the </span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">&lt;a href=&quot;http://crd.lbl.gov/~xiaoye/SuperLU/#superlu_dist&quot;&gt;</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="comment">   &lt;code&gt;SuperLU Dist&lt;/code&gt;&lt;/a&gt; distributed direct</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">  solver. By default, whenever possible this class will automatically</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="comment">  perform distributed solves. </span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">- \c TrilinosAztecOOSolver is an \c IterativeLinearSolver wrapper to</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">  the  &lt;a href=&quot;http://trilinos.sandia.gov/packages/aztecoo&quot;&gt;</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">   &lt;code&gt;Trilinos AztecOO&lt;/code&gt;&lt;/a&gt; package implementation of</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">  distributed Krylov methods including CG, GMRES and BiCGStab.</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">- \c TrilinosMLPreconditioner is a wrapper to the</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">  distributed &lt;a href=&quot;http://trilinos.sandia.gov/packages/ml&quot;&gt;</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">  Trilinos ML AMG preconditioners&lt;/a&gt;.</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">- \c TrilinosIFPACKPreconditioner is a wrapper to the</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">  distributed  &lt;a href=&quot;http://trilinos.sandia.gov/packages/ifpack&quot;&gt;</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">  Trilinos IFPACK preconditioners&lt;/a&gt;.</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="comment">- \c HyprePreconditioner is a wrapper to the</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="comment">  distributed &lt;a href=&quot;https://computation.llnl.gov/casc/linear_solvers/sls_hypre.html&quot;&gt;</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment">  &lt;code&gt;Hypre Scalable Linear Solvers&lt;/code&gt;&lt;/a&gt;</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">  package, of particular interest is the</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">  classical AMG implementation \c BoomerAMG.</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment">- \c MatrixVectorProduct is a wrapper to the</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">  &lt;a href=&quot;http://trilinos.sandia.gov/packages/epetra/&quot;&gt;</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">  &lt;code&gt;Trilinos Epetra&lt;/code&gt;&lt;/a&gt; distributed matrix-vector product </span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">  implementation. </span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">\section distributed_linear_algebra_in_practice Distributed Linear Algebra In Practice</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">Having discussed \c oomph-lib&#39;s linear algebra infrastructure,</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">we finally remark that \c oomph-lib is implemented such that</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">linear algebra in \c oomph-lib is automatically distributed if executed under MPI on multiple</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment">processes. Specifically, a user should not need to specify either a \c</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">LinearAlgebraDistribution or a \c OomphCommunicator, unless they wish</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">to customise some aspect of the parallelisation.</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">All functionality is designed such that if a user does not specify a</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">\c LinearAlgebraDistribution, then as much data and computation as</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">possible will be uniformly distributed over all available processes.</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">As an example, we consider the \c Problem method \c get_jacobian(...). If the user does not specify a return distribution for the</span></div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">Jacobian and residuals, then \c oomph-lib will uniformly distribute both containers.</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">\until std::endl;</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">On the other hand, a user can specify a return distribution by</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment"> setting the distribution of the matrix</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">and vector prior to calling \c get_jacobian(...). </span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">\until std::endl;</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">We finally remark that because all linear algebra operations are </span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">automatically distributed, to parallelise \c oomph-lib&#39;s Newton solve </span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">phase, the user need only run their executable under MPI on multiple processes.</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment">\section sources Source files for this tutorial</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">- The source files for this tutorial are located in the directory:\n\n</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">&lt;CENTER&gt;</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">&lt;A HREF=&quot;../../../../self_test/mpi/generic_mpi/&quot;&gt;</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">self_test/mpi/generic_mpi</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">&lt;/A&gt;</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">&lt;/CENTER&gt;\n</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">- The driver code is: \n\n</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">&lt;CENTER&gt;</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">&lt;A HREF=&quot;../../../../self_test/mpi/generic_mpi/generic_mpi_test.cc&quot;&gt;</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">self_test/mpi/generic_mpi/generic_mpi_test.cc</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">&lt;/A&gt;</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">&lt;/CENTER&gt;</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">&lt;hr&gt;</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">&lt;hr&gt;</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">\section pdf PDF file</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">A &lt;a href=&quot;../latex/refman.pdf&quot;&gt;pdf version&lt;/a&gt; of this document is available.</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">**/</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="adistributed__linear__algebra__infrastructure_8txt_html_af80c527b0f3667ec283518eeb7345d89"><div class="ttname"><a href="distributed__linear__algebra__infrastructure_8txt.html#af80c527b0f3667ec283518eeb7345d89">lib</a></div><div class="ttdeci">mainpage Distributed Linear Algebra Infrastructure In this document we provide an overview of c oomph lib s distributed linear algebra discussing its design and key functionality The aim of this framework is to facilitate the a class that is fundamental to distributed computing in c oomph lib Next we discuss the class c LinearAlgebraDistribution which specifies the distribution of the data and computations over the available processes In Sections ref double_vector ref cr_double_matrix and ref distributed_linear_algebra_object we discuss c oomph lib s distributed linear algebra objects including the key we demonstrate how the distributed linear algebra framework is typically used in practice The primary aim of this document is to provide an overview of the design and functionality of distributed linear algebra capabilities in c oomph lib</div><div class="ttdef"><b>Definition:</b> <a href="distributed__linear__algebra__infrastructure_8txt_source.html#l00024">distributed_linear_algebra_infrastructure.txt:24</a></div></div>
<div class="ttc" id="adistributed__linear__algebra__infrastructure_8txt_html_a5494dc9a29dda7747f202046f268086f"><div class="ttname"><a href="distributed__linear__algebra__infrastructure_8txt.html#a5494dc9a29dda7747f202046f268086f">class</a></div><div class="ttdeci">mainpage Distributed Linear Algebra Infrastructure In this document we provide an overview of c oomph lib s distributed linear algebra discussing its design and key functionality The aim of this framework is to facilitate the a class that is fundamental to distributed computing in c oomph lib Next we discuss the class c LinearAlgebraDistribution which specifies the distribution of the data and computations over the available processes In Sections ref double_vector ref cr_double_matrix and ref distributed_linear_algebra_object we discuss c oomph lib s distributed linear algebra objects including the key we demonstrate how the distributed linear algebra framework is typically used in practice The primary aim of this document is to provide an overview of the design and functionality of distributed linear algebra capabilities in c oomph and hence we do not discuss every method of every class</div><div class="ttdef"><b>Definition:</b> <a href="distributed__linear__algebra__infrastructure_8txt_source.html#l00025">distributed_linear_algebra_infrastructure.txt:25</a></div></div>
<div class="ttc" id="adistributed__linear__algebra__infrastructure_8txt_html_a90347aadf50ccfd7d93e472be0170cac"><div class="ttname"><a href="distributed__linear__algebra__infrastructure_8txt.html#a90347aadf50ccfd7d93e472be0170cac">phase</a></div><div class="ttdeci">c DistributedLinearAlgebraObjects can be divided into two all c c IterativeLinearSolvers and c Preconditioners(discussed in the&lt; a href=&quot;../../../linear_solvers/html/index.html&quot;&gt;Linear Solvers Tutorial&lt;/A &gt;) are \c DistributedLinearAlgebraObjects. We finish this section by reviewing the key linear algebra operators On the other a user can specify a return distribution by setting the distribution of the matrix and vector prior to calling c get_jacobian(...). \until std We finally remark that because all linear algebra operations are automatically to parallelise c oomph lib s Newton solve phase</div><div class="ttdef"><b>Definition:</b> <a href="distributed__linear__algebra__infrastructure_8txt_source.html#l00317">distributed_linear_algebra_infrastructure.txt:317</a></div></div>
<div class="ttc" id="adistributed__linear__algebra__infrastructure_8txt_html_a03654fcd0f1ae9cac59686ccb27bd720"><div class="ttname"><a href="distributed__linear__algebra__infrastructure_8txt.html#a03654fcd0f1ae9cac59686ccb27bd720">distributed</a></div><div class="ttdeci">c DistributedLinearAlgebraObjects can be divided into two all c c IterativeLinearSolvers and c Preconditioners(discussed in the&lt; a href=&quot;../../../linear_solvers/html/index.html&quot;&gt;Linear Solvers Tutorial&lt;/A &gt;) are \c DistributedLinearAlgebraObjects. We finish this section by reviewing the key linear algebra operators On the other a user can specify a return distribution by setting the distribution of the matrix and vector prior to calling c get_jacobian(...). \until std We finally remark that because all linear algebra operations are automatically distributed</div><div class="ttdef"><b>Definition:</b> <a href="distributed__linear__algebra__infrastructure_8txt_source.html#l00310">distributed_linear_algebra_infrastructure.txt:310</a></div></div>
<div class="ttc" id="adistributed__linear__algebra__infrastructure_8txt_html_aea824d97b842c7aa8423c173b3cf0752"><div class="ttname"><a href="distributed__linear__algebra__infrastructure_8txt.html#aea824d97b842c7aa8423c173b3cf0752">example</a></div><div class="ttdeci">we refer the reader to the class documentation for a complete specification section oomph_communicator OomphCommunicator c Oomph lib employs MPI for distributed memory parallelisation Fundamental to MPI is the the C MPI bindings are utilised c Oomph lib provides the class c OomphCommunicator as an object oriented wrapper for a c MPI_Comm Calling c argv It initialises MPI(i.e. calls \c MPI_Init(argc, argv)) and creates \c oomph-lib 's global communicator section distributed_linear_algebra_object DistributedLinearAlgebraObject In this section we introduce the class c DistributedLinearAlgebraObject a base class for all distributed linear algebra objects This class encapsulates a c LinearAlgebraDistribution it provides methods to simplify access to commonly used c LinearAlgebraDistribution data For example</div><div class="ttdef"><b>Definition:</b> <a href="distributed__linear__algebra__infrastructure_8txt_source.html#l00232">distributed_linear_algebra_infrastructure.txt:232</a></div></div>
<div class="ttc" id="adistributed__linear__algebra__infrastructure_8txt_html_a735f6f26a559982261bb63ecfb78b016"><div class="ttname"><a href="distributed__linear__algebra__infrastructure_8txt.html#a735f6f26a559982261bb63ecfb78b016">first_row</a></div><div class="ttdeci">we refer the reader to the class documentation for a complete specification section oomph_communicator OomphCommunicator c Oomph lib employs MPI for distributed memory parallelisation Fundamental to MPI is the the C MPI bindings are utilised c Oomph lib provides the class c OomphCommunicator as an object oriented wrapper for a c MPI_Comm Calling c argv It initialises MPI(i.e. calls \c MPI_Init(argc, argv)) and creates \c oomph-lib 's global communicator section distributed_linear_algebra_object DistributedLinearAlgebraObject In this section we introduce the class c DistributedLinearAlgebraObject a base class for all distributed linear algebra objects This class encapsulates a c LinearAlgebraDistribution it provides methods to simplify access to commonly used c LinearAlgebraDistribution data For because a c CRDoubleMatrix is a c until first_row()</div></div>
<div class="ttc" id="adistributed__linear__algebra__infrastructure_8txt_html_ae451763b0d967dcfefea36b518bfe9f0"><div class="ttname"><a href="distributed__linear__algebra__infrastructure_8txt.html#ae451763b0d967dcfefea36b518bfe9f0">communicator</a></div><div class="ttdeci">we refer the reader to the class documentation for a complete specification section oomph_communicator OomphCommunicator c Oomph lib employs MPI for distributed memory parallelisation Fundamental to MPI is the communicator(\c MPI_Comm) which determines which processes are involved in a parallel computation. Although \c oomph-lib is implemented in C++</div></div>
<div class="ttc" id="adistributed__linear__algebra__infrastructure_8txt_html_adb3296e203def8ae141d705b7fd285f2"><div class="ttname"><a href="distributed__linear__algebra__infrastructure_8txt.html#adb3296e203def8ae141d705b7fd285f2">parallel</a></div><div class="ttdeci">mainpage Distributed Linear Algebra Infrastructure In this document we provide an overview of c oomph lib s distributed linear algebra discussing its design and key functionality The aim of this framework is to facilitate the parallel(distributed) execution of linear algebra type operations with little(or no) user intervention. This requires all linear algebra data and computations to be distributed over all available processes. We begin by defining the \c OomphCommunicator</div></div>
<div class="ttc" id="adistributed__linear__algebra__infrastructure_8txt_html_aa043904665155b56fb2b5bc86636f402"><div class="ttname"><a href="distributed__linear__algebra__infrastructure_8txt.html#aa043904665155b56fb2b5bc86636f402">DistributedLinearAlgebraObject</a></div><div class="ttdeci">we refer the reader to the class documentation for a complete specification section oomph_communicator OomphCommunicator c Oomph lib employs MPI for distributed memory parallelisation Fundamental to MPI is the the C MPI bindings are utilised c Oomph lib provides the class c OomphCommunicator as an object oriented wrapper for a c MPI_Comm Calling c argv It initialises MPI(i.e. calls \c MPI_Init(argc, argv)) and creates \c oomph-lib 's global communicator section distributed_linear_algebra_object DistributedLinearAlgebraObject In this section we introduce the class c DistributedLinearAlgebraObject a base class for all distributed linear algebra objects This class encapsulates a c LinearAlgebraDistribution it provides methods to simplify access to commonly used c LinearAlgebraDistribution data For because a c CRDoubleMatrix is a c DistributedLinearAlgebraObject</div><div class="ttdef"><b>Definition:</b> <a href="distributed__linear__algebra__infrastructure_8txt_source.html#l00233">distributed_linear_algebra_infrastructure.txt:233</a></div></div>
<div class="ttc" id="adistributed__linear__algebra__infrastructure_8txt_html_a6158430c3ab91b4d433bbf4b6af606fa"><div class="ttname"><a href="distributed__linear__algebra__infrastructure_8txt.html#a6158430c3ab91b4d433bbf4b6af606fa">containers</a></div><div class="ttdeci">mainpage Distributed Linear Algebra Infrastructure In this document we provide an overview of c oomph lib s distributed linear algebra discussing its design and key functionality The aim of this framework is to facilitate the a class that is fundamental to distributed computing in c oomph lib Next we discuss the class c LinearAlgebraDistribution which specifies the distribution of the data and computations over the available processes In Sections ref double_vector ref cr_double_matrix and ref distributed_linear_algebra_object we discuss c oomph lib s distributed linear algebra objects including the key containers(matrices and vectors) and operators(solvers and preconditioners). Finally</div></div>
<div class="ttc" id="adistributed__linear__algebra__infrastructure_8txt_html_a5054677e2f4621bf7f58e1ad6b358579"><div class="ttname"><a href="distributed__linear__algebra__infrastructure_8txt.html#a5054677e2f4621bf7f58e1ad6b358579">types</a></div><div class="ttdeci">c DistributedLinearAlgebraObjects can be divided into two types</div><div class="ttdef"><b>Definition:</b> <a href="distributed__linear__algebra__infrastructure_8txt_source.html#l00247">distributed_linear_algebra_infrastructure.txt:247</a></div></div>
<div class="ttc" id="adistributed__linear__algebra__infrastructure_8txt_html_a7ed178dcab978ed1af6ad487ee471bb6"><div class="ttname"><a href="distributed__linear__algebra__infrastructure_8txt.html#a7ed178dcab978ed1af6ad487ee471bb6">hand</a></div><div class="ttdeci">c DistributedLinearAlgebraObjects can be divided into two all c c IterativeLinearSolvers and c Preconditioners(discussed in the&lt; a href=&quot;../../../linear_solvers/html/index.html&quot;&gt;Linear Solvers Tutorial&lt;/A &gt;) are \c DistributedLinearAlgebraObjects. We finish this section by reviewing the key linear algebra operators On the other hand</div><div class="ttdef"><b>Definition:</b> <a href="distributed__linear__algebra__infrastructure_8txt_source.html#l00248">distributed_linear_algebra_infrastructure.txt:248</a></div></div>
<div class="ttc" id="adistributed__linear__algebra__infrastructure_8txt_html_a69fed3e93766dd4d6c4ef6bf9c1803fd"><div class="ttname"><a href="distributed__linear__algebra__infrastructure_8txt.html#a69fed3e93766dd4d6c4ef6bf9c1803fd">framework</a></div><div class="ttdeci">mainpage Distributed Linear Algebra Infrastructure In this document we provide an overview of c oomph lib s distributed linear algebra framework</div><div class="ttdef"><b>Definition:</b> <a href="distributed__linear__algebra__infrastructure_8txt_source.html#l00004">distributed_linear_algebra_infrastructure.txt:4</a></div></div>
<div class="ttc" id="adistributed__linear__algebra__infrastructure_8txt_html_a056e3e219f7a380b8c5beb5cb2f1c910"><div class="ttname"><a href="distributed__linear__algebra__infrastructure_8txt.html#a056e3e219f7a380b8c5beb5cb2f1c910">LinearSolvers</a></div><div class="ttdeci">c DistributedLinearAlgebraObjects can be divided into two all c LinearSolvers</div><div class="ttdef"><b>Definition:</b> <a href="distributed__linear__algebra__infrastructure_8txt_source.html#l00247">distributed_linear_algebra_infrastructure.txt:247</a></div></div>
<div class="ttc" id="adistributed__linear__algebra__infrastructure_8txt_html_a030a75b8fa88287cb996c32864a8ac1b"><div class="ttname"><a href="distributed__linear__algebra__infrastructure_8txt.html#a030a75b8fa88287cb996c32864a8ac1b">provides</a></div><div class="ttdeci">we refer the reader to the class documentation for a complete specification section oomph_communicator OomphCommunicator c Oomph lib employs MPI for distributed memory parallelisation Fundamental to MPI is the the C MPI bindings are utilised c Oomph lib provides the class c OomphCommunicator as an object oriented wrapper for a c MPI_Comm Calling c argv It initialises MPI(i.e. calls \c MPI_Init(argc, argv)) and creates \c oomph-lib 's global communicator section distributed_linear_algebra_object DistributedLinearAlgebraObject In this section we introduce the class c DistributedLinearAlgebraObject a base class for all distributed linear algebra objects This class encapsulates a c LinearAlgebraDistribution provides(protected) access to derived classes to update(\c build_distribution(...)) and clear(\c clear()) the stored distribution. Secondly</div></div>

    <!-- jQuery for Bootstrap and Doxygen -->
    <script src="../../../js/jquery-1.12.0.min.js"></script>
    <!-- Minified boostrap plugins-->
    <script src="../../../js/bootstrap.js"></script>
    <!-- Doxygen dependency to add powertips to source code-->
    <script src="../../../js/jquery.powertip.min.js"></script>
    <!-- The  following script is generated by doxygen and hides/shows levels in 
         the data structure lists and adds powertips to source code-->
    <script src="../../../js/dynsections.js" ></script>
    <!-- add to Doxygen's class names so bootstrap css and js recognises them-->
    <script type="text/javascript">
    $(".contents").addClass("container");
    $(".header").addClass("container");
    $(".navpath").addClass("container");
    $("#navrow3").addClass("container");
    $("#navrow4").addClass("container");
    $(".mlabel").addClass("label");
    $(".mlabel").addClass("label-default");
    $(".memitem").addClass("panel");
    $(".memitem").addClass("panel-info");
    $(".memproto").addClass("panel-heading");
    $(".memdoc").addClass("panel-body");
    </script>
    <footer>
      <div class="container">
        <div class="text-muted" style="float:right;">Generated by <a href="http://www.doxygen.org/index.html">
          <img style="height:18px;" class="footer-img" src="doxygen.png" alt="doxygen"></a> on Wed Sep 8 2021 20:46:54
        </div>
      </div>
    </footer>
</body>
</html>
