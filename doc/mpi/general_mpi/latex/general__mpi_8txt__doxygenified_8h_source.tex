\hypertarget{general__mpi_8txt__doxygenified_8h_source}{}\doxysection{general\+\_\+mpi.\+txt\+\_\+doxygenified.\+h}
\mbox{\hyperlink{general__mpi_8txt__doxygenified_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00001}00001 \textcolor{comment}{/**}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00002}00002 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00003}00003 \textcolor{comment}{\(\backslash\)mainpage Parallel processing}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00004}00004 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00005}00005 \textcolor{comment}{\(\backslash\)c oomph-\/lib is designed so that,}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00006}00006 \textcolor{comment}{provided the library is compiled with MPI support, discussed below in }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00007}00007 \textcolor{comment}{ \(\backslash\)ref basics, many of the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00008}00008 \textcolor{comment}{most computationally-\/expensive phases of a typical computation are }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00009}00009 \textcolor{comment}{automatically performed in parallel. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00010}00010 \textcolor{comment}{Examples of "{}automatically parallelised"{} tasks include}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00011}00011 \textcolor{comment}{-\/ The assembly of the Jacobian matrix and the residual vector in}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00012}00012 \textcolor{comment}{  Newton's method.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00013}00013 \textcolor{comment}{-\/ Error estimation.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00014}00014 \textcolor{comment}{-\/ The solution of the linear systems within the Newton iteration, and any}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00015}00015 \textcolor{comment}{  preconditioning operations performed within \(\backslash\)c oomph-\/lib's }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00016}00016 \textcolor{comment}{  <a  href="{}../../../mpi/block\_preconditioners/html/index.html"{}>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00017}00017 \textcolor{comment}{  block-\/preconditioning framework</a> which relies heavily on the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00018}00018 \textcolor{comment}{  library's }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00019}00019 \textcolor{comment}{  <a href="{}../../../mpi/distributed\_linear\_algebra\_infrastructure/html/index.html"{}>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00020}00020 \textcolor{comment}{  distributed linear algebra infrastructure.</a>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00021}00021 \textcolor{comment}{.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00022}00022 \textcolor{comment}{The only parallel task that requires user intervention is }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00023}00023 \textcolor{comment}{the distribution of a problem over multiple processors}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00024}00024 \textcolor{comment}{so that each processor stores a subset of the elements. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00025}00025 \textcolor{comment}{For}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00026}00026 \textcolor{comment}{straightforward problems, a single call to  \(\backslash\)c Problem::distribute() }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00027}00027 \textcolor{comment}{suffices.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00028}00028 \textcolor{comment}{Furthermore, the majority of \(\backslash\)c oomph-\/lib's}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00029}00029 \textcolor{comment}{multi-\/physics helper functions (<em> e.g.</em> the automatic setup of the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00030}00030 \textcolor{comment}{fluid load on solid elements in FSI problems; the determination}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00031}00031 \textcolor{comment}{of "{}source elements"{} in multi-\/field problems; etc) can be used in}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00032}00032 \textcolor{comment}{distributed problems. For less-\/straightforward problems, the user may }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00033}00033 \textcolor{comment}{have to intervene in the distribution process and/or be aware of the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00034}00034 \textcolor{comment}{consequences of the distribution. Hence, the section \(\backslash\)ref domain\_decomposition}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00035}00035 \textcolor{comment}{provides an overview of the underlying design used for problem}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00036}00036 \textcolor{comment}{distribution within \(\backslash\)c oomph-\/lib. A number of }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00037}00037 \textcolor{comment}{<a href="{}../../../example\_code\_list/html/index.html\#parallel"{}>demo}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00038}00038 \textcolor{comment}{driver codes for distributed problems</a> are provided and}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00039}00039 \textcolor{comment}{any additional issues are discussed in the accompanying tutorials.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00040}00040 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00041}00041 \textcolor{comment}{\(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00042}00042 \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00043}00043 \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00044}00044 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00045}00045 \textcolor{comment}{\(\backslash\)section basics Basic parallel usage}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00046}00046 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00047}00047 \textcolor{comment}{\(\backslash\)subsection installation How to build/install oomph-\/lib with MPI support}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00048}00048 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00049}00049 \textcolor{comment}{-\/ To compile \(\backslash\)c oomph-\/lib with MPI support you must specify the configure flag}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00050}00050 \textcolor{comment}{  \(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00051}00051 \textcolor{comment}{  \(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00052}00052 \textcolor{comment}{  -\/-\/enable-\/MPI}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00053}00053 \textcolor{comment}{  \(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00054}00054 \textcolor{comment}{  \(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00055}00055 \textcolor{comment}{  If you use \(\backslash\)c oomph-\/lib's <code>autogen.sh</code> script to build}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00056}00056 \textcolor{comment}{  the library you should add this line to the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00057}00057 \textcolor{comment}{  <code>config/configure\_options/current</code> file.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00058}00058 \textcolor{comment}{  You should also ensure that appropriate parallel compilers are specified by }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00059}00059 \textcolor{comment}{  the \(\backslash\)c CXX, \(\backslash\)c CC, \(\backslash\)c F77 and \(\backslash\)c LD flags. For instance, if you use }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00060}00060 \textcolor{comment}{  <a href="{}http://www.lam-\/mpi.org/"{}>LAM</a>, }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00061}00061 \textcolor{comment}{  you should use \(\backslash\)c CXX=mpic++, \(\backslash\)c CC=mpicc, \(\backslash\)c F77=mpif77 and \(\backslash\)c LD=mpif77.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00062}00062 \textcolor{comment}{  \(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00063}00063 \textcolor{comment}{-\/ When \(\backslash\)c oomph-\/lib is built with MPI support, the macro \(\backslash\)c}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00064}00064 \textcolor{comment}{  OOMPH\_HAS\_MPI is defined. It is used to isolate parallel }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00065}00065 \textcolor{comment}{  sections of code to ensure that the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00066}00066 \textcolor{comment}{  library can be used in serial and parallel: <em> e.g. </em>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00067}00067 \textcolor{comment}{  \(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00068}00068 \textcolor{comment}{  \(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00069}00069 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00070}00070 \textcolor{comment}{  [...]}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00071}00071 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00072}00072 \textcolor{comment}{  \#ifdef OOMPH\_HAS\_MPI}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00073}00073 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00074}00074 \textcolor{comment}{     std::cout << "{}This code has been compiled with mpi support \(\backslash\)n "{} }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00075}00075 \textcolor{comment}{               << "{}and is running on "{} << Communicator\_pt-\/>nproc() }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00076}00076 \textcolor{comment}{               << "{} processors. "{} << std::endl;}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00077}00077 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00078}00078 \textcolor{comment}{  \#else}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00079}00079 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00080}00080 \textcolor{comment}{     std::cout << "{}This code has been compiled without mpi support"{} }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00081}00081 \textcolor{comment}{               << std::endl;}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00082}00082 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00083}00083 \textcolor{comment}{  \#endif}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00084}00084 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00085}00085 \textcolor{comment}{  [...]}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00086}00086 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00087}00087 \textcolor{comment}{  \(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00088}00088 \textcolor{comment}{  \(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00089}00089 \textcolor{comment}{.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00090}00090 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00091}00091 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00092}00092 \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00093}00093 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00094}00094 \textcolor{comment}{\(\backslash\)subsection running How to run a driver code in parallel}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00095}00095 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00096}00096 \textcolor{comment}{-\/ MPI <strong> must </strong> be initialised in every driver code }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00097}00097 \textcolor{comment}{ that is to be run in  parallel, which means that the }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00098}00098 \textcolor{comment}{  commands \(\backslash\)c MPI\_Helpers::init(...) and \(\backslash\)c  MPI\_Helpers::finalize()}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00099}00099 \textcolor{comment}{  must be added to the beginning and end of the \(\backslash\)c main(...) function, }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00100}00100 \textcolor{comment}{  respectively }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00101}00101 \textcolor{comment}{  \(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00102}00102 \textcolor{comment}{  \(\backslash\)code   }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00103}00103 \textcolor{comment}{  int main(int argc, char **argv)}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00104}00104 \textcolor{comment}{    \{ }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00105}00105 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00106}00106 \textcolor{comment}{      // Initialise oomph-\/lib's MPI       }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00107}00107 \textcolor{comment}{      MPI\_Helpers::init(argc,argv);     }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00108}00108 \textcolor{comment}{    }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00109}00109 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00110}00110 \textcolor{comment}{      // Normal "{}serial"{} code}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00111}00111 \textcolor{comment}{      [...]  }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00112}00112 \textcolor{comment}{ }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00113}00113 \textcolor{comment}{      }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00114}00114 \textcolor{comment}{      // Shut down oomph-\/lib's MPI}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00115}00115 \textcolor{comment}{      MPI\_Helpers::finalize();}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00116}00116 \textcolor{comment}{    \}}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00117}00117 \textcolor{comment}{  \(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00118}00118 \textcolor{comment}{  \(\backslash\)n  }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00119}00119 \textcolor{comment}{  Running the code on multiple processors should immediately lead to a}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00120}00120 \textcolor{comment}{ speedup, although this depends on the specific problem. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00121}00121 \textcolor{comment}{ In most applications, the most computationally-\/expensive tasks}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00122}00122 \textcolor{comment}{  are the setup of the Jacobian matrix and the solution of the }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00123}00123 \textcolor{comment}{  linear systems. When a driver code is run on multiple processors,}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00124}00124 \textcolor{comment}{  each processor assembles contributions to the Jacobian matrix from a}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00125}00125 \textcolor{comment}{  different subset of the elements, dividing the work of the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00126}00126 \textcolor{comment}{  assembly between processors. In our experience, }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00127}00127 \textcolor{comment}{  the assembly of the Jacobian}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00128}00128 \textcolor{comment}{  matrix tends to scale very well with the number of processors. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00129}00129 \textcolor{comment}{  The parallel performance of }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00130}00130 \textcolor{comment}{  the (third-\/party) linear solvers available from within \(\backslash\)c oomph-\/lib}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00131}00131 \textcolor{comment}{  varies greatly and their performance is also strongly dependent on}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00132}00132 \textcolor{comment}{  the underlying hardware, <em> e.g.</em> the speed of your machine's }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00133}00133 \textcolor{comment}{  interconnects, etc.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00134}00134 \textcolor{comment}{  \(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00135}00135 \textcolor{comment}{-\/ The MPI header file \(\backslash\)c mpi.h is included in \(\backslash\)c oomph-\/lib's}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00136}00136 \textcolor{comment}{  generic header, so it is not necessary to include it in the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00137}00137 \textcolor{comment}{  driver code. The functions \(\backslash\)c MPI\_Helpers::init(...) }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00138}00138 \textcolor{comment}{  and \(\backslash\)c  MPI\_Helpers::finalize() call their MPI counterparts,}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00139}00139 \textcolor{comment}{  \(\backslash\)c MPI\_Init(...) and \(\backslash\)c MPI\_Finalize(), which \(\backslash\)b must \(\backslash\)b not be called}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00140}00140 \textcolor{comment}{  again.  Note also that the \(\backslash\)c main(...) function must take arguments}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00141}00141 \textcolor{comment}{  which are then passed into the \(\backslash\)c MPI\_Helpers::init(...) function.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00142}00142 \textcolor{comment}{  \(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00143}00143 \textcolor{comment}{-\/ The command used to run a parallel job depends on your particular}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00144}00144 \textcolor{comment}{  MPI installation. If you use <a href="{}http://www.open-\/mpi.org/"{}>OpenMPI</a>,}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00145}00145 \textcolor{comment}{  for example, the executable \(\backslash\)c parallel\_executable is run on, say, four }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00146}00146 \textcolor{comment}{  processors by issuing the command}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00147}00147 \textcolor{comment}{  \(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00148}00148 \textcolor{comment}{  \(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00149}00149 \textcolor{comment}{  mpirun -\/np 4 ./parallel\_executable}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00150}00150 \textcolor{comment}{  \(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00151}00151 \textcolor{comment}{  \(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00152}00152 \textcolor{comment}{.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00153}00153 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00154}00154 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00155}00155 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00156}00156 \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00157}00157 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00158}00158 \textcolor{comment}{\(\backslash\)subsection solvers oomph-\/lib's parallel linear solvers}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00159}00159 \textcolor{comment}{-\/ \(\backslash\)c oomph-\/lib's default linear solver is \(\backslash\)c SuperLUSolver. This is a}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00160}00160 \textcolor{comment}{  wrapper to the direct linear solvers from the }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00161}00161 \textcolor{comment}{  <A HREF="{}http://crd.lbl.gov/\string~xiaoye/SuperLU"{}>SuperLU /}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00162}00162 \textcolor{comment}{  SuperLU\_DIST</A> projects. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00163}00163 \textcolor{comment}{  If \(\backslash\)c oomph-\/lib is built with MPI support and the executable is}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00164}00164 \textcolor{comment}{  run on multiple processors, \(\backslash\)c SuperLU\_DIST will be used by default,}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00165}00165 \textcolor{comment}{  otherwise \(\backslash\)c SuperLU is used.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00166}00166 \textcolor{comment}{  \(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00167}00167 \textcolor{comment}{-\/ Of \(\backslash\)c oomph-\/lib's own iterative linear solvers, only \(\backslash\)c CG}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00168}00168 \textcolor{comment}{  is parallelised. We recommend using \(\backslash\)c oomph-\/lib's  wrapper to the }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00169}00169 \textcolor{comment}{  parallel Krylov subspace solvers from the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00170}00170 \textcolor{comment}{  <a href="{}http://trilinos.sandia.gov/"{}>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00171}00171 \textcolor{comment}{  Trilinos </a> library (see }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00172}00172 \textcolor{comment}{  <a href="{}../../../the\_distribution/html/index.html\#external\_dist"{}> }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00173}00173 \textcolor{comment}{  the \(\backslash\)c oomph-\/lib installation page</a> for details on how to install}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00174}00174 \textcolor{comment}{  this) instead. The interfaces are identical to those}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00175}00175 \textcolor{comment}{  used to call these solvers in serial; see }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00176}00176 \textcolor{comment}{  <a href="{}../../../linear\_solvers/html/index.html"{}> the linear solver}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00177}00177 \textcolor{comment}{  tutorial</a> for details.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00178}00178 \textcolor{comment}{  \(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00179}00179 \textcolor{comment}{-\/ \(\backslash\)c oomph-\/lib's block preconditioning framework is fully }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00180}00180 \textcolor{comment}{  parallelised and can be used in the same way as in a serial code.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00181}00181 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00182}00182 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00183}00183 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00184}00184 \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00185}00185 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00186}00186 \textcolor{comment}{\(\backslash\)subsection self\_tests How to include parallel demo codes into the self-\/tests}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00187}00187 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00188}00188 \textcolor{comment}{-\/ The configure flag \(\backslash\)c -\/-\/with-\/mpi-\/self-\/tests includes }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00189}00189 \textcolor{comment}{  \(\backslash\)c oomph-\/lib's parallel demo driver codes into the self-\/tests }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00190}00190 \textcolor{comment}{  executed when \(\backslash\)c make \(\backslash\)c check is run. The self-\/tests}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00191}00191 \textcolor{comment}{  require the executable to be run on two processors and the command }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00192}00192 \textcolor{comment}{  that spawns a two-\/processor parallel job on the target}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00193}00193 \textcolor{comment}{  machine must be specified as an argument to the configure flag. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00194}00194 \textcolor{comment}{  For example, under <a href="{}http://www.lam-\/mpi.org/"{}>LAM</a>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00195}00195 \textcolor{comment}{  \(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00196}00196 \textcolor{comment}{  \(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00197}00197 \textcolor{comment}{  -\/-\/with-\/mpi-\/self-\/tests="{}mpirun -\/np 2"{}}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00198}00198 \textcolor{comment}{  \(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00199}00199 \textcolor{comment}{  \(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00200}00200 \textcolor{comment}{  Some self-\/tests are performed with a greater number of processors.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00201}00201 \textcolor{comment}{  To perform these tests as part of the \(\backslash\)c make \(\backslash\)c test procedure,}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00202}00202 \textcolor{comment}{  add the configure flag  \(\backslash\)c -\/-\/with-\/mpi-\/self-\/tests-\/variablenp}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00203}00203 \textcolor{comment}{  to the configure options. Its argument has to specify how to spawn}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00204}00204 \textcolor{comment}{  an mpi job on an arbitrary number of processors, using the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00205}00205 \textcolor{comment}{  placeholder \(\backslash\)c OOMPHNP for the number of processors. E.g. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00206}00206 \textcolor{comment}{  \(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00207}00207 \textcolor{comment}{  \(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00208}00208 \textcolor{comment}{  -\/-\/with-\/mpi-\/self-\/tests-\/variablenp="{}mpirun -\/np OOMPHNP"{}}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00209}00209 \textcolor{comment}{  \(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00210}00210 \textcolor{comment}{  \(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00211}00211 \textcolor{comment}{  It is easiest to add the appropriate lines to the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00212}00212 \textcolor{comment}{  <code>config/configure\_options/current</code> file before}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00213}00213 \textcolor{comment}{  building/installing \(\backslash\)c oomph-\/lib with <code>autogen.sh</code>.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00214}00214 \textcolor{comment}{  \(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00215}00215 \textcolor{comment}{  \(\backslash\)b NOTE: When using LAM, make sure your MPI demons are started}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00216}00216 \textcolor{comment}{  before running the parallel self-\/tests, e.g. by using the \(\backslash\)c lamboot }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00217}00217 \textcolor{comment}{  command, otherwise the self-\/tests will fail. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00218}00218 \textcolor{comment}{.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00219}00219 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00220}00220 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00221}00221 \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00222}00222 \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00223}00223 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00224}00224 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00225}00225 \textcolor{comment}{\(\backslash\)section domain\_decomposition Distribution of problems by domain decomposition}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00226}00226 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00227}00227 \textcolor{comment}{By default each processor stores the entire \(\backslash\)c Problem object, which}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00228}00228 \textcolor{comment}{means that all data is available on all processors. As a result the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00229}00229 \textcolor{comment}{size of the problem is limited by the smallest amount of memory}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00230}00230 \textcolor{comment}{available on any of the processors. In addition, the mesh adaptation }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00231}00231 \textcolor{comment}{does not benefit from parallel processing because each }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00232}00232 \textcolor{comment}{processor must adapt its own copy of the entire mesh, even though it}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00233}00233 \textcolor{comment}{operates on a subset of the elements when assembling the Jacobian }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00234}00234 \textcolor{comment}{matrix.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00235}00235 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00236}00236 \textcolor{comment}{To address this problem, \(\backslash\)c oomph-\/lib's domain decomposition}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00237}00237 \textcolor{comment}{procedures allow a \(\backslash\)c Problem}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00238}00238 \textcolor{comment}{to be distributed over multiple processors so that each processor }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00239}00239 \textcolor{comment}{holds a fraction of the \(\backslash\)c Problem's elements, which }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00240}00240 \textcolor{comment}{can lead to substantial reductions in memory usage per processor and}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00241}00241 \textcolor{comment}{allows the mesh adaptation to be performed in parallel. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00242}00242 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00243}00243 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00244}00244 \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00245}00245 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00246}00246 \textcolor{comment}{\(\backslash\)subsection how\_to\_distribute Basic usage: How to distribute a simple problem}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00247}00247 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00248}00248 \textcolor{comment}{-\/ In most cases the problem distribution is extremely}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00249}00249 \textcolor{comment}{  straightforward. Given an existing serial driver code,}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00250}00250 \textcolor{comment}{  modified by the addition of calls to \(\backslash\)c MPI\_Helpers::init(...) }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00251}00251 \textcolor{comment}{  and \(\backslash\)c  MPI\_Helpers::finalize(), the function}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00252}00252 \textcolor{comment}{  \(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00253}00253 \textcolor{comment}{  \(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00254}00254 \textcolor{comment}{  Problem::distribute()}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00255}00255 \textcolor{comment}{  \(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00256}00256 \textcolor{comment}{  \(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00257}00257 \textcolor{comment}{  can be called at any point \(\backslash\)b after the \(\backslash\)c Problem has been }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00258}00258 \textcolor{comment}{  constructed and equation numbers have been assigned }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00259}00259 \textcolor{comment}{  (i.e. at a point at which \(\backslash\)c Problem::newton\_solve()}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00260}00260 \textcolor{comment}{  could be called), but \(\backslash\)b before any <b>non</b>-\/uniform mesh refinement has }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00261}00261 \textcolor{comment}{  taken place. Equation numbering is required because }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00262}00262 \textcolor{comment}{  the automatic distribution procedure uses the global}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00263}00263 \textcolor{comment}{  equation numbering scheme to identify interactions between elements}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00264}00264 \textcolor{comment}{  and attempts to store strongly-\/coupled elements on the same}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00265}00265 \textcolor{comment}{  processor. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00266}00266 \textcolor{comment}{  \(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00267}00267 \textcolor{comment}{  After the call to \(\backslash\)c Problem::distribute() each processor}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00268}00268 \textcolor{comment}{  holds a sub-\/set of the \(\backslash\)c Problem's elements: those elements}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00269}00269 \textcolor{comment}{  whose contribution to the Jacobian are assembled by the processor, }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00270}00270 \textcolor{comment}{  and additional "{}halo"{} elements}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00271}00271 \textcolor{comment}{  that are retained to facilitate the subsequent mesh adaptation.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00272}00272 \textcolor{comment}{  (Halo elements are discussed in the \(\backslash\)ref how\_it\_works}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00273}00273 \textcolor{comment}{  below). We note that the meshes' boundary lookup schemes }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00274}00274 \textcolor{comment}{  are updated during the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00275}00275 \textcolor{comment}{  distribution process so that \(\backslash\)c Mesh::nboundary\_element(b) returns the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00276}00276 \textcolor{comment}{  number of elements on the processor }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00277}00277 \textcolor{comment}{  that are adjacent to boundary \(\backslash\)c b. Hence, }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00278}00278 \textcolor{comment}{  functions that were written (in serial) to}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00279}00279 \textcolor{comment}{  update time-\/dependent boundary conditions on a mesh's boundary}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00280}00280 \textcolor{comment}{  nodes, say, continue to work in parallel without requiring any}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00281}00281 \textcolor{comment}{  modifications. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00282}00282 \textcolor{comment}{  \(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00283}00283 \textcolor{comment}{-\/ Now that each processor holds a subset of the \(\backslash\)c Problem's }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00284}00284 \textcolor{comment}{  elements, it is sensible to modify the post-\/processing }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00285}00285 \textcolor{comment}{  routines such that output files are labelled by the processor }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00286}00286 \textcolor{comment}{  number:}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00287}00287 \textcolor{comment}{  \(\backslash\)n\(\backslash\)n }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00288}00288 \textcolor{comment}{  \(\backslash\)dontinclude adaptive\_driven\_cavity.cc}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00289}00289 \textcolor{comment}{  \(\backslash\)skipline start\_of\_doc\_solution}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00290}00290 \textcolor{comment}{  \(\backslash\)until end\_of\_doc\_solution}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00291}00291 \textcolor{comment}{  \(\backslash\)n }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00292}00292 \textcolor{comment}{  Without such a modification multiple processors will attempt to}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00293}00293 \textcolor{comment}{  write to the same file, leading to incomplete output if/when the file }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00294}00294 \textcolor{comment}{  produced by one processor is overwritten by another. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00295}00295 \textcolor{comment}{  By default, \(\backslash\)c oomph-\/lib's mesh-\/based output functions do}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00296}00296 \textcolor{comment}{  not include output from halo elements; this can be re-\/enabled or}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00297}00297 \textcolor{comment}{  disabled by calls to}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00298}00298 \textcolor{comment}{  \(\backslash\)n\(\backslash\)n }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00299}00299 \textcolor{comment}{  \(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00300}00300 \textcolor{comment}{  Mesh::enable\_output\_of\_halo\_elements()}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00301}00301 \textcolor{comment}{  \(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00302}00302 \textcolor{comment}{  \(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00303}00303 \textcolor{comment}{  or}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00304}00304 \textcolor{comment}{  \(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00305}00305 \textcolor{comment}{  \(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00306}00306 \textcolor{comment}{  Mesh::disable\_output\_of halo\_elements()}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00307}00307 \textcolor{comment}{  \(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00308}00308 \textcolor{comment}{  \(\backslash\)n }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00309}00309 \textcolor{comment}{  respectively.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00310}00310 \textcolor{comment}{  \(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00311}00311 \textcolor{comment}{-\/ Other, equally-\/straightforward modifications to existing driver codes}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00312}00312 \textcolor{comment}{  tend to be required if the serial version of the code contains explicit}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00313}00313 \textcolor{comment}{  references to individual elements or nodes, <em> e.g. </em> }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00314}00314 \textcolor{comment}{  pinning a pressure}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00315}00315 \textcolor{comment}{  value in a Navier-\/-\/Stokes computation with enclosed boundaries. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00316}00316 \textcolor{comment}{  In such cases, it is important to remember that, once the problem }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00317}00317 \textcolor{comment}{  is distributed, \(\backslash\)b (i) not every processor has direct access to a}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00318}00318 \textcolor{comment}{  specific element (or node), and  \(\backslash\)b (ii) the pointer to the "{}first"{} }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00319}00319 \textcolor{comment}{  element in a mesh (say) points to a different element on each processor.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00320}00320 \textcolor{comment}{  The particular example of pinning a pressure degree of freedom in a}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00321}00321 \textcolor{comment}{  Navier-\/-\/Stokes problem is discussed in detail in the }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00322}00322 \textcolor{comment}{  <a href="{}../../adaptive\_driven\_cavity/html/index.html"{}>adaptive}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00323}00323 \textcolor{comment}{  driven cavity tutorial</a>.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00324}00324 \textcolor{comment}{. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00325}00325 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00326}00326 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00327}00327 \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00328}00328 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00329}00329 \textcolor{comment}{\(\backslash\)subsection how\_it\_works Overview of the implementation of Problem distribution}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00330}00330 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00331}00331 \textcolor{comment}{  The main task of the \(\backslash\)c Problem::distribute() function is}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00332}00332 \textcolor{comment}{to distribute the \(\backslash\)c Problem's global mesh (possibly}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00333}00333 \textcolor{comment}{comprising multiple sub-\/meshes) amongst the processors so that }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00334}00334 \textcolor{comment}{<b>(a)</b> the storage requirements on each processor are reduced;}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00335}00335 \textcolor{comment}{<b>(b)</b>  during the mesh adaptation each processor only acts}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00336}00336 \textcolor{comment}{on a fraction of the overall mesh; while ensuring that <b>(c)</b> }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00337}00337 \textcolor{comment}{communication between processors required to synchronise any shared }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00338}00338 \textcolor{comment}{ data structures is minimised. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00339}00339 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00340}00340 \textcolor{comment}{The figure below shows a conceptual sketch of the parallelisation}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00341}00341 \textcolor{comment}{strategy adopted. For simplicity, we shall restrict the discussion}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00342}00342 \textcolor{comment}{to the 2D case and ignore various complications that arise with more }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00343}00343 \textcolor{comment}{complicated mesh partitionings.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00344}00344 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00345}00345 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00346}00346 \textcolor{comment}{ The initial distribution of a problem proceeds in two stages:}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00347}00347 \textcolor{comment}{ }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00348}00348 \textcolor{comment}{-\/ <b>Initial refinement and partitioning</b>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00349}00349 \textcolor{comment}{  \(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00350}00350 \textcolor{comment}{  Each processor constructs the same \(\backslash\)c Problem object, }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00351}00351 \textcolor{comment}{  using a (typically very coarse) initial mesh; in the figure below,}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00352}00352 \textcolor{comment}{  the mesh contains a single four-\/node quad. Repeated}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00353}00353 \textcolor{comment}{  calls to  \(\backslash\)c Problem::refine\_uniformly() should be made to increase the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00354}00354 \textcolor{comment}{  number of elements sufficiently for a sensible}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00355}00355 \textcolor{comment}{  mesh partitioning -\/-\/-\/ for example, }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00356}00356 \textcolor{comment}{  there should be at least as many elements as}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00357}00357 \textcolor{comment}{  processors. By default, }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00358}00358 \textcolor{comment}{  <A HREF="{}http://www-\/users.cs.umn.edu/\string~karypis/metis/"{}>METIS</A> }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00359}00359 \textcolor{comment}{  is used to associate each element}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00360}00360 \textcolor{comment}{  with a unique processor. Alternatively, user-\/defined distributions }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00361}00361 \textcolor{comment}{  may be specified via a vector that contains the processor number to be}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00362}00362 \textcolor{comment}{  associated with each element. Nodes located in the interior of a}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00363}00363 \textcolor{comment}{  processor's patch of elements are associated with that processor;}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00364}00364 \textcolor{comment}{  nodes shared by elements associated}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00365}00365 \textcolor{comment}{  with different processors are associated with the highest-\/numbered}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00366}00366 \textcolor{comment}{  processor.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00367}00367 \textcolor{comment}{  \(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00368}00368 \textcolor{comment}{-\/ <b>Identification of halo[ed] nodes/elements and pruning</b>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00369}00369 \textcolor{comment}{  \(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00370}00370 \textcolor{comment}{   The elements and nodes required by each processor must now be determined.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00371}00371 \textcolor{comment}{   Each processor retains its own elements:}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00372}00372 \textcolor{comment}{   those elements associated with the processor by the partitioning}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00373}00373 \textcolor{comment}{   process. In addition,}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00374}00374 \textcolor{comment}{   each processor retains a single layer of elements adjacent to }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00375}00375 \textcolor{comment}{   its own elements, and their nodes.  Nodes that lie directly}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00376}00376 \textcolor{comment}{   on the boundary between this layer and the processor's own elements}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00377}00377 \textcolor{comment}{   are shared between processors and are associated}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00378}00378 \textcolor{comment}{   with the highest-\/numbered processor, as explained above.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00379}00379 \textcolor{comment}{   These additional elements/nodes that are retained but not associated}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00380}00380 \textcolor{comment}{   with the processor are termed ``halo'' elements/nodes. Conversely, }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00381}00381 \textcolor{comment}{   objects are termed  ``haloed'' if they are associated with the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00382}00382 \textcolor{comment}{   processor,  but they have halo counterparts on other processors. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00383}00383 \textcolor{comment}{   [It is possible}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00384}00384 \textcolor{comment}{    to request that all elements in a mesh are retained as halo}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00385}00385 \textcolor{comment}{    elements. This is useful}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00386}00386 \textcolor{comment}{    in certain free-\/boundary problems; see the section }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00387}00387 \textcolor{comment}{   \(\backslash\)ref alg\_node\_update below for details].}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00388}00388 \textcolor{comment}{  \(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00389}00389 \textcolor{comment}{   At this stage of the process, each processor}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00390}00390 \textcolor{comment}{   has access to the entire mesh and it is, therefore, possible to establish }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00391}00391 \textcolor{comment}{   a consistent numbering scheme for halo[ed] elements/nodes.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00392}00392 \textcolor{comment}{  Once this information has been set up, any superfluous nodes and elements}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00393}00393 \textcolor{comment}{  are deleted and the mesh's boundary lookup-\/schemes (required to identify the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00394}00394 \textcolor{comment}{  nodes and elements located adjacent to domain boundaries) and}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00395}00395 \textcolor{comment}{  neighbour information for adaptive refinement are re-\/generated. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00396}00396 \textcolor{comment}{  Finally, each processor  independently assigns equation numbers for }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00397}00397 \textcolor{comment}{  its associated (non-\/halo) elements and nodes; the equation}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00398}00398 \textcolor{comment}{  numbers are then synchronised between processors.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00399}00399 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00400}00400 \textcolor{comment}{\(\backslash\)image html decomposition.gif "{}Sketch illustrating the phases of the parallel mesh adaptation procedure for a problem that is distributed over four processors. The columns illustrate the evolution of the mesh on each of the four processors. The colours of the objects indicate which processor is associated with them. "{} }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00401}00401 \textcolor{comment}{\(\backslash\)image latex decomposition.eps "{}Sketch illustrating the phases of the parallel mesh adaptation procedure for a problem that is distributed over four processors. The columns illustrate the evolution of the mesh on each of the four processors. The colours of the objects indicate which processor is associated with them. "{} width=0.75\(\backslash\)textwidth}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00402}00402 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00403}00403 \textcolor{comment}{  Aside from the initial refinement process, }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00404}00404 \textcolor{comment}{  the functionality described above is implemented in a single}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00405}00405 \textcolor{comment}{  function, \(\backslash\)c Problem::distribute(). Following its execution}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00406}00406 \textcolor{comment}{  on all processors, each processor can assemble its contribution to the }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00407}00407 \textcolor{comment}{  distributed Jacobian matrix and residual vector, required by}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00408}00408 \textcolor{comment}{  \(\backslash\)c oomph-\/lib's parallel linear solvers, using only }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00409}00409 \textcolor{comment}{  to locally stored non-\/halo objects. Once the Newton correction }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00410}00410 \textcolor{comment}{  to the unknowns has been computed, each processor updates the unknowns }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00411}00411 \textcolor{comment}{  associated with its elements and nodes, before MPI-\/based }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00412}00412 \textcolor{comment}{  communication is employed to update the unknowns stored at }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00413}00413 \textcolor{comment}{  the processors' halo nodes.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00414}00414 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00415}00415 \textcolor{comment}{  After a problem has been distributed, further mesh refinement can }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00416}00416 \textcolor{comment}{  be performed in parallel using the existing mesh adaptation }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00417}00417 \textcolor{comment}{  procedures on the (partial) meshes held on the different }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00418}00418 \textcolor{comment}{  processors. For spatially non-\/uniform refinement, each haloed}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00419}00419 \textcolor{comment}{  element communicates whether or not it is to be refined to its halo}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00420}00420 \textcolor{comment}{  counterparts before the adaptation takes place.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00421}00421 \textcolor{comment}{  Any nodes created during the refinement are associated }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00422}00422 \textcolor{comment}{  with a unique processor, using the rules described above, and halo[ed] }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00423}00423 \textcolor{comment}{  nodes are identified and added to the appropriate lookup schemes. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00424}00424 \textcolor{comment}{  These steps are performed automatically}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00425}00425 \textcolor{comment}{  when \(\backslash\)c Problem::refine\_uniformly() or any of the other}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00426}00426 \textcolor{comment}{  mesh adaptation routines within \(\backslash\)c oomph-\/lib are executed.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00427}00427 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00428}00428 \textcolor{comment}{<strong> Optional pruning of superfluous halo[ed] nodes and }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00429}00429 \textcolor{comment}{  elements </strong>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00430}00430 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00431}00431 \textcolor{comment}{  The parallel efficiency of the distributed mesh adaptation}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00432}00432 \textcolor{comment}{  (in terms of the memory required to hold the partial meshes, and }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00433}00433 \textcolor{comment}{  in terms of the CPU time required for their adaptation) is }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00434}00434 \textcolor{comment}{  limited by the fact that each processor must adapt not only }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00435}00435 \textcolor{comment}{  the \(\backslash\)f\$N\_\{\(\backslash\)rm in \(\backslash\) charge\}\(\backslash\)f\$ elements it is in charge of, }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00436}00436 \textcolor{comment}{  but also its \(\backslash\)f\$N\_\{\(\backslash\)rm halo\}\(\backslash\)f\$ halo elements. We define the efficiency }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00437}00437 \textcolor{comment}{  of the problem distribution as}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00438}00438 \textcolor{comment}{  \(\backslash\)f[ e\_\{dist\} = }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00439}00439 \textcolor{comment}{  \(\backslash\)frac\{N\_\{\(\backslash\)rm in \(\backslash\) charge\}\}\{N\_\{\(\backslash\)rm halo\} + N\_\{\(\backslash\)rm in \(\backslash\) charge\}\} }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00440}00440 \textcolor{comment}{  \(\backslash\)le 1, \(\backslash\)f]}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00441}00441 \textcolor{comment}{  where the equality could only be achieved in the absence of any }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00442}00442 \textcolor{comment}{  halo elements. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00443}00443 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00444}00444 \textcolor{comment}{  When the mesh is first distributed, the halo layer has a }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00445}00445 \textcolor{comment}{depth of one element, but repeated mesh refinement can make the halo}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00446}00446 \textcolor{comment}{layers (the original halo elements and their sons) much thicker than a}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00447}00447 \textcolor{comment}{single-\/element layer. Thus, to a large extent, the efficiency is determined }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00448}00448 \textcolor{comment}{during the initial problem }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00449}00449 \textcolor{comment}{  distribution and at that stage of the process it}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00450}00450 \textcolor{comment}{  can only be improved by <b>(i)</b> increasing the number of non-\/distributed}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00451}00451 \textcolor{comment}{  initial mesh refinements; <b>(ii)</b> reducing the number of}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00452}00452 \textcolor{comment}{  processors. Since both options reduce the parallelism they are not}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00453}00453 \textcolor{comment}{  desirable. It is possible, however, to improve the parallel }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00454}00454 \textcolor{comment}{  efficiency by  pruning superfluous halo[ed] elements after each}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00455}00455 \textcolor{comment}{  mesh refinement by  calling the function}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00456}00456 \textcolor{comment}{\(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00457}00457 \textcolor{comment}{\(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00458}00458 \textcolor{comment}{Problem::prune\_halo\_elements\_and\_nodes()}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00459}00459 \textcolor{comment}{\(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00460}00460 \textcolor{comment}{\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00461}00461 \textcolor{comment}{as illustrated in the figure. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00462}00462 \textcolor{comment}{If this is done }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00463}00463 \textcolor{comment}{  after every mesh adaptation \(\backslash\)f\$ e\_\{dist\}\(\backslash\)f\$  increases significantly as }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00464}00464 \textcolor{comment}{  the refinement proceeds. However, the pruning of halo[ed] nodes and elements }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00465}00465 \textcolor{comment}{  makes the refinement irreversible and the mesh(es) involved}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00466}00466 \textcolor{comment}{can no longer be unrefined below the previous highest level of uniform}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00467}00467 \textcolor{comment}{refinement.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00468}00468 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00469}00469 \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00470}00470 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00471}00471 \textcolor{comment}{\(\backslash\)subsection advanced Customising the distribution}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00472}00472 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00473}00473 \textcolor{comment}{ The procedures described above are completely sufficient }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00474}00474 \textcolor{comment}{ for straightforward problems, <em> e.g. </em> }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00475}00475 \textcolor{comment}{ a single mesh containing single-\/physics elements. For}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00476}00476 \textcolor{comment}{ less-\/straightforward problems, <em> e.g. </em> those that involve}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00477}00477 \textcolor{comment}{ interactions between multiple meshes, the interactions must be set up}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00478}00478 \textcolor{comment}{ both <strong> before </strong> and <strong> after </strong> the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00479}00479 \textcolor{comment}{ distribution. The functions }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00480}00480 \textcolor{comment}{\(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00481}00481 \textcolor{comment}{\(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00482}00482 \textcolor{comment}{Problem::actions\_before\_distribute()}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00483}00483 \textcolor{comment}{\(\backslash\)endcode }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00484}00484 \textcolor{comment}{\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00485}00485 \textcolor{comment}{and}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00486}00486 \textcolor{comment}{\(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00487}00487 \textcolor{comment}{\(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00488}00488 \textcolor{comment}{Problem::actions\_after\_distribute()}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00489}00489 \textcolor{comment}{\(\backslash\)endcode }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00490}00490 \textcolor{comment}{\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00491}00491 \textcolor{comment}{can be used to perform any additional commands required to complete}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00492}00492 \textcolor{comment}{ the setup of the problem after distribution. In many cases, these}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00493}00493 \textcolor{comment}{ functions will contain the same commands as those required in the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00494}00494 \textcolor{comment}{ equivalent \(\backslash\)c Problem::actions\_before\_adapt() and \(\backslash\)c}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00495}00495 \textcolor{comment}{ Problem::actions\_after\_adapt() functions used during mesh adaptation.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00496}00496 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00497}00497 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00498}00498 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00499}00499 \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00500}00500 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00501}00501 \textcolor{comment}{\(\backslash\)subsubsection face\_elements Distributing problems involving FaceElements}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00502}00502 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00503}00503 \textcolor{comment}{\(\backslash\)c FaceElements are typically used to apply Neumann/traction-\/type}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00504}00504 \textcolor{comment}{boundary conditions; see the tutorials that discuss the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00505}00505 \textcolor{comment}{application of such boundary conditions in}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00506}00506 \textcolor{comment}{<a href="{}../../../poisson/two\_d\_poisson\_flux\_bc/html/index.html"{}>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00507}00507 \textcolor{comment}{Poisson</a> or}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00508}00508 \textcolor{comment}{<a href="{}../../../navier\_stokes/rayleigh\_traction\_channel/html/index.html"{}>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00509}00509 \textcolor{comment}{Navier-\/Stokes</a> equations. Since the \(\backslash\)c FaceElements}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00510}00510 \textcolor{comment}{that apply the Neumann boundary conditions are attached}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00511}00511 \textcolor{comment}{to "{}bulk"{} elements that may disappear during mesh adaptation, }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00512}00512 \textcolor{comment}{we generally recommend to store the (pointers to the) }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00513}00513 \textcolor{comment}{\(\backslash\)c FaceElements in a separate mesh, and to use}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00514}00514 \textcolor{comment}{the \(\backslash\)c Problem::actions\_before\_adapt() and }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00515}00515 \textcolor{comment}{\(\backslash\)c Problem::actions\_after\_adapt() functions to detach and re-\/attach }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00516}00516 \textcolor{comment}{the \(\backslash\)c FaceElements to/from the bulk elements before and after the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00517}00517 \textcolor{comment}{mesh adaptation.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00518}00518 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00519}00519 \textcolor{comment}{  The same issues arise during the problem distribution: A }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00520}00520 \textcolor{comment}{\(\backslash\)c FaceElement that was created before the problem was distributed}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00521}00521 \textcolor{comment}{may have been attached to a bulk element that is deleted when the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00522}00522 \textcolor{comment}{distribution is performed, resulting in obvious (and disastrous) }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00523}00523 \textcolor{comment}{consequences. We therefore recommend using the functions}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00524}00524 \textcolor{comment}{\(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00525}00525 \textcolor{comment}{\(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00526}00526 \textcolor{comment}{Problem::actions\_before\_distribute()}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00527}00527 \textcolor{comment}{\(\backslash\)endcode }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00528}00528 \textcolor{comment}{\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00529}00529 \textcolor{comment}{and}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00530}00530 \textcolor{comment}{\(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00531}00531 \textcolor{comment}{\(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00532}00532 \textcolor{comment}{Problem::actions\_after\_distribute()}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00533}00533 \textcolor{comment}{\(\backslash\)endcode }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00534}00534 \textcolor{comment}{\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00535}00535 \textcolor{comment}{to detach and re-\/attach any \(\backslash\)c FaceElements before and after the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00536}00536 \textcolor{comment}{problem distribution. In this context it is important to note that:}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00537}00537 \textcolor{comment}{\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00538}00538 \textcolor{comment}{-\/\# The \(\backslash\)c FaceElements \(\backslash\)b should be available before \(\backslash\)c Problem::distribute() }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00539}00539 \textcolor{comment}{   is called to allow the load-\/balancing routines to take their }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00540}00540 \textcolor{comment}{   presence into account. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00541}00541 \textcolor{comment}{   \(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00542}00542 \textcolor{comment}{-\/\# \(\backslash\)c FaceElements that are attached to halo (bulk-\/)elements become}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00543}00543 \textcolor{comment}{   halo-\/elements themselves.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00544}00544 \textcolor{comment}{.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00545}00545 \textcolor{comment}{Further details are provided in  }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00546}00546 \textcolor{comment}{<a href="{}../../two\_d\_poisson\_flux\_bc\_adapt/html/index.html"{}>another }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00547}00547 \textcolor{comment}{tutorial</a> which explains the modifications}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00548}00548 \textcolor{comment}{to the serial driver code required to distribute}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00549}00549 \textcolor{comment}{a Poisson problem with Neumann boundary conditions.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00550}00550 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00551}00551 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00552}00552 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00553}00553 \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00554}00554 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00555}00555 \textcolor{comment}{\(\backslash\)subsubsection multi\_domain Distributing multi-\/domain problems}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00556}00556 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00557}00557 \textcolor{comment}{Multi-\/domain problems involve interactions}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00558}00558 \textcolor{comment}{between PDEs that are defined in different domains, such as}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00559}00559 \textcolor{comment}{fluid-\/structure interaction problems.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00560}00560 \textcolor{comment}{Within \(\backslash\)c oomph-\/lib, multi-\/domain problems typically involve}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00561}00561 \textcolor{comment}{elements, derived from the \(\backslash\)c ElementWithExternalElement class,  }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00562}00562 \textcolor{comment}{that store pointers to any "{}external"{} elements that take part}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00563}00563 \textcolor{comment}{in the interaction. These "{}external"{} elements are}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00564}00564 \textcolor{comment}{determined by helper functions such as }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00565}00565 \textcolor{comment}{ \(\backslash\)c FSI\_functions::setup\_fluid\_load\_info\_for\_solid\_elements(...) or}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00566}00566 \textcolor{comment}{\(\backslash\)c Multi\_domain\_functions::setup\_multi\_domain\_interactions(...). }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00567}00567 \textcolor{comment}{The appropriate helper functions must be called in the function }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00568}00568 \textcolor{comment}{\(\backslash\)c Problem::actions\_after\_distribute() to ensure that the interactions}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00569}00569 \textcolor{comment}{are correctly set up once the problem has been distributed.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00570}00570 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00571}00571 \textcolor{comment}{The helper function \(\backslash\)c}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00572}00572 \textcolor{comment}{Multi\_domain\_functions::locate\_external\_elements() has been written to}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00573}00573 \textcolor{comment}{work even after a problem has been distributed and uses the following}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00574}00574 \textcolor{comment}{algorithm:}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00575}00575 \textcolor{comment}{-\/\# Loop over all (non-\/halo) \(\backslash\)c ElementWithExternalElements}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00576}00576 \textcolor{comment}{   and try to locate the "{}external"{} elements (<em> e.g.</em>  fluid elements}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00577}00577 \textcolor{comment}{   adjacent to an elastic wall in an fluid-\/structure interaction}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00578}00578 \textcolor{comment}{   problem) on the current processor. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00579}00579 \textcolor{comment}{   If the required "{}external"{} element is found}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00580}00580 \textcolor{comment}{   locally, the \(\backslash\)c ElementWithExternalElement stores a pointer to it.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00581}00581 \textcolor{comment}{   \(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00582}00582 \textcolor{comment}{-\/\# If the "{}external"{} element cannot be found locally, MPI-\/based}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00583}00583 \textcolor{comment}{   communication is employed to find the "{}external"{} element on one}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00584}00584 \textcolor{comment}{   of the other processors. Once found, a halo-\/copy of the "{}external"{}}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00585}00585 \textcolor{comment}{   element (and its nodes) is made on the current processor and a}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00586}00586 \textcolor{comment}{   pointer to the halo-\/element is stored. These "{}external"{} halo elements }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00587}00587 \textcolor{comment}{   and nodes are stored in the appropriate mesh, <em> i.e.</em>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00588}00588 \textcolor{comment}{    in an FSI problem, the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00589}00589 \textcolor{comment}{   "{}external"{} fluid elements are added to the fluid mesh. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00590}00590 \textcolor{comment}{   \(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00591}00591 \textcolor{comment}{.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00592}00592 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00593}00593 \textcolor{comment}{"{}External"{} halo[ed] elements are automatically included in any}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00594}00594 \textcolor{comment}{halo/haloed synchronisation operations performed when assigning}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00595}00595 \textcolor{comment}{equation numbers, or updating unknowns during the Newton iteration,}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00596}00596 \textcolor{comment}{etc. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00597}00597 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00598}00598 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00599}00599 \textcolor{comment}{The procedure discussed above has the following important consequence:}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00600}00600 \textcolor{comment}{\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00601}00601 \textcolor{comment}{-\/ When an "{}external"{} halo element is created we also automatically create}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00602}00602 \textcolor{comment}{  halo-\/copies of those of its nodes that do not already exist}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00603}00603 \textcolor{comment}{  on the current processor. Such nodes are stored as "{}external"{} halo nodes }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00604}00604 \textcolor{comment}{  and they are automatically synchronised with their non-\/halo}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00605}00605 \textcolor{comment}{  counterparts on other processors. However, synchronisation of nodes}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00606}00606 \textcolor{comment}{  does not (and cannot) include the specification of auxiliary node }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00607}00607 \textcolor{comment}{  update functions (such as the function }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00608}00608 \textcolor{comment}{  \(\backslash\)c FSI\_functions::apply\_no\_slip\_on\_moving\_wall(...) which automatically }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00609}00609 \textcolor{comment}{  applies the no-\/slip condition on moving fluid-\/solid interfaces). }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00610}00610 \textcolor{comment}{  Such functions should therefore be re-\/assigned to the appropriate nodes}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00611}00611 \textcolor{comment}{  after \(\backslash\)c FSI\_functions::setup\_fluid\_load\_info\_for\_solid\_elements() }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00612}00612 \textcolor{comment}{  has been called. This is exactly equivalent to the sequence of steps}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00613}00613 \textcolor{comment}{  required following an adaptive mesh refinement; see <em> e.g.</em> the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00614}00614 \textcolor{comment}{  <a href="{}../../../interaction/fsi\_collapsible\_channel\_adapt/html/index.html\#before\_and\_after"{}>tutorial}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00615}00615 \textcolor{comment}{  discussing the adaptive solution of the collapsible channel problem</a>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00616}00616 \textcolor{comment}{  for a more detailed discussion of this issue. We note that "{}external"{}}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00617}00617 \textcolor{comment}{  halo-\/nodes are added to the mesh's boundary lookup schemes, so the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00618}00618 \textcolor{comment}{  specification of auxiliary node update functions for all nodes}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00619}00619 \textcolor{comment}{  on a given mesh boundary does not require any further modification}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00620}00620 \textcolor{comment}{  to the serial code.  }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00621}00621 \textcolor{comment}{.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00622}00622 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00623}00623 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00624}00624 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00625}00625 \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00626}00626 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00627}00627 \textcolor{comment}{\(\backslash\)subsubsection alg\_node\_update Distributing problems involving meshes with algebraic node updates}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00628}00628 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00629}00629 \textcolor{comment}{\(\backslash\)c oomph-\/lib provides a variety of algebraic node-\/update methods. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00630}00630 \textcolor{comment}{These allow the fast and sparse update of the nodal positions }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00631}00631 \textcolor{comment}{in response to changes in the domain boundaries. The shape and }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00632}00632 \textcolor{comment}{position of such boundaries is typically represented by one or }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00633}00633 \textcolor{comment}{more \(\backslash\)c GeomObjects. If the motion of the boundary is prescribed, }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00634}00634 \textcolor{comment}{(as in the case of the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00635}00635 \textcolor{comment}{<a href="{}../../../navier\_stokes/osc\_ellipse/html/index.html"{}>flow }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00636}00636 \textcolor{comment}{inside an oscillating ellipse</a>, say) no modifications are}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00637}00637 \textcolor{comment}{required when the meshes are used in a distributed problem.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00638}00638 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00639}00639 \textcolor{comment}{In order to minimise communication, the design decision was taken}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00640}00640 \textcolor{comment}{that any \(\backslash\)c GeomObjects defining the position of domain boundaries}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00641}00641 \textcolor{comment}{must be available on all processors after the problem is distributed. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00642}00642 \textcolor{comment}{Thus, if the \(\backslash\)c GeomObject is actually a \(\backslash\)c MeshAsGeomObject,}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00643}00643 \textcolor{comment}{a compound \(\backslash\)c GeomObject formed from a mesh of \(\backslash\)c FiniteElements,}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00644}00644 \textcolor{comment}{then all the elements in the mesh, or all elements required to}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00645}00645 \textcolor{comment}{construct the mesh,  must be retained as halo elements on}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00646}00646 \textcolor{comment}{every processor. This leads to a }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00647}00647 \textcolor{comment}{slight increase in the overall storage requirements }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00648}00648 \textcolor{comment}{(because none of the elements involved in the interaction are deleted}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00649}00649 \textcolor{comment}{when the problem is distributed) but it means that the entire }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00650}00650 \textcolor{comment}{\(\backslash\)c GeomObject remains accessible to the fluid mesh without invoking}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00651}00651 \textcolor{comment}{MPI communications. Two functions can be used to specify that elements}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00652}00652 \textcolor{comment}{must be retained:}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00653}00653 \textcolor{comment}{\(\backslash\)n\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00654}00654 \textcolor{comment}{\(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00655}00655 \textcolor{comment}{Mesh::keep\_all\_elements\_as\_halos()}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00656}00656 \textcolor{comment}{\(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00657}00657 \textcolor{comment}{\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00658}00658 \textcolor{comment}{keeps every element in the \(\backslash\)c Mesh available to every processor,}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00659}00659 \textcolor{comment}{and}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00660}00660 \textcolor{comment}{\(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00661}00661 \textcolor{comment}{GeneralisedElement::must\_be\_kept\_as\_halo()}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00662}00662 \textcolor{comment}{\(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00663}00663 \textcolor{comment}{\(\backslash\)n}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00664}00664 \textcolor{comment}{can be called for a particular element to ensure that it is kept}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00665}00665 \textcolor{comment}{available to every processor.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00666}00666 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00667}00667 \textcolor{comment}{We stress that the increase in storage requirements due to the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00668}00668 \textcolor{comment}{retention of these elements is minimal because the  }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00669}00669 \textcolor{comment}{elements are only located along the (lower-\/dimensional) boundaries }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00670}00670 \textcolor{comment}{of the domain. For instance, in the }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00671}00671 \textcolor{comment}{<a href="{}../../../interaction/fsi\_collapsible\_channel\_algebraic/html/index.html"{}>collapsible }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00672}00672 \textcolor{comment}{channel problem</a> the 1D mesh of beam elements}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00673}00673 \textcolor{comment}{bounds the 2D mesh of fluid elements; in}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00674}00674 \textcolor{comment}{<A HREF="{}../../../interaction/turek\_flag/html/index.html"{}>Turek and }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00675}00675 \textcolor{comment}{Hron's FSI benchmark problem</a>, the 2D fluid domain is bounded}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00676}00676 \textcolor{comment}{by a 1D mesh of \(\backslash\)c FSISolidTractionElements, and so on.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00677}00677 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00678}00678 \textcolor{comment}{Examples of the implementation of these ideas are given for the  }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00679}00679 \textcolor{comment}{<a href="{}../../fsi\_channel\_with\_leaflet/html/index.html"{}>flow past an}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00680}00680 \textcolor{comment}{elastic leaflet</a> and <a href="{}../../turek\_flag/html/index.html"{}> }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00681}00681 \textcolor{comment}{Turek and Hron's FSI benchmark problem </a>.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00682}00682 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00683}00683 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00684}00684 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00685}00685 \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00686}00686 \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00687}00687 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00688}00688 \textcolor{comment}{\(\backslash\)section mpidetails Further MPI Details}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00689}00689 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00690}00690 \textcolor{comment}{-\/ \(\backslash\)c oomph-\/lib mirrors the MPI C bindings with the methods }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00691}00691 \textcolor{comment}{  \(\backslash\)c MPI\_Helpers::init(...) and \(\backslash\)c MPI\_Helpers::finalize(); }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00692}00692 \textcolor{comment}{  they call the methods \(\backslash\)c MPI\_Init(...) and \(\backslash\)c MPI\_Finalize()}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00693}00693 \textcolor{comment}{  respectively. In addition, these methods automatically create }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00694}00694 \textcolor{comment}{  (and destroy) a new instance of \(\backslash\)c MPI\_Comm  with the same set of }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00695}00695 \textcolor{comment}{  processes as \(\backslash\)c MPI\_COMM\_WORLD but with a different communication context. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00696}00696 \textcolor{comment}{  This \(\backslash\)c MPI\_Comm instance is accessible through }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00697}00697 \textcolor{comment}{  \(\backslash\)c MPI\_Helpers::Communicator\_pt which}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00698}00698 \textcolor{comment}{  returns a pointer to an \(\backslash\)c OomphCommunicator object.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00699}00699 \textcolor{comment}{-\/ An \(\backslash\)c OomphCommunicator is \(\backslash\)c oomph-\/lib's object oriented wrapper to an }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00700}00700 \textcolor{comment}{  \(\backslash\)c MPI\_Comm.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00701}00701 \textcolor{comment}{-\/ Under normal operation, a user does not need to specify the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00702}00702 \textcolor{comment}{  \(\backslash\)c OomphCommunicator for any object -\/-\/ this is all handled}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00703}00703 \textcolor{comment}{  automatically by \(\backslash\)c oomph-\/lib. For example, on construction a \(\backslash\)c}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00704}00704 \textcolor{comment}{  Problem will use the \(\backslash\)c MPI\_Helpers communicator; a \(\backslash\)c LinearSolver }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00705}00705 \textcolor{comment}{  will use the corresponding \(\backslash\)c Problem communicator; and a }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00706}00706 \textcolor{comment}{  \(\backslash\)c Preconditioner will}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00707}00707 \textcolor{comment}{  use the corresponding \(\backslash\)c IterativeLinearSolver communicator.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00708}00708 \textcolor{comment}{  }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00709}00709 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00710}00710 \textcolor{comment}{  }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00711}00711 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00712}00712 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00713}00713 \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00714}00714 \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00715}00715 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00716}00716 \textcolor{comment}{\(\backslash\)section problem Trouble-\/shooting and debugging}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00717}00717 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00718}00718 \textcolor{comment}{\(\backslash\)subsection checking\_and\_documenting Debugging and documenting the distribution}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00719}00719 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00720}00720 \textcolor{comment}{Once a problem has been distributed, the function}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00721}00721 \textcolor{comment}{\(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00722}00722 \textcolor{comment}{Problem::check\_halo\_schemes()}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00723}00723 \textcolor{comment}{\(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00724}00724 \textcolor{comment}{can be called to check that the halo lookup schemes for each mesh }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00725}00725 \textcolor{comment}{are set up correctly.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00726}00726 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00727}00727 \textcolor{comment}{Details about the mesh distribution can be generated by}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00728}00728 \textcolor{comment}{calling}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00729}00729 \textcolor{comment}{\(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00730}00730 \textcolor{comment}{Mesh::doc\_mesh\_distribution(DocInfo\& doc\_info)}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00731}00731 \textcolor{comment}{\(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00732}00732 \textcolor{comment}{which outputs the elements, nodes, halo(ed) elements, halo(ed) nodes, mesh, }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00733}00733 \textcolor{comment}{boundary elements and boundary nodes on each processor.  This routine}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00734}00734 \textcolor{comment}{is automatically called when \(\backslash\)c Problem::distribute() is called with a}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00735}00735 \textcolor{comment}{\(\backslash\)c DocInfo object whose \(\backslash\)c Doc\_flag is set to true (the default behaviour).}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00736}00736 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00737}00737 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00738}00738 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00739}00739 \textcolor{comment}{<HR>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00740}00740 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00741}00741 \textcolor{comment}{\(\backslash\)subsection parallel\_debug Debugging parallel code}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00742}00742 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00743}00743 \textcolor{comment}{Parallel code can obviously fail in many more ways than a code}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00744}00744 \textcolor{comment}{that runs on a single processor. Here is a procedure that }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00745}00745 \textcolor{comment}{allows basic parallel debugging without requiring access to }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00746}00746 \textcolor{comment}{expensive commercial tools such as totalview, say.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00747}00747 \textcolor{comment}{(The instructions below assume that you use }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00748}00748 \textcolor{comment}{<a href="{}http://www.lam-\/mpi.org/"{}>LAM</a> as your MPI installation; }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00749}00749 \textcolor{comment}{they can probably be modified to work with other versions of MPI, too). }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00750}00750 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00751}00751 \textcolor{comment}{Let's assume you use <a href="{}http://www.gnu.org/software/gdb/"{}>gdb</a> }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00752}00752 \textcolor{comment}{as your debugger. To debug a serial code}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00753}00753 \textcolor{comment}{with <a href="{}http://www.gnu.org/software/gdb/"{}>gdb</a> you would }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00754}00754 \textcolor{comment}{load the executable <code>a.out</code> into the debugger using}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00755}00755 \textcolor{comment}{the command}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00756}00756 \textcolor{comment}{\(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00757}00757 \textcolor{comment}{gdb ./a.out}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00758}00758 \textcolor{comment}{\(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00759}00759 \textcolor{comment}{on the command line. Once inside }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00760}00760 \textcolor{comment}{<a href="{}http://www.gnu.org/software/gdb/"{}>gdb</a>, you run }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00761}00761 \textcolor{comment}{the code by typing "{}run"{}. If the code crashes, typing "{}where"{} will tell}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00762}00762 \textcolor{comment}{you in which line of the code the crash occurred, and it will also}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00763}00763 \textcolor{comment}{provide a traceback of the function calls that got you to this}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00764}00764 \textcolor{comment}{point. }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00765}00765 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00766}00766 \textcolor{comment}{ To do this in parallel, we have to run each (parallel) instance of}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00767}00767 \textcolor{comment}{the code within its own <a href="{}http://www.gnu.org/software/gdb/"{}>gdb</a>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00768}00768 \textcolor{comment}{session. To this, create the following three files:}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00769}00769 \textcolor{comment}{-\/ A shell script \(\backslash\)c mpidbg that must be executable, which contains:}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00770}00770 \textcolor{comment}{\(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00771}00771 \textcolor{comment}{mpirun \$1 \$2 -\/x DISPLAY rungdb.sh -\/x cmds.gdb}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00772}00772 \textcolor{comment}{\(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00773}00773 \textcolor{comment}{-\/ The executable file \(\backslash\)c rungdb.sh must be in the same directory as \(\backslash\)c}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00774}00774 \textcolor{comment}{mpidbg and contain the following}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00775}00775 \textcolor{comment}{\(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00776}00776 \textcolor{comment}{echo "{}Running GDB on node `hostname`"{}}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00777}00777 \textcolor{comment}{echo \$DISPLAY}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00778}00778 \textcolor{comment}{xterm -\/geometry 200x40 -\/e gdb \$*}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00779}00779 \textcolor{comment}{exit 0}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00780}00780 \textcolor{comment}{\(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00781}00781 \textcolor{comment}{-\/ Finally the \(\backslash\)c cmds.gdb file should also be in the same directory}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00782}00782 \textcolor{comment}{and must contain the \(\backslash\)c run command (so that all processors start}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00783}00783 \textcolor{comment}{their <a href="{}http://www.gnu.org/software/gdb/"{}>gdb</a> session}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00784}00784 \textcolor{comment}{simultaneously), and may also include other commands such as \(\backslash\)c set}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00785}00785 \textcolor{comment}{\(\backslash\)c args \(\backslash\)c command-\/line-\/arguments, and so on.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00786}00786 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00787}00787 \textcolor{comment}{Then, to run the debugger in parallel on 3 processors for the}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00788}00788 \textcolor{comment}{executable \(\backslash\)c a.out, the command would be}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00789}00789 \textcolor{comment}{\(\backslash\)code}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00790}00790 \textcolor{comment}{mpidbg -\/np 3 ./a.out }}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00791}00791 \textcolor{comment}{\(\backslash\)endcode}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00792}00792 \textcolor{comment}{Once the command is issued, an \(\backslash\)c xterm window will be opened for each}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00793}00793 \textcolor{comment}{processor, and if a crash occurs on any processor, the usual}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00794}00794 \textcolor{comment}{<a href="{}http://www.gnu.org/software/gdb/"{}>gdb</a>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00795}00795 \textcolor{comment}{commands (\(\backslash\)c back, \(\backslash\)c up, \(\backslash\)c down, \(\backslash\)c quit and so on) may be used}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00796}00796 \textcolor{comment}{within any of the \(\backslash\)c xterm sessions where a crash has taken place.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00797}00797 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00798}00798 \textcolor{comment}{<hr>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00799}00799 \textcolor{comment}{<hr>}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00800}00800 \textcolor{comment}{\(\backslash\)section pdf PDF file}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00801}00801 \textcolor{comment}{A <a href="{}../latex/refman.pdf"{}>pdf version</a> of this document is available.}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00802}00802 \textcolor{comment}{**/}}
\DoxyCodeLine{\Hypertarget{general__mpi_8txt__doxygenified_8h_source_l00803}00803 }

\end{DoxyCode}
