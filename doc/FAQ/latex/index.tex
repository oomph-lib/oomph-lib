\chapter{Frequently Asked Questions}
\hypertarget{index}{}\label{index}\index{Frequently Asked Questions@{Frequently Asked Questions}}
Here are some frequently asked questions (with assorted frequently given answers...). Please check these before contacting us with any problems.
\begin{DoxyItemize}
\item \doxysectlink{index_compilation_and_seg}{Compilation problems and run-\/time errors}{1} ~\newline
~\newline

\begin{DoxyItemize}
\item \doxysectlink{index_missing_this}{Missing \textquotesingle{}this-\/\texorpdfstring{$>$}{>}\textquotesingle{}}{2} ~\newline
~\newline

\item \doxysectlink{index_rodata}{Warning about "{}discarded sections"{} during linking}{2} ~\newline
~\newline

\item \doxysectlink{index_seg_fault}{My driver code compiles but dies with a segmentation fault}{2} ~\newline
~\newline

\item \doxysectlink{index_wrong_results}{My driver code runs but it produces incorrect/non-\/sensical results}{2} ~\newline
~\newline

\item \doxysectlink{index_newton_divergence}{The Newton solver diverges}{2} ~\newline
~\newline

\end{DoxyItemize}
\item \doxysectlink{index_cust_opt}{Customisation and optimisation}{1} ~\newline
~\newline

\begin{DoxyItemize}
\item \doxysectlink{index_tecplot}{I don\textquotesingle{}t have tecplot. How do I change oomph-\/lib\textquotesingle{}s output so it can be displayed by my own plotting package?}{2} ~\newline
~\newline

\item \doxysectlink{index_element_too_general}{oomph-\/lib\textquotesingle{}s implementation of the Navier-\/\+Stokes equations (say) is too general (and therefore too expensive) for my application. How do I change this?}{2} ~\newline
~\newline

\end{DoxyItemize}
\item \doxysectlink{index_nav}{Finding your way around the distribution}{1} ~\newline
~\newline

\begin{DoxyItemize}
\item \doxysectlink{index_too_much}{There is so much information -- how do I get started?}{2} ~\newline
~\newline

\item \doxysectlink{index_includes}{Where is this class/function/... defined?}{2} ~\newline
~\newline

\end{DoxyItemize}
\item \doxysectlink{index_all_else_fails}{If all else fails...}{1} ~\newline
~\newline

\begin{DoxyItemize}
\item \doxysectlink{index_reporting}{How to report problems/bugs}{2} ~\newline
~\newline

\end{DoxyItemize}
\end{DoxyItemize}

~\newline
~\newline
\DoxyHorRuler{0}
 \DoxyHorRuler{0}
\hypertarget{index_compilation_and_seg}{}\doxysection{\texorpdfstring{Compilation problems and run-\/time errors}{Compilation problems and run-time errors}}\label{index_compilation_and_seg}
\hypertarget{index_missing_this}{}\doxysubsection{\texorpdfstring{Missing \textquotesingle{}this-\/$>$\textquotesingle{}}{Missing 'this->'}}\label{index_missing_this}
Recent versions of the \href{http://gcc.gnu.org/}{\texttt{ gcc compilers}} enforce the \href{http://www.open-std.org/jtc1/sc22/wg21/}{\texttt{ C++ standard}} much more rigorously than earlier versions. Unfortunately, the standard includes some rules that are so counter-\/intuitive that it is hard get into the habit of using them, especially if code is developed on a compiler that does not enforce the standard as rigorously.

The most frequent problem arises in classes that are derived from a templated base class. \href{http://www.open-std.org/jtc1/sc22/wg21/}{\texttt{ The C++ standard}} insists that all references to member functions (or member data) that is defined in the templated base class must be preceded by "{}this-\/$>$"{} when the reference is made in the derived class. Allegedly, this is necessary to avoid ambiguities, though it is not entirely clear what this ambiguity is supposed to be... Here is a driver code that illustrates the problem.


\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ ====================================================================}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ This\ file\ forms\ part\ of\ oomph-\/lib,\ the\ object-\/oriented,\ }}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ multi-\/physics\ finite-\/element\ library,\ available\ }}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ at\ http://www.oomph-\/lib.org.}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ }}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ Copyright\ (C)\ 2006-\/2025\ Matthias\ Heil\ and\ Andrew\ Hazel}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ }}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ This\ library\ is\ free\ software;\ you\ can\ redistribute\ it\ and/or}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ modify\ it\ under\ the\ terms\ of\ the\ GNU\ Lesser\ General\ Public}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ License\ as\ published\ by\ the\ Free\ Software\ Foundation;\ either}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ version\ 2.1\ of\ the\ License,\ or\ (at\ your\ option)\ any\ later\ version.}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ }}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ This\ library\ is\ distributed\ in\ the\ hope\ that\ it\ will\ be\ useful,}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ but\ WITHOUT\ ANY\ WARRANTY;\ without\ even\ the\ implied\ warranty\ of}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ MERCHANTABILITY\ or\ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE.\ \ See\ the\ GNU}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ Lesser\ General\ Public\ License\ for\ more\ details.}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ }}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ You\ should\ have\ received\ a\ copy\ of\ the\ GNU\ Lesser\ General\ Public}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ License\ along\ with\ this\ library;\ if\ not,\ write\ to\ the\ Free\ Software}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ Foundation,\ Inc.,\ 51\ Franklin\ Street,\ Fifth\ Floor,\ Boston,\ MA}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ 02110-\/1301\ \ USA.}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ }}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ The\ authors\ may\ be\ contacted\ at\ oomph-\/lib@maths.man.ac.uk.}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ }}
\DoxyCodeLine{\textcolor{comment}{//LIC//====================================================================}}
\DoxyCodeLine{\textcolor{comment}{//Demo\ code\ to\ document\ problem\ with\ missing\ "{}this-\/>"{}}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include<iostream>}}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//==========Templated\_base\_class=======================================}\textcolor{comment}{}}
\DoxyCodeLine{\textcolor{comment}{///\ Some\ Non-\/templated\ base\ class}}
\DoxyCodeLine{\textcolor{comment}{}\textcolor{comment}{//=====================================================================}}
\DoxyCodeLine{\textcolor{keyword}{template}<\textcolor{keywordtype}{unsigned}\ TEMPLATE\_PARAMETER>}
\DoxyCodeLine{\textcolor{keyword}{class\ }TemplatedBaseClass}
\DoxyCodeLine{\{}
\DoxyCodeLine{\textcolor{keyword}{public}:}
\DoxyCodeLine{\textcolor{comment}{}}
\DoxyCodeLine{\textcolor{comment}{\ ///\ Empty\ constructor}}
\DoxyCodeLine{\textcolor{comment}{}\ TemplatedBaseClass()\{\};}
\DoxyCodeLine{\textcolor{comment}{}}
\DoxyCodeLine{\textcolor{comment}{\ ///\ Empty\ virtual\ constructor}}
\DoxyCodeLine{\textcolor{comment}{}\ \string~TemplatedBaseClass()\{\};}
\DoxyCodeLine{\textcolor{comment}{}}
\DoxyCodeLine{\textcolor{comment}{\ ///\ Some\ member\ function}}
\DoxyCodeLine{\textcolor{comment}{}\ \textcolor{keywordtype}{void}\ say\_hello\_world()}
\DoxyCodeLine{\ \ \{}
\DoxyCodeLine{\ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Hello\ world\ from\ base\ class\ "{}}\ <<\ std::endl;}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//======templated\_derived\_class=======================================}\textcolor{comment}{}}
\DoxyCodeLine{\textcolor{comment}{///\ Some\ templated\ derived\ class}}
\DoxyCodeLine{\textcolor{comment}{}\textcolor{comment}{//=====================================================================}}
\DoxyCodeLine{\textcolor{keyword}{template}<\textcolor{keywordtype}{unsigned}\ TEMPLATE\_PARAMETER>}
\DoxyCodeLine{\textcolor{keyword}{class\ }SomeDerivedClass\ :\ \textcolor{keyword}{public}\ \textcolor{keyword}{virtual}\ TemplatedBaseClass<TEMPLATE\_PARAMETER>}
\DoxyCodeLine{\{}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{public}:}
\DoxyCodeLine{}
\DoxyCodeLine{\ \textcolor{comment}{//\ Empty\ constructor}}
\DoxyCodeLine{\ SomeDerivedClass()\{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \textcolor{comment}{//\ Virtual\ empty\ constructor}}
\DoxyCodeLine{\ \textcolor{keyword}{virtual}\ \string~SomeDerivedClass()\{\};}
\DoxyCodeLine{\textcolor{comment}{}}
\DoxyCodeLine{\textcolor{comment}{\ ///\ Some\ member\ function}}
\DoxyCodeLine{\textcolor{comment}{}\ \textcolor{keywordtype}{void}\ output\_template\_parameter()}
\DoxyCodeLine{\ \ \{}
\DoxyCodeLine{\ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}My\ template\ parameter\ is:\ "{}}\ }
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ <<\ TEMPLATE\_PARAMETER\ <<\ std::endl;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \textcolor{comment}{//\ Now\ call\ the\ function\ in\ the\ base\ class}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#ifdef\ USE\_BROKEN\_VERSION}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \textcolor{comment}{//\ This\ is\ illegal\ according\ to\ the\ C++\ standard\ }}
\DoxyCodeLine{\ \ \ say\_hello\_world();}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#else\ }}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \textcolor{comment}{//\ This\ is\ stupid\ but\ in\ line\ with\ the\ C++\ standard}}
\DoxyCodeLine{\ \ \ this-\/>say\_hello\_world();}
\DoxyCodeLine{\ }
\DoxyCodeLine{\textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//======start\_of\_main==================================================}\textcolor{comment}{}}
\DoxyCodeLine{\textcolor{comment}{///\ Driver}}
\DoxyCodeLine{\textcolor{comment}{}\textcolor{comment}{//=====================================================================}}
\DoxyCodeLine{\textcolor{keywordtype}{int}\ main()}
\DoxyCodeLine{\{}
\DoxyCodeLine{}
\DoxyCodeLine{\ \textcolor{comment}{//\ Build\ the\ templated\ object:}}
\DoxyCodeLine{\ SomeDerivedClass<2>\ object;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \textcolor{comment}{//\ Get\ it\ to\ output\ its\ template\ parameter\ and\ say\ hello:}}
\DoxyCodeLine{\ \textcolor{keywordtype}{object}.output\_template\_parameter();}
\DoxyCodeLine{}
\DoxyCodeLine{\}\ \textcolor{comment}{//\ end\ of\ main}}
\DoxyCodeLine{}

\end{DoxyCodeInclude}


If you compile this with sufficiently recent versions of the \href{http://gcc.gnu.org/}{\texttt{ gcc compilers}}, using the flag {\ttfamily -\/DUSE\+\_\+\+BROKEN\+\_\+\+VERSION}, the compilation will fail with the following error\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{broken\_this\_demo.cc:\ In\ member\ function\ \textcolor{stringliteral}{'void\ SomeDerivedClass<TEMPLATE\_PARAMETER>::output\_template\_parameter()'}:}
\DoxyCodeLine{broken\_this\_demo.cc:55:\ error:\ there\ are\ no\ arguments\ to\ \textcolor{stringliteral}{'say\_hello\_world'}\ that\ depend\ on\ a\ \textcolor{keyword}{template}\ parameter,\ so\ a\ declaration\ of\ \textcolor{stringliteral}{'say\_hello\_world'}\ must\ be\ available}
\DoxyCodeLine{broken\_this\_demo.cc:55:\ error:\ (\textcolor{keywordflow}{if}\ you\ use\ \textcolor{stringliteral}{'-\/fpermissive'},\ G++\ will\ accept\ your\ code,\ but\ allowing\ the\ use\ of\ an\ undeclared\ name\ is\ deprecated)}

\end{DoxyCode}


You may not only stumble across this problem in one of your own codes but it is also possible that some code in the library itself still violates this rule. This is because templated classes are only built when needed and it is conceivable that {\ttfamily oomph-\/lib\textquotesingle{}s} suite of self-\/tests do not instantiate all templated classes that exist in the library. If you encounter any such problems, check if putting a "{}this-\/$>$"{} in front of the function call fixes the problem. If it does, \href{../../contact/html/index.html}{\texttt{ let us know!}}

\DoxyHorRuler{0}
\hypertarget{index_rodata}{}\doxysubsection{\texorpdfstring{Warning about "{}discarded sections"{} during linking}{Warning about "discarded sections" during linking}}\label{index_rodata}
When linking, some versions of the \href{http://gcc.gnu.org/}{\texttt{ gcc compiler}} produce warnings about references to "{}discarded sections"{} being referenced. Here\textquotesingle{}s an example\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{/usr/bin/ld:\ \`{}.gnu.linkonce.t.\_ZNK5oomph8QElementILj3ELj3EE14vertex\_node\_ptERKj\textcolor{stringliteral}{'\ referenced\ in\ section\ \`{}.rodata'}\ of\ /home/mheil/version185/oomph/build/lib/libgeneric.a(Qelements.o):\ defined\ in\ discarded\ section\ \`{}.gnu.linkonce.t.\_ZNK5oomph8QElementILj3ELj3EE14vertex\_node\_ptERKj\textcolor{stringliteral}{'\ of\ /home/mheil/version185/oomph/build/lib/libgeneric.a(Qelements.o)}}

\end{DoxyCode}


We admit to being slightly baffled by this. Other libraries seem to suffer from the same problem (google for .{\ttfamily rodata} {\ttfamily discarded}, say), but as far as we can tell no solution has ever been suggested, nor does one seem to be required. The executable works fine. Upgrade to a newer version of \href{http://gcc.gnu.org/}{\texttt{ gcc?}}

\DoxyHorRuler{0}
\hypertarget{index_seg_fault}{}\doxysubsection{\texorpdfstring{My driver code compiles but dies with a segmentation fault}{My driver code compiles but dies with a segmentation fault}}\label{index_seg_fault}
Suggestions\+:
\begin{DoxyItemize}
\item Run {\ttfamily Problem\+::self\+\_\+test()} before solving the problem. This function performs a large number of sanity checks and reports any inconsistencies in the data structure. ~\newline
~\newline

\item Recompile the relevant libraries with the PARANOID and RANGE\+\_\+\+CHECKING flags set. Segmentation faults are often caused by out-\/of-\/bounds access to STL containers. Since \texorpdfstring{$>$}{>} 95\% (?) of the containers used in {\ttfamily oomph-\/lib} are {\ttfamily Vectors} ({\ttfamily oomph-\/lib\textquotesingle{}s} wrapper to the STL vector class, with optional range checking) they can easily be detected. Make sure to re-\/compile again with RANGE\+\_\+\+CHECKING switched off before you start any production runs -- the run-\/time overheads incurred by range-\/checking are significant! ~\newline
~\newline

\item Recompile the relevant libraries and your driver code with the debugging flag ("{}-\/g"{} for the gnu compiler suite) switched on and all optimisation disabled. Re-\/run the code in a debugger ({\ttfamily gdb} or its GUI-\/based equivalent \href{http://www.gnu.org/software/ddd/}{\texttt{ ddd}}) to (try to!) find out where the segmentation fault occurred. \mbox{[}{\bfseries{Careful\+:}} If the segmentation fault is caused by a pointer problem, this naive inspection can be quite misleading -- tell-\/tale signs are that the traceback displays a non-\/sensical call stack, e.\+g. a function being called "{}out of nowhere"{}; variables that have just been given values not existing; etc.\mbox{]} ~\newline
~\newline
 \DoxyHorRuler{0}

\end{DoxyItemize}\hypertarget{index_wrong_results}{}\doxysubsection{\texorpdfstring{My driver code runs but it produces incorrect/non-\/sensical results}{My driver code runs but it produces incorrect/non-sensical results}}\label{index_wrong_results}
Suggestions\+:
\begin{DoxyItemize}
\item Have you applied the boundary conditions correctly? Check this by looping over all nodes in your mesh and documenting the pinned-\/status of their nodal values, using the function {\ttfamily Node\+::is\+\_\+pinned(...)}. ~\newline
~\newline

\item Have you passed the required (function) pointers to the elements? Most element constructors assign default values for any physical parameters, e.\+g. the Reynolds number in the Navier-\/\+Stokes elements. Similarly, most source functions etc. default to zero. For instance {\ttfamily oomph-\/lib\textquotesingle{}s} Poisson elements solve the Laplace equation unless a function pointer to the source function is specified. ~\newline
~\newline

\item In time-\/dependent problems, have you assigned suitable initial conditions? Note that, if you use elements that are based on the ALE formulation (and all time-\/dependent elements should be!) you must initialise the history values for the nodal positions, even if the mesh is stationary! See the discussion of {\ttfamily oomph-\/lib\textquotesingle{}s} timestepping procedures in the context of \href{../../unsteady_heat/two_d_unsteady_heat/html/index.html}{\texttt{ the unsteady heat equation}} for details. ~\newline
~\newline

\item Have you implemented the relevant "{}action"{} functions, such as {\ttfamily Problem\+::actions\+\_\+before\+\_\+implicit\+\_\+timestep()} to update any time-\/dependent boundary conditions?
\end{DoxyItemize}\DoxyHorRuler{0}
\hypertarget{index_newton_divergence}{}\doxysubsection{\texorpdfstring{The Newton solver diverges}{The Newton solver diverges}}\label{index_newton_divergence}
Suggestions\+:
\begin{DoxyItemize}
\item {\ttfamily oomph-\/lib\textquotesingle{}s} default solver {\ttfamily Problem\+::newton\+\_\+solve(...)} will converge quadratically, provided ~\newline
~\newline

\begin{DoxyItemize}
\item a "{}good"{} initial guess for the solution has been assigned,
\end{DoxyItemize}~\newline
 or ~\newline

\begin{DoxyItemize}
\item the problem is linear.
\end{DoxyItemize}~\newline
 If the Newton solver fails to converge for a nonlinear problem, try to identify a related linear problem and use continuation to generate a sequence of good initial guesses. For instance, to solve the Navier-\/\+Stokes equations at a Reynolds number of 500, say, start by solving the problem for zero Reynolds number (in which case the problem becomes linear so that the Newton method converges in one iteration); increase the Reynolds number by 50, say, and re-\/solve. Repeat this procedure until the desired value of the Reynolds number is reached. ~\newline
~\newline
 {\bfseries{Note\+:}} {\ttfamily oomph-\/lib} also provides automatic continuation methods, based on Keller\textquotesingle{}s arclength continuation, but at the moment, no tutorials exist for these. ~\newline
~\newline

\item If you have tried the above and the Newton method fails to converge even for a linear version of your problem, the most likely reasons are that ~\newline
~\newline

\begin{DoxyEnumerate}
\item You have developed a new element and made a mistake in the implementation of the element\textquotesingle{}s Jacobian matrix. To check if this is the case, comment out the function that computes the element\textquotesingle{}s Jacobian matrix, i.\+e. the element member functions {\ttfamily get\+\_\+jacobian(...)} or {\ttfamily fill\+\_\+in\+\_\+contribution\+\_\+to\+\_\+jacobian(...)}. {\ttfamily oomph-\/lib} will then use the default implementation of these functions in the {\ttfamily Generalised\+Element} base class to compute the Jacobian matrices by finite-\/differencing. The executable is likely to run more slowly since the finite-\/difference-\/based computation is unlikely to be as efficient as the customised implementation for your specific element, but if the Newton method then converges, you know where to look for your bug! You may also want to check for any un-\/initialised variables. They are the most likely culprits if your code behaves differently at different levels of optimisation as more aggressive optimisation may suppress any default initialisations of data -- in fact, you should never rely on that anyway! ~\newline
~\newline

\item Your problem contains "{}dependent"{} variables, such as the nodal positions in a free-\/boundary problem. If the node update in response to changes in the shape of the domain boundary is performed by an algebraic node update procedure (using {\ttfamily Algebraic\+Nodes}, {\ttfamily Spine\+Nodes} or nodes whose position is updated by a {\ttfamily Macro\+Element/\+Domain} -\/ based procedure), the position of the nodes in the "{}bulk"{} mesh must be updated whenever the Newton method updates the unknowns. This is most easily done by calling {\ttfamily Mesh\+::node\+\_\+update()} in {\ttfamily Problem\+::actions\+\_\+before\+\_\+newton\+\_\+convergence\+\_\+check()}.
\end{DoxyEnumerate}
\end{DoxyItemize}

~\newline
~\newline
\DoxyHorRuler{0}
 \DoxyHorRuler{0}
\hypertarget{index_cust_opt}{}\doxysection{\texorpdfstring{Customisation and optimisation}{Customisation and optimisation}}\label{index_cust_opt}
\hypertarget{index_tecplot}{}\doxysubsection{\texorpdfstring{I don\textquotesingle{}t have tecplot. How do I change oomph-\/lib\textquotesingle{}s output so it can be displayed by my own plotting package?}{I don't have tecplot. How do I change oomph-lib's output so it can be displayed by my own plotting package?}}\label{index_tecplot}
{\ttfamily oomph-\/lib\textquotesingle{}s} high-\/level post-\/processing routines output the results of the computations in a form that is suitable for display with \href{http://www.tecplot.com}{\texttt{ tecplot}}, a powerful commercial plotting package. Purists may find it odd that an open-\/source library should choose an output format that is customised for a commercial software package. We tend to agree... Our only excuse is that \href{http://www.tecplot.com}{\texttt{ tecplot}} is very very good, and without it we would have found it extremely difficult to create many of the plots shown in the \href{../../example_code_list/html/index.html}{\texttt{ tutorials.}} \mbox{[}If you know of any open-\/source plotting package whose capabilities are comparable to those of \href{http://www.tecplot.com}{\texttt{ tecplot}}, \href{../../contact/html/index.html}{\texttt{ let us know!\mbox{]}}}

Angelo Simone has written a python script that converts {\ttfamily oomph-\/lib\textquotesingle{}s} output to the vtu format that can be read by \href{http://www.paraview.org}{\texttt{ paraview}}, an open-\/source 3D plotting package. The conversion script can currently deal with output from meshes that are composed of 2D quad elements -- the extension to 3D is work in progress. Use of the conversion script is documented \href{../../paraview/html/index.html}{\texttt{ in another tutorial.}}

It is possible to display {\ttfamily oomph-\/lib\textquotesingle{}s} default output (in more elementary form, obviously) with \href{http://www.gnuplot.info}{\texttt{ gnuplot}}. The trick is to specify the {\ttfamily using} option in \href{http://www.gnuplot.info}{\texttt{ gnuplot}}\textquotesingle{}s plot commands -- in this mode \href{http://www.gnuplot.info}{\texttt{ gnuplot}} ignores tecplot\textquotesingle{}s "{}\+ZONE"{} commands. For instance, trying to plot the x-\/y data created by \href{../../poisson/one_d_poisson/html/index.html}{\texttt{ the demo code for the solution of the 1D Poisson equation}} with 
\begin{DoxyCode}{0}
\DoxyCodeLine{plot\ \textcolor{stringliteral}{"{}RESLT/soln0.dat"{}}}

\end{DoxyCode}
 will fail because \href{http://www.gnuplot.info}{\texttt{ gnuplot}} gets confused by the {\ttfamily ZONE} specifications required by \href{http://www.tecplot.com}{\texttt{ tecplot.}} However, 
\begin{DoxyCode}{0}
\DoxyCodeLine{plot\ \textcolor{stringliteral}{"{}RESLT/soln0.dat"{}}\ \textcolor{keyword}{using\ }1:2}

\end{DoxyCode}
 works.

If the data is too complex to be displayed by \href{http://www.gnuplot.info}{\texttt{ gnuplot}}, you may wish to customise the output for your preferred plotting package. This is easily done as {\ttfamily oomph-\/lib} creates its output element-\/by-\/element. The elements\textquotesingle{} various {\ttfamily output(...)} functions are virtual functions that can easily be overloaded in a user-\/defined wrapper class.

Here is an example driver code that illustrates how to change the output from {\ttfamily oomph-\/lib\textquotesingle{}s} {\ttfamily QPoisson\+Element} family of 1D-\/line/2\+D-\/quad/3\+D-\/brick Poisson elements so that they output the string "{}\+Hello world"{}.

We include {\ttfamily oomph-\/lib\textquotesingle{}s} {\ttfamily generic} and {\ttfamily poisson} library headers\+:  
\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ ====================================================================}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ This\ file\ forms\ part\ of\ oomph-\/lib,\ the\ object-\/oriented,\ }}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ multi-\/physics\ finite-\/element\ library,\ available\ }}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ at\ http://www.oomph-\/lib.org.}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ }}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ Copyright\ (C)\ 2006-\/2025\ Matthias\ Heil\ and\ Andrew\ Hazel}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ }}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ This\ library\ is\ free\ software;\ you\ can\ redistribute\ it\ and/or}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ modify\ it\ under\ the\ terms\ of\ the\ GNU\ Lesser\ General\ Public}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ License\ as\ published\ by\ the\ Free\ Software\ Foundation;\ either}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ version\ 2.1\ of\ the\ License,\ or\ (at\ your\ option)\ any\ later\ version.}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ }}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ This\ library\ is\ distributed\ in\ the\ hope\ that\ it\ will\ be\ useful,}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ but\ WITHOUT\ ANY\ WARRANTY;\ without\ even\ the\ implied\ warranty\ of}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ MERCHANTABILITY\ or\ FITNESS\ FOR\ A\ PARTICULAR\ PURPOSE.\ \ See\ the\ GNU}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ Lesser\ General\ Public\ License\ for\ more\ details.}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ }}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ You\ should\ have\ received\ a\ copy\ of\ the\ GNU\ Lesser\ General\ Public}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ License\ along\ with\ this\ library;\ if\ not,\ write\ to\ the\ Free\ Software}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ Foundation,\ Inc.,\ 51\ Franklin\ Street,\ Fifth\ Floor,\ Boston,\ MA}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ 02110-\/1301\ \ USA.}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ }}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ The\ authors\ may\ be\ contacted\ at\ oomph-\/lib@maths.man.ac.uk.}}
\DoxyCodeLine{\textcolor{comment}{//LIC//\ }}
\DoxyCodeLine{\textcolor{comment}{//LIC//====================================================================}}
\DoxyCodeLine{\textcolor{comment}{//Demo\ code\ to\ document\ customisation\ of\ output}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ oomph-\/lib\ includes}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}generic.h"{}}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}poisson.h"{}}}

\end{DoxyCodeInclude}
 and then create a customised version of the Poisson elements in which we overload the tecplot-\/based {\ttfamily QPoisson\+Element$<$\+DIM,\+NNODE\+\_\+1\+D$>$\+::output(...)} function, defined in the {\ttfamily poisson} library\+:

 
\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{\textcolor{comment}{//\ The\ wrapper\ class\ for\ the\ element\ has\ to\ be\ included\ into\ }}
\DoxyCodeLine{\textcolor{comment}{//\ the\ oomph-\/lib\ namespace}}
\DoxyCodeLine{\textcolor{keyword}{namespace\ }oomph}
\DoxyCodeLine{\{}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//======customised\_poisson=============================================}\textcolor{comment}{}}
\DoxyCodeLine{\textcolor{comment}{///\ Customised\ Poisson\ element\ -\/-\/\ simply\ overloads\ the\ output\ function.}}
\DoxyCodeLine{\textcolor{comment}{///\ All\ other\ functionality\ is\ retained.}}
\DoxyCodeLine{\textcolor{comment}{}\textcolor{comment}{//=====================================================================}}
\DoxyCodeLine{\textcolor{keyword}{template}<\textcolor{keywordtype}{unsigned}\ DIM,\ \textcolor{keywordtype}{unsigned}\ NNODE\_1D>}
\DoxyCodeLine{\textcolor{keyword}{class\ }CustomisedQPoissonElement\ :\ \textcolor{keyword}{public}\ \textcolor{keyword}{virtual}\ QPoissonElement<DIM,NNODE\_1D>}
\DoxyCodeLine{\{}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{public}:}
\DoxyCodeLine{\textcolor{comment}{}}
\DoxyCodeLine{\textcolor{comment}{\ ///\ Empty\ constructor}}
\DoxyCodeLine{\textcolor{comment}{}\ CustomisedQPoissonElement()\{\};}
\DoxyCodeLine{\textcolor{comment}{}}
\DoxyCodeLine{\textcolor{comment}{\ ///\ Empty\ virtual\ constructor}}
\DoxyCodeLine{\textcolor{comment}{}\ \string~CustomisedQPoissonElement()\{\};}
\DoxyCodeLine{\textcolor{comment}{}}
\DoxyCodeLine{\textcolor{comment}{\ ///\ Overload\ output\ function}}
\DoxyCodeLine{\textcolor{comment}{}\ \textcolor{keywordtype}{void}\ output(std::ostream\&\ output\_file)}
\DoxyCodeLine{\ \ \{}
\DoxyCodeLine{\ \ \ output\_file\ <<\ \textcolor{stringliteral}{"{}Hello\ world"{}}\ <<\ std::endl;}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\}\ \textcolor{comment}{//end\ extension\ of\ oomph-\/lib\ namespace}}

\end{DoxyCodeInclude}
 If we now call the output function, the version defined in the customised element is used. The remaining implementation of the Poisson element remains unchanged.


\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//======start\_of\_main==================================================}\textcolor{comment}{}}
\DoxyCodeLine{\textcolor{comment}{///\ Driver}}
\DoxyCodeLine{\textcolor{comment}{}\textcolor{comment}{//=====================================================================}}
\DoxyCodeLine{\textcolor{keywordtype}{int}\ main()}
\DoxyCodeLine{\{}
\DoxyCodeLine{}
\DoxyCodeLine{\ \textcolor{keyword}{using\ namespace\ }oomph;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \textcolor{comment}{//\ Build\ the\ templated\ object:}}
\DoxyCodeLine{\ CustomisedQPoissonElement<2,2>\ element;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \textcolor{comment}{//\ Call\ the\ element's\ (customised)\ output\ function\ and\ dump\ to\ screen}}
\DoxyCodeLine{\ element.output(std::cout);}
\DoxyCodeLine{}
\DoxyCodeLine{\}\ \textcolor{comment}{//\ end\ of\ main}}

\end{DoxyCodeInclude}
 ~\newline
~\newline
 \DoxyHorRuler{0}


~\newline
~\newline
 \hypertarget{index_element_too_general}{}\doxysubsection{\texorpdfstring{oomph-\/lib\textquotesingle{}s implementation of the Navier-\/\+Stokes equations (say) is too general (and therefore too expensive) for my application. How do I change this?}{oomph-lib's implementation of the Navier-Stokes equations (say) is too general (and therefore too expensive) for my application. How do I change this?}}\label{index_element_too_general}
Many of {\ttfamily oomph-\/lib\textquotesingle{}s} equations classes (or elements) are implemented in great generality. For instance, our discretisation of the Navier-\/\+Stokes equations includes a source term in the continuity equation, and body force terms in the momentum equations; it allows switching between the stress-\/divergence and simplified forms of the viscous terms; it includes the mesh velocity into the ALE formulation of the time-\/derivatives; etc. This makes the elements very versatile and robust. However, the generality/robustness comes at a price\+: Even though we provide default values for most functions (e.\+g. the body force terms default to zero), their evaluation requires a finite amount of CPU time. If you wish to use the elements in a simple application in which the Navier-\/\+Stokes equations are solved in a fixed domain, without any body forces or other source terms, say, you may wish to disable the additional functionality.

This is easily done\+: After all, {\ttfamily oomph-\/lib} is open-\/source software and you can therefore change anything you want! In principle, you could edit the source code in the {\ttfamily src/navier\+\_\+stokes} directory and delete (or at least comment out) all the functionality that you do not require. However, this is probably a risky step as it will break all demo codes (used during {\ttfamily oomph-\/lib\textquotesingle{}s} self-\/test procedure) that use some of the features that you are not interested in. We therefore recommend copying the content of the directory {\ttfamily src/navier\+\_\+stokes} into a new directory, e.\+g. {\ttfamily src/my\+\_\+navier\+\_\+stokes} and to edit the copied sources. Follow the instructions in the {\ttfamily oomph-\/lib} \href{https://github.com/oomph-lib/oomph-lib}{\texttt{ Git\+Hub repository}} to turn these sources into a separate library against which you can link.

~\newline
~\newline
\DoxyHorRuler{0}
 \DoxyHorRuler{0}
\hypertarget{index_nav}{}\doxysection{\texorpdfstring{Finding your way around the distribution}{Finding your way around the distribution}}\label{index_nav}
\DoxyHorRuler{0}
\hypertarget{index_too_much}{}\doxysubsection{\texorpdfstring{There is so much information – how do I get started?}{There is so much information – how do I get started?}}\label{index_too_much}
Yes, {\ttfamily oomph-\/lib} does contain a lot of code and a lot of documentation. How to get started obviously depends on your background\+: Are you familiar with the finite element method? How good is your knowledge of C++? Etc. ~\newline
~\newline
Here are some possible "{}routemaps"{} around the library\+:


\begin{DoxyItemize}
\item {\bfseries{You are familiar with the finite element method and have a fairly good knowledge of C++}}~\newline
~\newline

\begin{DoxyItemize}
\item Have a look through the \href{../../example_code_list/html/index.html}{\texttt{ list of example codes}} to get a feeling for {\ttfamily oomph-\/lib\textquotesingle{}s} capabilities. Pick a problem that interests you and study the associated tutorial. Copy the driver code into your own directory and play with it. ~\newline
~\newline

\item Once you have played with a few example codes, you may wish to to learn more about {\ttfamily oomph-\/lib\textquotesingle{}s} \href{../../the_data_structure/html/index.html}{\texttt{ overall data structure,}} or find out \href{../../optimisation/html/index.html}{\texttt{ how to optimise the library}} for your particular application. ~\newline
~\newline

\end{DoxyItemize}
\item {\bfseries{You have never used finite element methods but have a fairly good knowledge of C++}}~\newline
~\newline

\begin{DoxyItemize}
\item Study the \href{../../intro/html/index.html}{\texttt{ "{}\+Top Down"{} introduction}}. This document includes a "{}low tech"{} overview of the mathematical/theoretical background and contrasts procedural implementations of the finite element method with the object-\/oriented approach adopted in {\ttfamily oomph-\/lib}. ~\newline
~\newline

\item Consult the \href{../../quick_guide/html/index.html}{\texttt{ (Not-\/\+So-\/)Quick-\/\+Guide}} to learn how to construct basic {\ttfamily oomph-\/lib} objects for your problem\+: {\ttfamily Problems}, {\ttfamily Meshes}, {\ttfamily Finite\+Elements}, etc. ~\newline
~\newline

\item Continue with the steps suggested above. ~\newline
~\newline

\end{DoxyItemize}
\item {\bfseries{You have never used finite element methods and are a newcomer to C++}}~\newline
~\newline

\begin{DoxyItemize}
\item Buy \href{http://www.math.wayne.edu/~yang/}{\texttt{ Daoqi Yang}} brilliant book \href{http://www.springeronline.com/sgw/cda/frontpage/0,11855,4-40007-22-2105335-0,00.html?changeHeader=true}{\texttt{ C++ and Object-\/\+Oriented Numeric Computing for Scientists and Engineers.}} Read it! Pretty much everything in this book is relevant for some parts of {\ttfamily oomph-\/lib}. You should at least understand\+: ~\newline
~\newline

\begin{DoxyItemize}
\item The procedural aspects of C++ (basic types, functions and control structures).
\item Namespaces.
\item Classes (private, protected and public members; inheritance and multiple inheritance; virtual and pure virtual functions; base classes and derived classes; static and dynamic casts).
\item Templates and template instantiations.
\item The standard template library (STL).
\end{DoxyItemize}~\newline
~\newline

\item Continue with the steps suggested above. ~\newline
~\newline

\end{DoxyItemize}
\end{DoxyItemize}

~\newline
~\newline
 \DoxyHorRuler{0}


~\newline
~\newline
 \hypertarget{index_includes}{}\doxysubsection{\texorpdfstring{Where is this class/function/... defined?}{Where is this class/function/... defined?}}\label{index_includes}
Assume you have studied one of the \href{../../example_code_list/html/index.html}{\texttt{ example codes}} and wish to find out more about the implementation of a particular class or function that is used there. How do you find its source code and/or its full documentation?

Generally, a class/function that is used in a demo code can only be defined in one of two places\+:
\begin{DoxyEnumerate}
\item In the demo driver code itself.
\item In an included file and/or an associated library.
\end{DoxyEnumerate}{\ttfamily oomph-\/lib\textquotesingle{}s} \href{../../example_code_list/html/index.html}{\texttt{ tutorials}} tend to provide a fairly complete annotated listing of the relevant driver codes; if the function you are interested in is not mentioned explicitly in the tutorial, it is most likely to be defined in an include file. You can inspect the driver code in its entirety by following the link at the end of the tutorials. If you cannot find the class/function there, it must be defined in one of the include files listed at the beginning of the source code.

The included files themselves can either be located in the same directory as the demo driver (the directory also tends to be mentioned at the end of the tutorial) or in one of {\ttfamily oomph-\/lib\textquotesingle{}s} sub-\/libraries. The source code for these is located in the sub-\/directories of the {\ttfamily src} directory. Often the class/function is defined in a source file with an "{}obvious"{} name; if not, use {\ttfamily grep} to find it. This can, of course, be done recursively. For instance, the command


\begin{DoxyCode}{0}
\DoxyCodeLine{find\ .\ \(\backslash\)(\ -\/name\ \textcolor{stringliteral}{'*.h'}\ -\/o\ -\/name\ \textcolor{stringliteral}{'*.cc'}\ \(\backslash\))\ -\/exec\ grep\ -\/H\ FiniteElement\ \{\}\ \(\backslash\);}

\end{DoxyCode}


issued in {\ttfamily oomph-\/lib\textquotesingle{}s} top-\/level directory will search through the entire distribution to locate files that contain the string "{}\+Finite\+Element"{}.

You can also use the html-\/based representation of {\ttfamily oomph-\/lib\textquotesingle{}s} data structure, created by \href{http://www.doxygen.org}{\texttt{ doxygen,}} in the \href{../../the_data_structure/html/index.html}{\texttt{ "{}bottom-\/up"{} discussion of the data structure.}} (Note that the search menu may not work on your browser.)

~\newline
~\newline
\DoxyHorRuler{0}
 \DoxyHorRuler{0}
\hypertarget{index_all_else_fails}{}\doxysection{\texorpdfstring{If all else fails...}{If all else fails...}}\label{index_all_else_fails}
\hypertarget{index_reporting}{}\doxysubsection{\texorpdfstring{How to report problems/bugs}{How to report problems/bugs}}\label{index_reporting}
If all else fails and you think you have found a bug in the library, make sure you follow these steps\+:
\begin{DoxyEnumerate}
\item Isolate the problem\+: Try to identify the shortest driver code that still produces the problem.~\newline
~\newline

\item Double-\/check the \href{../../the_data_structure/html/index.html}{\texttt{ relevant documentation}}, the installation instructions on {\ttfamily oomph-\/lib}\textquotesingle{}s \href{https://github.com/oomph-lib/oomph-lib}{\texttt{ Git\+Hub repository}} and the other FAQs listed here.~\newline
~\newline

\item Does the problem persist when you compile the library and your test code without optimisation, and when the {\ttfamily RANGE\+\_\+\+CHECKING} and {\ttfamily PARANOID} flags are set? ~\newline
~\newline

\item Does the problem occur with a sufficiently recent version of the \href{http://gcc.gnu.org/}{\texttt{ gcc compiler suite}}?~\newline
~\newline

\item If the above steps identify the problem, \href{../../contact/html/index.html}{\texttt{ let us know}}, ideally with a bug fix! ~\newline
~\newline

\item If you can\textquotesingle{}t fix the problem yourself, get in touch \href{../../contact/html/index.html}{\texttt{ either directly}}, or via our Git\+Hub-\/based bug tracking system, accessible online at ~\newline
~\newline
 \begin{center} \href{https://github.com/oomph-lib/oomph-lib/issues}{\texttt{ https\+://github.\+com/oomph-\/lib/oomph-\/lib/issues}} \end{center}  ~\newline
 and provide as much information as possible (clear description of the problem; the source code; the Makefile; details of the compiler and compilation flags used; any warning/error messages that are displayed during the compilation of the library or the driver code itself; etc.) ~\newline
~\newline

\end{DoxyEnumerate}

\DoxyHorRuler{0}
 \DoxyHorRuler{0}
 \hypertarget{index_pdf}{}\doxysection{\texorpdfstring{PDF file}{PDF file}}\label{index_pdf}
A \href{../latex/refman.pdf}{\texttt{ pdf version}} of this document is available. \textbackslash{} \end{document}
