\hypertarget{missing__masters_8template_8cc_source}{}\doxysection{missing\+\_\+masters.\+template.\+cc}
\label{missing__masters_8template_8cc_source}\index{missing\_masters.template.cc@{missing\_masters.template.cc}}
\mbox{\hyperlink{missing__masters_8template_8cc}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00001}00001 \textcolor{comment}{// LIC// ====================================================================}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00002}00002 \textcolor{comment}{// LIC// This file forms part of oomph-\/lib, the object-\/oriented,}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00003}00003 \textcolor{comment}{// LIC// multi-\/physics finite-\/element library, available}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00004}00004 \textcolor{comment}{// LIC// at http://www.oomph-\/lib.org.}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00005}00005 \textcolor{comment}{// LIC//}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00006}00006 \textcolor{comment}{// LIC// Copyright (C) 2006-\/2021 Matthias Heil and Andrew Hazel}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00007}00007 \textcolor{comment}{// LIC//}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00008}00008 \textcolor{comment}{// LIC// This library is free software; you can redistribute it and/or}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00009}00009 \textcolor{comment}{// LIC// modify it under the terms of the GNU Lesser General Public}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00010}00010 \textcolor{comment}{// LIC// License as published by the Free Software Foundation; either}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00011}00011 \textcolor{comment}{// LIC// version 2.1 of the License, or (at your option) any later version.}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00012}00012 \textcolor{comment}{// LIC//}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00013}00013 \textcolor{comment}{// LIC// This library is distributed in the hope that it will be useful,}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00014}00014 \textcolor{comment}{// LIC// but WITHOUT ANY WARRANTY; without even the implied warranty of}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00015}00015 \textcolor{comment}{// LIC// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00016}00016 \textcolor{comment}{// LIC// Lesser General Public License for more details.}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00017}00017 \textcolor{comment}{// LIC//}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00018}00018 \textcolor{comment}{// LIC// You should have received a copy of the GNU Lesser General Public}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00019}00019 \textcolor{comment}{// LIC// License along with this library; if not, write to the Free Software}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00020}00020 \textcolor{comment}{// LIC// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00021}00021 \textcolor{comment}{// LIC// 02110-\/1301  USA.}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00022}00022 \textcolor{comment}{// LIC//}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00023}00023 \textcolor{comment}{// LIC// The authors may be contacted at oomph-\/lib@maths.man.ac.uk.}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00024}00024 \textcolor{comment}{// LIC//}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00025}00025 \textcolor{comment}{// LIC//====================================================================}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00026}00026 \textcolor{comment}{// Templated missing masters functions}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00027}00027 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00028}00028 \textcolor{comment}{// Include guards to prevent multiple inclusion of the header}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00029}00029 \textcolor{preprocessor}{\#ifndef OOMPH\_MISSING\_MASTERS\_CC}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00030}00030 \textcolor{preprocessor}{\#define OOMPH\_MISSING\_MASTERS\_CC}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00031}00031 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00032}00032 \textcolor{comment}{// Config header generated by autoconfig}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00033}00033 \textcolor{preprocessor}{\#ifdef HAVE\_CONFIG\_H}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00034}00034 \textcolor{preprocessor}{\#include <oomph-\/lib-\/config.h>}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00035}00035 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00036}00036 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00037}00037 \textcolor{comment}{// Oomph-\/lib headers}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00038}00038 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{geom__objects_8h}{geom\_objects.h}}"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00039}00039 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{problem_8h}{problem.h}}"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00040}00040 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{shape_8h}{shape.h}}"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00041}00041 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00042}00042 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{mesh_8h}{mesh.h}}"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00043}00043 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{mesh__as__geometric__object_8h}{mesh\_as\_geometric\_object.h}}"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00044}00044 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{algebraic__elements_8h}{algebraic\_elements.h}}"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00045}00045 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{macro__element__node__update__element_8h}{macro\_element\_node\_update\_element.h}}"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00046}00046 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{Qelements_8h}{Qelements.h}}"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00047}00047 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{element__with__external__element_8h}{element\_with\_external\_element.h}}"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00048}00048 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{missing__masters_8h}{missing\_masters.h}}"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00049}00049 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00050}00050 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceoomph}{oomph}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00051}00051 \{\textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00052}00052 \textcolor{comment}{  /// / Templated helper functions for missing master methods,}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00053}00053 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00054}00054 \textcolor{preprocessor}{\#ifdef OOMPH\_HAS\_MPI}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00055}00055 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00056}00056 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00057}00057   \textcolor{comment}{//============start of add\_external\_halo\_node\_to\_storage===============}\textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00058}00058 \textcolor{comment}{  /// Helper function to add external halo nodes, including any masters,}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00059}00059 \textcolor{comment}{  /// based on information received from the haloed process}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00060}00060 \textcolor{comment}{}  \textcolor{comment}{//=========================================================================}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00061}00061   \textcolor{keyword}{template}<\textcolor{keyword}{class} EXT\_ELEMENT>}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00062}\mbox{\hyperlink{namespaceoomph_1_1Missing__masters__functions_a9510959d4583c82a516d520c9da35a93}{00062}}   \textcolor{keywordtype}{void} \mbox{\hyperlink{namespaceoomph_1_1Missing__masters__functions_a9510959d4583c82a516d520c9da35a93}{Missing\_masters\_functions::add\_external\_halo\_node\_to\_storage}}(}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00063}00063     \mbox{\hyperlink{classoomph_1_1Node}{Node}}*\& new\_nod\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00064}00064     \mbox{\hyperlink{classoomph_1_1Mesh}{Mesh}}* \textcolor{keyword}{const}\& mesh\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00065}00065     \textcolor{keywordtype}{unsigned}\& loc\_p,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00066}00066     \textcolor{keywordtype}{unsigned}\& node\_index,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00067}00067     \mbox{\hyperlink{classoomph_1_1FiniteElement}{FiniteElement}}* \textcolor{keyword}{const}\& new\_el\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00068}00068     \textcolor{keywordtype}{int}\& n\_cont\_inter\_values,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00069}00069     \textcolor{keywordtype}{unsigned}\& counter\_for\_recv\_unsigneds,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00070}00070     \mbox{\hyperlink{classoomph_1_1Vector}{Vector<unsigned>}}\& recv\_unsigneds,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00071}00071     \textcolor{keywordtype}{unsigned}\& counter\_for\_recv\_doubles,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00072}00072     \mbox{\hyperlink{classoomph_1_1Vector}{Vector<double>}}\& recv\_doubles)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00073}00073   \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00074}00074     \textcolor{comment}{// Add the external halo node if required}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00075}00075     \mbox{\hyperlink{namespaceoomph_1_1Missing__masters__functions_a537b9f129421d1ad4f6915794d9dd66f}{add\_external\_halo\_node\_helper}}(new\_nod\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00076}00076                                   mesh\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00077}00077                                   loc\_p,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00078}00078                                   node\_index,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00079}00079                                   new\_el\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00080}00080                                   n\_cont\_inter\_values,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00081}00081                                   counter\_for\_recv\_unsigneds,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00082}00082                                   recv\_unsigneds,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00083}00083                                   counter\_for\_recv\_doubles,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00084}00084                                   recv\_doubles);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00085}00085 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00086}00086     \textcolor{comment}{// Recursively add masters}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00087}00087     recursively\_add\_masters\_of\_external\_halo\_node\_to\_storage<EXT\_ELEMENT>(}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00088}00088       new\_nod\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00089}00089       mesh\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00090}00090       loc\_p,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00091}00091       node\_index,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00092}00092       n\_cont\_inter\_values,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00093}00093       counter\_for\_recv\_unsigneds,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00094}00094       recv\_unsigneds,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00095}00095       counter\_for\_recv\_doubles,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00096}00096       recv\_doubles);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00097}00097   \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00098}00098 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00099}00099 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00100}00100   \textcolor{comment}{//========================================================================}\textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00101}00101 \textcolor{comment}{  /// Recursively add masters of external halo nodes (and their masters, etc)}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00102}00102 \textcolor{comment}{  /// based on information received from the haloed process}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00103}00103 \textcolor{comment}{}  \textcolor{comment}{//=========================================================================}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00104}00104   \textcolor{keyword}{template}<\textcolor{keyword}{class} EXT\_ELEMENT>}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00105}\mbox{\hyperlink{namespaceoomph_1_1Missing__masters__functions_a5aeedca2c5268a414d83fa7cfd023f14}{00105}}   \textcolor{keywordtype}{void} \mbox{\hyperlink{namespaceoomph_1_1Missing__masters__functions_a5aeedca2c5268a414d83fa7cfd023f14}{Missing\_masters\_functions::}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00106}00106 \mbox{\hyperlink{namespaceoomph_1_1Missing__masters__functions_a5aeedca2c5268a414d83fa7cfd023f14}{    recursively\_add\_masters\_of\_external\_halo\_node\_to\_storage}}(}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00107}00107       \mbox{\hyperlink{classoomph_1_1Node}{Node}}*\& new\_nod\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00108}00108       \mbox{\hyperlink{classoomph_1_1Mesh}{Mesh}}* \textcolor{keyword}{const}\& mesh\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00109}00109       \textcolor{keywordtype}{unsigned}\& loc\_p,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00110}00110       \textcolor{keywordtype}{unsigned}\& node\_index,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00111}00111       \textcolor{keywordtype}{int}\& n\_cont\_inter\_values,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00112}00112       \textcolor{keywordtype}{unsigned}\& counter\_for\_recv\_unsigneds,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00113}00113       \mbox{\hyperlink{classoomph_1_1Vector}{Vector<unsigned>}}\& recv\_unsigneds,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00114}00114       \textcolor{keywordtype}{unsigned}\& counter\_for\_recv\_doubles,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00115}00115       \mbox{\hyperlink{classoomph_1_1Vector}{Vector<double>}}\& recv\_doubles)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00116}00116   \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00117}00117     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i\_cont = -\/1; i\_cont < n\_cont\_inter\_values; i\_cont++)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00118}00118     \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00119}00119 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00120}00120       \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00121}00121                  << \textcolor{stringliteral}{"{} Boolean to indicate that continuously interpolated "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00122}00122                     \textcolor{stringliteral}{"{}variable i\_cont "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00123}00123                  << i\_cont << \textcolor{stringliteral}{"{} is hanging "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00124}00124                  << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00125}00125 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00126}00126       \textcolor{keywordflow}{if} (recv\_unsigneds[counter\_for\_recv\_unsigneds++] == 1)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00127}00127       \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00128}00128 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00129}00129         \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00130}00130                    << \textcolor{stringliteral}{"{}  Number of master nodes "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00131}00131                    << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00132}00132 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00133}00133         \textcolor{keywordtype}{unsigned} n\_master = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00134}00134 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00135}00135         \textcolor{comment}{// Setup new HangInfo}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00136}00136         \mbox{\hyperlink{classoomph_1_1HangInfo}{HangInfo}}* hang\_pt = \textcolor{keyword}{new} \mbox{\hyperlink{classoomph_1_1HangInfo}{HangInfo}}(n\_master);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00137}00137         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} m = 0; m < n\_master; m++)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00138}00138         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00139}00139           \mbox{\hyperlink{classoomph_1_1Node}{Node}}* master\_nod\_pt = 0;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00140}00140           \textcolor{comment}{// Get the master node (creating and adding it if required)}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00141}00141           add\_external\_halo\_master\_node\_helper<EXT\_ELEMENT>(}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00142}00142             master\_nod\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00143}00143             new\_nod\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00144}00144             mesh\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00145}00145             loc\_p,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00146}00146             n\_cont\_inter\_values,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00147}00147             counter\_for\_recv\_unsigneds,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00148}00148             recv\_unsigneds,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00149}00149             counter\_for\_recv\_doubles,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00150}00150             recv\_doubles);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00151}00151 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00152}00152           \textcolor{comment}{// Get the weight and set the HangInfo}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00153}00153           \textcolor{keywordtype}{double} master\_weight = recv\_doubles[counter\_for\_recv\_doubles++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00154}00154           hang\_pt-\/>\mbox{\hyperlink{classoomph_1_1HangInfo_afe4042d5805342d5e12b6a28e376885a}{set\_master\_node\_pt}}(m, master\_nod\_pt, master\_weight);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00155}00155 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00156}00156           \textcolor{comment}{// Recursively add masters of master}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00157}00157           recursively\_add\_masters\_of\_external\_halo\_node\_to\_storage<EXT\_ELEMENT>(}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00158}00158             master\_nod\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00159}00159             mesh\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00160}00160             loc\_p,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00161}00161             node\_index,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00162}00162             n\_cont\_inter\_values,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00163}00163             counter\_for\_recv\_unsigneds,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00164}00164             recv\_unsigneds,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00165}00165             counter\_for\_recv\_doubles,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00166}00166             recv\_doubles);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00167}00167         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00168}00168         new\_nod\_pt-\/>\mbox{\hyperlink{classoomph_1_1Node_a98b3e63390c43196db9429f32319b0ca}{set\_hanging\_pt}}(hang\_pt, i\_cont);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00169}00169       \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00170}00170     \} \textcolor{comment}{// end loop over continous interpolated values}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00171}00171   \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00172}00172 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00173}00173   \textcolor{comment}{//========================================================================}\textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00174}00174 \textcolor{comment}{  /// Helper function to add external halo node that is a master}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00175}00175 \textcolor{comment}{}  \textcolor{comment}{//========================================================================}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00176}00176   \textcolor{keyword}{template}<\textcolor{keyword}{class} EXT\_ELEMENT>}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00177}\mbox{\hyperlink{namespaceoomph_1_1Missing__masters__functions_a9e3bf04e14473cd6671c5b1f17bc4823}{00177}}   \textcolor{keywordtype}{void} \mbox{\hyperlink{namespaceoomph_1_1Missing__masters__functions_a9e3bf04e14473cd6671c5b1f17bc4823}{Missing\_masters\_functions::add\_external\_halo\_master\_node\_helper}}(}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00178}00178     \mbox{\hyperlink{classoomph_1_1Node}{Node}}*\& new\_master\_nod\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00179}00179     \mbox{\hyperlink{classoomph_1_1Node}{Node}}*\& new\_nod\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00180}00180     \mbox{\hyperlink{classoomph_1_1Mesh}{Mesh}}* \textcolor{keyword}{const}\& mesh\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00181}00181     \textcolor{keywordtype}{unsigned}\& loc\_p,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00182}00182     \textcolor{keywordtype}{int}\& ncont\_inter\_values,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00183}00183     \textcolor{keywordtype}{unsigned}\& counter\_for\_recv\_unsigneds,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00184}00184     \mbox{\hyperlink{classoomph_1_1Vector}{Vector<unsigned>}}\& recv\_unsigneds,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00185}00185     \textcolor{keywordtype}{unsigned}\& counter\_for\_recv\_doubles,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00186}00186     \mbox{\hyperlink{classoomph_1_1Vector}{Vector<double>}}\& recv\_doubles)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00187}00187   \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00188}00188     \textcolor{comment}{// Given the node and the external mesh, and received information}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00189}00189     \textcolor{comment}{// about them from process loc\_p, construct them on the current process}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00190}00190 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00191}00191     \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00192}00192       << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00193}00193       << \textcolor{stringliteral}{"{}  Boolean to trigger construction of new external halo master node "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00194}00194       << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00195}00195 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00196}00196     \textcolor{keywordflow}{if} (recv\_unsigneds[counter\_for\_recv\_unsigneds++] == 1)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00197}00197     \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00198}00198       \textcolor{comment}{// Construct a new node based upon sent information}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00199}00199       construct\_new\_external\_halo\_master\_node\_helper<EXT\_ELEMENT>(}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00200}00200         new\_master\_nod\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00201}00201         new\_nod\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00202}00202         loc\_p,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00203}00203         mesh\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00204}00204         counter\_for\_recv\_unsigneds,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00205}00205         recv\_unsigneds,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00206}00206         counter\_for\_recv\_doubles,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00207}00207         recv\_doubles);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00208}00208     \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00209}00209     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00210}00210     \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00211}00211       \textcolor{comment}{// Need to check which storage we should copy this halo node from}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00212}00212 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00213}00213       \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00214}00214                  << \textcolor{stringliteral}{"{}  Existing external halo node was found externally (0) or "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00215}00215                     \textcolor{stringliteral}{"{}internally (1): "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00216}00216                  << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00217}00217 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00218}00218       \textcolor{keywordtype}{unsigned} node\_found\_internally =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00219}00219         recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00220}00220       \textcolor{keywordflow}{if} (node\_found\_internally)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00221}00221       \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00222}00222 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00223}00223         \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00224}00224                    << \textcolor{stringliteral}{"{}  index of existing (internal) halo master node "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00225}00225                    << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00226}00226 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00227}00227         \textcolor{comment}{// Copy node from received location}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00228}00228         new\_master\_nod\_pt = mesh\_pt-\/>\mbox{\hyperlink{classoomph_1_1Mesh_ae43776ad2c2cf72ed50cc32f927386d4}{shared\_node\_pt}}(}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00229}00229           loc\_p, recv\_unsigneds[counter\_for\_recv\_unsigneds++]);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00230}00230       \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00231}00231       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00232}00232       \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00233}00233 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00234}00234         \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00235}00235                    << \textcolor{stringliteral}{"{}  index of existing external halo master node "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00236}00236                    << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00237}00237 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00238}00238         \textcolor{comment}{// Copy node from received location}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00239}00239         new\_master\_nod\_pt = mesh\_pt-\/>\mbox{\hyperlink{classoomph_1_1Mesh_a1f88352a0bf5be7d15858915097c1e70}{external\_halo\_node\_pt}}(}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00240}00240           loc\_p, recv\_unsigneds[counter\_for\_recv\_unsigneds++]);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00241}00241       \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00242}00242     \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00243}00243   \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00244}00244 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00245}00245   \textcolor{comment}{//======start of construct\_new\_external\_halo\_master\_node\_helper===========}\textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00246}00246 \textcolor{comment}{  /// Helper function which constructs a new external halo master node}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00247}00247 \textcolor{comment}{  /// with the required information sent from the haloed process}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00248}00248 \textcolor{comment}{}  \textcolor{comment}{//========================================================================}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00249}00249   \textcolor{keyword}{template}<\textcolor{keyword}{class} EXT\_ELEMENT>}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00250}\mbox{\hyperlink{namespaceoomph_1_1Missing__masters__functions_a97561cb6cf8e5ad1c876173ee5973e41}{00250}}   \textcolor{keywordtype}{void} \mbox{\hyperlink{namespaceoomph_1_1Missing__masters__functions_a97561cb6cf8e5ad1c876173ee5973e41}{Missing\_masters\_functions::}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00251}00251 \mbox{\hyperlink{namespaceoomph_1_1Missing__masters__functions_a97561cb6cf8e5ad1c876173ee5973e41}{    construct\_new\_external\_halo\_master\_node\_helper}}(}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00252}00252       \mbox{\hyperlink{classoomph_1_1Node}{Node}}*\& new\_master\_nod\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00253}00253       \mbox{\hyperlink{classoomph_1_1Node}{Node}}*\& nod\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00254}00254       \textcolor{keywordtype}{unsigned}\& loc\_p,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00255}00255       \mbox{\hyperlink{classoomph_1_1Mesh}{Mesh}}* \textcolor{keyword}{const}\& mesh\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00256}00256       \textcolor{keywordtype}{unsigned}\& counter\_for\_recv\_unsigneds,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00257}00257       \mbox{\hyperlink{classoomph_1_1Vector}{Vector<unsigned>}}\& recv\_unsigneds,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00258}00258       \textcolor{keywordtype}{unsigned}\& counter\_for\_recv\_doubles,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00259}00259       \mbox{\hyperlink{classoomph_1_1Vector}{Vector<double>}}\& recv\_doubles)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00260}00260   \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00261}00261     \textcolor{comment}{// First three sent numbers are dimension, position type and nvalue}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00262}00262     \textcolor{comment}{// (to be used in Node constructors)}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00263}00263 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00264}00264     \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00265}00265                << \textcolor{stringliteral}{"{}  ndim for external halo master node "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00266}00266                << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00267}00267 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00268}00268     \textcolor{keywordtype}{unsigned} n\_dim = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00269}00269 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00270}00270     \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00271}00271                << \textcolor{stringliteral}{"{}  nposition type for external halo master node "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00272}00272                << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00273}00273 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00274}00274     \textcolor{keywordtype}{unsigned} n\_position\_type = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00275}00275 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00276}00276     \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00277}00277                << \textcolor{stringliteral}{"{}  nvalue for external halo master node "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00278}00278                << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00279}00279 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00280}00280     \textcolor{keywordtype}{unsigned} n\_value = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00281}00281 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00282}00282     \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00283}00283                << \textcolor{stringliteral}{"{}  non-\/halo processor ID for external halo master node "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00284}00284                << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00285}00285 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00286}00286     \textcolor{keywordtype}{unsigned} non\_halo\_proc\_ID = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00287}00287 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00288}00288     \textcolor{comment}{// If it's a solid node also receive the lagrangian dimension and pos type}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00289}00289     \mbox{\hyperlink{classoomph_1_1SolidNode}{SolidNode}}* solid\_nod\_pt = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{classoomph_1_1SolidNode}{SolidNode}}*\textcolor{keyword}{>}(nod\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00290}00290     \textcolor{keywordtype}{unsigned} n\_lag\_dim;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00291}00291     \textcolor{keywordtype}{unsigned} n\_lag\_type;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00292}00292     \textcolor{keywordflow}{if} (solid\_nod\_pt != 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00293}00293     \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00294}00294 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00295}00295       \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00296}00296                  << \textcolor{stringliteral}{"{}  nlagrdim for external halo master solid node "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00297}00297                  << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00298}00298 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00299}00299       n\_lag\_dim = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00300}00300 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00301}00301       \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00302}00302                  << \textcolor{stringliteral}{"{}  nlagrtype for external halo master solid node "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00303}00303                  << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00304}00304 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00305}00305       n\_lag\_type = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00306}00306     \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00307}00307 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00308}00308     \textcolor{comment}{// Null TimeStepper for now}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00309}00309     \mbox{\hyperlink{classoomph_1_1TimeStepper}{TimeStepper}}* time\_stepper\_pt = 0;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00310}00310     \textcolor{comment}{// Default number of previous values to 1}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00311}00311     \textcolor{keywordtype}{unsigned} n\_prev = 1;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00312}00312 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00313}00313     \textcolor{comment}{// Just take timestepper from a node}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00314}00314     \textcolor{comment}{// Let's use first node of first element since this must exist}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00315}00315     time\_stepper\_pt =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00316}00316       mesh\_pt-\/>\mbox{\hyperlink{classoomph_1_1Mesh_a479059b0964826a8cee6eb506b57268a}{finite\_element\_pt}}(0)-\/>\mbox{\hyperlink{classoomph_1_1FiniteElement_a9addfe893ab8205619963aa96204cdc4}{node\_pt}}(0)-\/>\mbox{\hyperlink{classoomph_1_1Data_a065d7bffcec82bf4d4bd7b41f9aa80b3}{time\_stepper\_pt}}();}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00317}00317 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00318}00318     \textcolor{comment}{// Is the node for which the master is required Algebraic, Macro or Solid?}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00319}00319     \mbox{\hyperlink{classoomph_1_1AlgebraicNode}{AlgebraicNode}}* alg\_nod\_pt = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{classoomph_1_1AlgebraicNode}{AlgebraicNode}}*\textcolor{keyword}{>}(nod\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00320}00320     \mbox{\hyperlink{classoomph_1_1MacroElementNodeUpdateNode}{MacroElementNodeUpdateNode}}* macro\_nod\_pt =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00321}00321       \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{classoomph_1_1MacroElementNodeUpdateNode}{MacroElementNodeUpdateNode}}*\textcolor{keyword}{>}(nod\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00322}00322 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00323}00323     \textcolor{comment}{// What type of node was the node for which we are constructing a master?}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00324}00324     \textcolor{keywordflow}{if} (alg\_nod\_pt != 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00325}00325     \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00326}00326       \textcolor{comment}{// The master node should also be algebraic}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00327}00327 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00328}00328       \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00329}00329                  << \textcolor{stringliteral}{"{}  Boolean for algebraic boundary node "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00330}00330                  << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00331}00331 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00332}00332       \textcolor{comment}{// If this master node's haloed copy is on a boundary then}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00333}00333       \textcolor{comment}{// it needs to be on the same boundary here}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00334}00334       \textcolor{keywordflow}{if} (recv\_unsigneds[counter\_for\_recv\_unsigneds++] == 1)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00335}00335       \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00336}00336         \textcolor{comment}{// Create a new BoundaryNode (not attached to an element)}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00337}00337         \textcolor{keywordflow}{if} (time\_stepper\_pt != 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00338}00338         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00339}00339           new\_master\_nod\_pt = \textcolor{keyword}{new} \mbox{\hyperlink{classoomph_1_1BoundaryNode}{BoundaryNode<AlgebraicNode>}}(}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00340}00340             time\_stepper\_pt, n\_dim, n\_position\_type, n\_value);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00341}00341         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00342}00342         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00343}00343         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00344}00344           new\_master\_nod\_pt =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00345}00345             \textcolor{keyword}{new} \mbox{\hyperlink{classoomph_1_1BoundaryNode}{BoundaryNode<AlgebraicNode>}}(n\_dim, n\_position\_type, n\_value);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00346}00346         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00347}00347 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00348}00348         \textcolor{comment}{// How many boundaries does the algebraic master node live on?}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00349}00349 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00350}00350         \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00351}00351                    << \textcolor{stringliteral}{"{} Number of boundaries the algebraic master node is on: "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00352}00352                    << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00353}00353 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00354}00354         \textcolor{keywordtype}{unsigned} nb = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00355}00355         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \mbox{\hyperlink{cfortran_8h_adb50e893b86b3e55e751a42eab3cba82}{i}} = 0; \mbox{\hyperlink{cfortran_8h_adb50e893b86b3e55e751a42eab3cba82}{i}} < nb; \mbox{\hyperlink{cfortran_8h_adb50e893b86b3e55e751a42eab3cba82}{i}}++)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00356}00356         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00357}00357           \textcolor{comment}{// Boundary number}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00358}00358 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00359}00359           \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00360}00360                      << \textcolor{stringliteral}{"{}  Algebraic master node is on boundary "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00361}00361                      << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00362}00362 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00363}00363           \textcolor{keywordtype}{unsigned} i\_bnd = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00364}00364           mesh\_pt-\/>\mbox{\hyperlink{classoomph_1_1Mesh_a007b102ac8e42328872ad658d7110bfc}{add\_boundary\_node}}(i\_bnd, new\_master\_nod\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00365}00365         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00366}00366 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00367}00367 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00368}00368         \textcolor{comment}{// Do we have additional values created by face elements?}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00369}00369 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00370}00370         \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds << \textcolor{stringliteral}{"{} "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00371}00371                    << \textcolor{stringliteral}{"{}Number of additional values created by face element "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00372}00372                    << \textcolor{stringliteral}{"{}for master node "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00373}00373                    << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00374}00374 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00375}00375         \textcolor{keywordtype}{unsigned} n\_entry = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00376}00376         \textcolor{keywordflow}{if} (n\_entry > 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00377}00377         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00378}00378           \textcolor{comment}{// Create storage, if it doesn't already exist, for the map}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00379}00379           \textcolor{comment}{// that will contain the position of the first entry of}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00380}00380           \textcolor{comment}{// this face element's additional values,}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00381}00381           \mbox{\hyperlink{classoomph_1_1BoundaryNodeBase}{BoundaryNodeBase}}* bnew\_master\_nod\_pt =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00382}00382             \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{classoomph_1_1BoundaryNodeBase}{BoundaryNodeBase}}*\textcolor{keyword}{>}(new\_master\_nod\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00383}00383 \textcolor{preprocessor}{\#ifdef PARANOID}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00384}00384           \textcolor{keywordflow}{if} (bnew\_master\_nod\_pt == 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00385}00385           \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00386}00386             \textcolor{keywordflow}{throw} \mbox{\hyperlink{classoomph_1_1OomphLibError}{OomphLibError}}(\textcolor{stringliteral}{"{}Failed to cast new node to boundary node\(\backslash\)n"{}},}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00387}00387                                 OOMPH\_CURRENT\_FUNCTION,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00388}00388                                 OOMPH\_EXCEPTION\_LOCATION);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00389}00389           \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00390}00390 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00391}00391           \textcolor{keywordflow}{if} (bnew\_master\_nod\_pt}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00392}00392                 -\/>index\_of\_first\_value\_assigned\_by\_face\_element\_pt() == 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00393}00393           \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00394}00394             bnew\_master\_nod\_pt}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00395}00395               -\/>\mbox{\hyperlink{classoomph_1_1BoundaryNodeBase_a5f73c54dbb9bdfe3538b61117a0cc674}{index\_of\_first\_value\_assigned\_by\_face\_element\_pt}}() =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00396}00396               \textcolor{keyword}{new} std::map<unsigned, unsigned>;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00397}00397           \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00398}00398 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00399}00399           \textcolor{comment}{// Get pointer to the map of indices associated with}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00400}00400           \textcolor{comment}{// additional values created by face elements}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00401}00401           std::map<unsigned, unsigned>* map\_pt =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00402}00402             bnew\_master\_nod\_pt}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00403}00403               -\/>\mbox{\hyperlink{classoomph_1_1BoundaryNodeBase_a5f73c54dbb9bdfe3538b61117a0cc674}{index\_of\_first\_value\_assigned\_by\_face\_element\_pt}}();}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00404}00404 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00405}00405           \textcolor{comment}{// Loop over number of entries in map}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00406}00406           \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \mbox{\hyperlink{cfortran_8h_adb50e893b86b3e55e751a42eab3cba82}{i}} = 0; \mbox{\hyperlink{cfortran_8h_adb50e893b86b3e55e751a42eab3cba82}{i}} < n\_entry; \mbox{\hyperlink{cfortran_8h_adb50e893b86b3e55e751a42eab3cba82}{i}}++)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00407}00407           \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00408}00408             \textcolor{comment}{// Read out pairs...}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00409}00409 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00410}00410 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00411}00411             \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00412}00412                        << \textcolor{stringliteral}{"{} Key of map entry for master node"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00413}00413                        << recv\_unsigneds[counter\_for\_recv\_unsigneds]}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00414}00414                        << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00415}00415 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00416}00416             \textcolor{keywordtype}{unsigned} first = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00417}00417 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00418}00418 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00419}00419             \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00420}00420                        << \textcolor{stringliteral}{"{} Value of map entry for master node"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00421}00421                        << recv\_unsigneds[counter\_for\_recv\_unsigneds]}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00422}00422                        << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00423}00423 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00424}00424             \textcolor{keywordtype}{unsigned} second = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00425}00425 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00426}00426             \textcolor{comment}{// ...and assign}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00427}00427             (*map\_pt)[first] = second;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00428}00428           \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00429}00429         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00430}00430       \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00431}00431       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00432}00432       \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00433}00433         \textcolor{comment}{// Create node (not attached to any element)}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00434}00434         \textcolor{keywordflow}{if} (time\_stepper\_pt != 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00435}00435         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00436}00436           new\_master\_nod\_pt =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00437}00437             \textcolor{keyword}{new} \mbox{\hyperlink{classoomph_1_1AlgebraicNode}{AlgebraicNode}}(time\_stepper\_pt, n\_dim, n\_position\_type, n\_value);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00438}00438         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00439}00439         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00440}00440         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00441}00441           new\_master\_nod\_pt =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00442}00442             \textcolor{keyword}{new} \mbox{\hyperlink{classoomph_1_1AlgebraicNode}{AlgebraicNode}}(n\_dim, n\_position\_type, n\_value);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00443}00443         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00444}00444       \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00445}00445 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00446}00446       \textcolor{comment}{// Add this as an external halo node BEFORE considering node update!}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00447}00447       mesh\_pt-\/>\mbox{\hyperlink{classoomph_1_1Mesh_ac0b818d3cf5f2eae2816574b6d0a4f07}{add\_external\_halo\_node\_pt}}(loc\_p, new\_master\_nod\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00448}00448 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00449}00449       \textcolor{comment}{// The external mesh is itself Algebraic...}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00450}00450       \mbox{\hyperlink{classoomph_1_1AlgebraicMesh}{AlgebraicMesh}}* alg\_mesh\_pt = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{classoomph_1_1AlgebraicMesh}{AlgebraicMesh}}*\textcolor{keyword}{>}(mesh\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00451}00451 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00452}00452 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00453}00453       \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00454}00454                  << \textcolor{stringliteral}{"{}  algebraic node update id for master node "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00455}00455                  << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00456}00456 \textcolor{preprocessor}{\#endif}\textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00457}00457 \textcolor{comment}{      /// The first entry of All\_unsigned\_values is the default node update id}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00458}00458 \textcolor{comment}{}      \textcolor{keywordtype}{unsigned} update\_id = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00459}00459 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00460}00460       \textcolor{comment}{// Setup algebraic node update info for this new node}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00461}00461       \mbox{\hyperlink{classoomph_1_1Vector}{Vector<double>}} ref\_value;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00462}00462 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00463}00463 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00464}00464       \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00465}00465                  << \textcolor{stringliteral}{"{}  algebraic node number of ref values for master node "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00466}00466                  << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00467}00467 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00468}00468       \textcolor{comment}{// The size of this vector is in the next entry}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00469}00469       \textcolor{keywordtype}{unsigned} n\_ref\_val = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00470}00470 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00471}00471       \textcolor{comment}{// The reference values are in the subsequent entries of All\_double\_values}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00472}00472       ref\_value.resize(n\_ref\_val);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00473}00473       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} i\_ref = 0; i\_ref < n\_ref\_val; i\_ref++)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00474}00474       \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00475}00475         ref\_value[i\_ref] = recv\_doubles[counter\_for\_recv\_doubles++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00476}00476       \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00477}00477 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00478}00478       \textcolor{comment}{// Also require a Vector of geometric objects}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00479}00479       \mbox{\hyperlink{classoomph_1_1Vector}{Vector<GeomObject*>}} geom\_object\_pt;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00480}00480 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00481}00481 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00482}00482       \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00483}00483                  << \textcolor{stringliteral}{"{}  algebraic node number of geom objects for master node "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00484}00484                  << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00485}00485 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00486}00486 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00487}00487       \textcolor{comment}{// The size of this vector is in the next entry of All\_unsigned\_values}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00488}00488       \textcolor{keywordtype}{unsigned} n\_geom\_obj = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00489}00489 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00490}00490       \textcolor{comment}{// The remaining indices are in the rest of}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00491}00491       \textcolor{comment}{// All\_alg\_nodal\_info}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00492}00492       geom\_object\_pt.resize(n\_geom\_obj);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00493}00493       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} i\_geom = 0; i\_geom < n\_geom\_obj; i\_geom++)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00494}00494       \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00495}00495 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00496}00496         \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00497}00497                    << \textcolor{stringliteral}{"{}  algebraic node: "{}} << i\_geom << \textcolor{stringliteral}{"{}-\/th out of "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00498}00498                    << n\_geom\_obj << \textcolor{stringliteral}{"{}-\/th geom index "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00499}00499                    << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00500}00500 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00501}00501         \textcolor{keywordtype}{unsigned} geom\_index = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00502}00502 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00503}00503         \textcolor{comment}{// This index indicates which (if any) of the AlgebraicMesh's}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00504}00504         \textcolor{comment}{// stored geometric objects should be used}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00505}00505         geom\_object\_pt[i\_geom] = alg\_mesh\_pt-\/>\mbox{\hyperlink{classoomph_1_1AlgebraicMesh_a7257c48270d6dbc21b78d7e49cc6d952}{geom\_object\_list\_pt}}(geom\_index);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00506}00506       \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00507}00507 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00508}00508       \mbox{\hyperlink{classoomph_1_1AlgebraicNode}{AlgebraicNode}}* alg\_master\_nod\_pt =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00509}00509         \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{classoomph_1_1AlgebraicNode}{AlgebraicNode}}*\textcolor{keyword}{>}(new\_master\_nod\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00510}00510 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00511}00511 \textcolor{comment}{      /// ... so for the specified update\_id, call}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00512}00512 \textcolor{comment}{      /// add\_node\_update\_info}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00513}00513 \textcolor{comment}{}      alg\_master\_nod\_pt-\/>\mbox{\hyperlink{classoomph_1_1AlgebraicNode_ac6bd268c80889507d92431a4638eb85c}{add\_node\_update\_info}}(}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00514}00514         update\_id, alg\_mesh\_pt, geom\_object\_pt, ref\_value);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00515}00515 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00516}00516 \textcolor{comment}{      /// Now call update\_node\_update}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00517}00517 \textcolor{comment}{}      alg\_mesh\_pt-\/>\mbox{\hyperlink{classoomph_1_1AlgebraicMesh_a6c6a35ae2be6e2766f5b80d85693c1ce}{update\_node\_update}}(alg\_master\_nod\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00518}00518     \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00519}00519     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (macro\_nod\_pt != 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00520}00520     \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00521}00521       \textcolor{comment}{// The master node should also be a macro node}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00522}00522       \textcolor{comment}{// If this master node's haloed copy is on a boundary then}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00523}00523       \textcolor{comment}{// it needs to be on the same boundary here}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00524}00524 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00525}00525       \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00526}00526                  << \textcolor{stringliteral}{"{}  Boolean for master algebraic node is boundary node "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00527}00527                  << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00528}00528 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00529}00529       \textcolor{keywordflow}{if} (recv\_unsigneds[counter\_for\_recv\_unsigneds++] == 1)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00530}00530       \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00531}00531         \textcolor{comment}{// Create a new BoundaryNode (not attached to an element)}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00532}00532         \textcolor{keywordflow}{if} (time\_stepper\_pt != 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00533}00533         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00534}00534           new\_master\_nod\_pt = \textcolor{keyword}{new} \mbox{\hyperlink{classoomph_1_1BoundaryNode}{BoundaryNode<MacroElementNodeUpdateNode>}}(}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00535}00535             time\_stepper\_pt, n\_dim, n\_position\_type, n\_value);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00536}00536         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00537}00537         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00538}00538         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00539}00539           new\_master\_nod\_pt = \textcolor{keyword}{new} \mbox{\hyperlink{classoomph_1_1BoundaryNode}{BoundaryNode<MacroElementNodeUpdateNode>}}(}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00540}00540             n\_dim, n\_position\_type, n\_value);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00541}00541         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00542}00542 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00543}00543 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00544}00544         \textcolor{comment}{// How many boundaries does the macro element master node live on?}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00545}00545 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00546}00546         \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00547}00547           << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00548}00548           << \textcolor{stringliteral}{"{} Number of boundaries the macro element master node is on: "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00549}00549           << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00550}00550 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00551}00551         \textcolor{keywordtype}{unsigned} nb = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00552}00552         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \mbox{\hyperlink{cfortran_8h_adb50e893b86b3e55e751a42eab3cba82}{i}} = 0; \mbox{\hyperlink{cfortran_8h_adb50e893b86b3e55e751a42eab3cba82}{i}} < nb; \mbox{\hyperlink{cfortran_8h_adb50e893b86b3e55e751a42eab3cba82}{i}}++)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00553}00553         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00554}00554           \textcolor{comment}{// Boundary number}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00555}00555 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00556}00556           \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00557}00557                      << \textcolor{stringliteral}{"{}  Macro element master node is on boundary "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00558}00558                      << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00559}00559 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00560}00560           \textcolor{keywordtype}{unsigned} i\_bnd = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00561}00561           mesh\_pt-\/>\mbox{\hyperlink{classoomph_1_1Mesh_a007b102ac8e42328872ad658d7110bfc}{add\_boundary\_node}}(i\_bnd, new\_master\_nod\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00562}00562         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00563}00563 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00564}00564         \textcolor{comment}{// Do we have additional values created by face elements?}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00565}00565 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00566}00566         \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00567}00567                    << \textcolor{stringliteral}{"{} Number of additional values created by face element "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00568}00568                    << \textcolor{stringliteral}{"{}for macro element master node "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00569}00569                    << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00570}00570 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00571}00571         \textcolor{keywordtype}{unsigned} n\_entry = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00572}00572         \textcolor{keywordflow}{if} (n\_entry > 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00573}00573         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00574}00574           \textcolor{comment}{// Create storage, if it doesn't already exist, for the map}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00575}00575           \textcolor{comment}{// that will contain the position of the first entry of}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00576}00576           \textcolor{comment}{// this face element's additional values,}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00577}00577           \mbox{\hyperlink{classoomph_1_1BoundaryNodeBase}{BoundaryNodeBase}}* bnew\_master\_nod\_pt =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00578}00578             \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{classoomph_1_1BoundaryNodeBase}{BoundaryNodeBase}}*\textcolor{keyword}{>}(new\_master\_nod\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00579}00579 \textcolor{preprocessor}{\#ifdef PARANOID}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00580}00580           \textcolor{keywordflow}{if} (bnew\_master\_nod\_pt == 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00581}00581           \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00582}00582             \textcolor{keywordflow}{throw} \mbox{\hyperlink{classoomph_1_1OomphLibError}{OomphLibError}}(\textcolor{stringliteral}{"{}Failed to cast new node to boundary node\(\backslash\)n"{}},}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00583}00583                                 OOMPH\_CURRENT\_FUNCTION,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00584}00584                                 OOMPH\_EXCEPTION\_LOCATION);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00585}00585           \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00586}00586 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00587}00587           \textcolor{keywordflow}{if} (bnew\_master\_nod\_pt}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00588}00588                 -\/>index\_of\_first\_value\_assigned\_by\_face\_element\_pt() == 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00589}00589           \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00590}00590             bnew\_master\_nod\_pt}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00591}00591               -\/>\mbox{\hyperlink{classoomph_1_1BoundaryNodeBase_a5f73c54dbb9bdfe3538b61117a0cc674}{index\_of\_first\_value\_assigned\_by\_face\_element\_pt}}() =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00592}00592               \textcolor{keyword}{new} std::map<unsigned, unsigned>;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00593}00593           \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00594}00594 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00595}00595           \textcolor{comment}{// Get pointer to the map of indices associated with}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00596}00596           \textcolor{comment}{// additional values created by face elements}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00597}00597           std::map<unsigned, unsigned>* map\_pt =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00598}00598             bnew\_master\_nod\_pt}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00599}00599               -\/>\mbox{\hyperlink{classoomph_1_1BoundaryNodeBase_a5f73c54dbb9bdfe3538b61117a0cc674}{index\_of\_first\_value\_assigned\_by\_face\_element\_pt}}();}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00600}00600 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00601}00601           \textcolor{comment}{// Loop over number of entries in map}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00602}00602           \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \mbox{\hyperlink{cfortran_8h_adb50e893b86b3e55e751a42eab3cba82}{i}} = 0; \mbox{\hyperlink{cfortran_8h_adb50e893b86b3e55e751a42eab3cba82}{i}} < n\_entry; \mbox{\hyperlink{cfortran_8h_adb50e893b86b3e55e751a42eab3cba82}{i}}++)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00603}00603           \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00604}00604             \textcolor{comment}{// Read out pairs...}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00605}00605 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00606}00606 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00607}00607             \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00608}00608                        << \textcolor{stringliteral}{"{} Key of map entry for macro element master node"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00609}00609                        << recv\_unsigneds[counter\_for\_recv\_unsigneds]}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00610}00610                        << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00611}00611 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00612}00612             \textcolor{keywordtype}{unsigned} first = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00613}00613 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00614}00614 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00615}00615             \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00616}00616                        << \textcolor{stringliteral}{"{} Value of map entry for macro element master node"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00617}00617                        << recv\_unsigneds[counter\_for\_recv\_unsigneds]}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00618}00618                        << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00619}00619 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00620}00620             \textcolor{keywordtype}{unsigned} second = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00621}00621 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00622}00622             \textcolor{comment}{// ...and assign}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00623}00623             (*map\_pt)[first] = second;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00624}00624           \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00625}00625         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00626}00626       \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00627}00627       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00628}00628       \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00629}00629         \textcolor{comment}{// Create node (not attached to any element)}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00630}00630         \textcolor{keywordflow}{if} (time\_stepper\_pt != 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00631}00631         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00632}00632           new\_master\_nod\_pt = \textcolor{keyword}{new} \mbox{\hyperlink{classoomph_1_1MacroElementNodeUpdateNode}{MacroElementNodeUpdateNode}}(}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00633}00633             time\_stepper\_pt, n\_dim, n\_position\_type, n\_value);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00634}00634         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00635}00635         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00636}00636         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00637}00637           new\_master\_nod\_pt =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00638}00638             \textcolor{keyword}{new} \mbox{\hyperlink{classoomph_1_1MacroElementNodeUpdateNode}{MacroElementNodeUpdateNode}}(n\_dim, n\_position\_type, n\_value);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00639}00639         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00640}00640       \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00641}00641 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00642}00642       \textcolor{comment}{// Add this as an external halo node}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00643}00643       mesh\_pt-\/>\mbox{\hyperlink{classoomph_1_1Mesh_ac0b818d3cf5f2eae2816574b6d0a4f07}{add\_external\_halo\_node\_pt}}(loc\_p, new\_master\_nod\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00644}00644       \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Added external halo master node:"{}} << new\_master\_nod\_pt}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00645}00645                  << \textcolor{stringliteral}{"{} at [ "{}} << new\_master\_nod\_pt-\/>\mbox{\hyperlink{classoomph_1_1Node_ab76b4773a65b349f143539e07b6e15e2}{x}}(0) << \textcolor{stringliteral}{"{}, "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00646}00646                  << new\_master\_nod\_pt-\/>\mbox{\hyperlink{classoomph_1_1Node_ab76b4773a65b349f143539e07b6e15e2}{x}}(1) << \textcolor{stringliteral}{"{} ]"{}} << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00647}00647 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00648}00648       \textcolor{comment}{// Create a new node update element for this master node if required}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00649}00649       \mbox{\hyperlink{classoomph_1_1FiniteElement}{FiniteElement}}* new\_node\_update\_f\_el\_pt = 0;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00650}00650 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00651}00651       \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00652}00652                  << \textcolor{stringliteral}{"{}  Bool: need new external halo element "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00653}00653                  << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00654}00654 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00655}00655       \textcolor{keywordflow}{if} (recv\_unsigneds[counter\_for\_recv\_unsigneds++] == 1)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00656}00656       \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00657}00657         \textcolor{comment}{// Issue warning about adding a macro element to the external storage}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00658}00658         std::ostringstream warn\_stream;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00659}00659         warn\_stream}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00660}00660           << \textcolor{stringliteral}{"{}You are adding a MacroElementNodeUpdate element to the\(\backslash\)n"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00661}00661           << \textcolor{stringliteral}{"{}external storage. This functionality is still being\(\backslash\)n"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00662}00662           << \textcolor{stringliteral}{"{}developed and may cause problems later on, say during\(\backslash\)n"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00663}00663           << \textcolor{stringliteral}{"{}Problem::remove\_duplicate\_data()."{}};}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00664}00664         \mbox{\hyperlink{classoomph_1_1OomphLibWarning}{OomphLibWarning}}(warn\_stream.str(),}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00665}00665                         \textcolor{stringliteral}{"{}Missing\_masters\_functions::construct\_new\_external\_"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00666}00666                         \textcolor{stringliteral}{"{}halo\_master\_node\_helper()"{}},}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00667}00667                         OOMPH\_EXCEPTION\_LOCATION);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00668}00668 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00669}00669         \mbox{\hyperlink{classoomph_1_1GeneralisedElement}{GeneralisedElement}}* new\_node\_update\_el\_pt = \textcolor{keyword}{new} EXT\_ELEMENT;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00670}00670 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00671}00671         \textcolor{comment}{// Add external halo element to this mesh}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00672}00672         mesh\_pt-\/>\mbox{\hyperlink{classoomph_1_1Mesh_a35c971cb52e791d82377b6ce299dbaec}{add\_external\_halo\_element\_pt}}(loc\_p, new\_node\_update\_el\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00673}00673 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00674}00674         \textcolor{comment}{// Cast to finite element}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00675}00675         new\_node\_update\_f\_el\_pt =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00676}00676           \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{classoomph_1_1FiniteElement}{FiniteElement}}*\textcolor{keyword}{>}(new\_node\_update\_el\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00677}00677 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00678}00678         \textcolor{comment}{// Need number of interpolated values if Refineable}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00679}00679         \textcolor{keywordtype}{int} n\_cont\_inter\_values;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00680}00680         \textcolor{keywordflow}{if} (\textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{classoomph_1_1RefineableElement}{RefineableElement}}*\textcolor{keyword}{>}(new\_node\_update\_f\_el\_pt) != 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00681}00681         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00682}00682           n\_cont\_inter\_values =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00683}00683             \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{classoomph_1_1RefineableElement}{RefineableElement}}*\textcolor{keyword}{>}(new\_node\_update\_f\_el\_pt)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00684}00684               -\/>ncont\_interpolated\_values();}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00685}00685         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00686}00686         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00687}00687         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00688}00688           n\_cont\_inter\_values = -\/1;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00689}00689         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00690}00690 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00691}00691         \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00692}00692                    << \textcolor{stringliteral}{"{}  Bool: we have a macro element mesh "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00693}00693                    << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00694}00694 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00695}00695         \textcolor{comment}{// If we're using macro elements to update,}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00696}00696         \textcolor{keywordflow}{if} (recv\_unsigneds[counter\_for\_recv\_unsigneds++] == 1)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00697}00697         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00698}00698           \textcolor{comment}{// Set the macro element}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00699}00699           \mbox{\hyperlink{classoomph_1_1MacroElementNodeUpdateMesh}{MacroElementNodeUpdateMesh}}* macro\_mesh\_pt =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00700}00700             \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{classoomph_1_1MacroElementNodeUpdateMesh}{MacroElementNodeUpdateMesh}}*\textcolor{keyword}{>}(mesh\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00701}00701 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00702}00702 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00703}00703           \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00704}00704                      << \textcolor{stringliteral}{"{}  Number of macro element "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00705}00705                      << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00706}00706 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00707}00707           \textcolor{keywordtype}{unsigned} macro\_el\_num = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00708}00708           new\_node\_update\_f\_el\_pt-\/>\mbox{\hyperlink{classoomph_1_1FiniteElement_a170b030b8365ebbab5287f0a420cc8c8}{set\_macro\_elem\_pt}}(}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00709}00709             macro\_mesh\_pt-\/>\mbox{\hyperlink{classoomph_1_1MacroElementNodeUpdateMesh_aadb1bf7d9de16c2ab2e6c0ffb36a806e}{macro\_domain\_pt}}()-\/>\mbox{\hyperlink{classoomph_1_1Domain_abef3886384a9b9e722e490268feecc2d}{macro\_element\_pt}}(macro\_el\_num));}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00710}00710 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00711}00711           \textcolor{comment}{// we need to receive}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00712}00712           \textcolor{comment}{// the lower left and upper right coordinates of the macro}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00713}00713           \mbox{\hyperlink{classoomph_1_1QElementBase}{QElementBase}}* q\_el\_pt =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00714}00714             \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{classoomph_1_1QElementBase}{QElementBase}}*\textcolor{keyword}{>}(new\_node\_update\_f\_el\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00715}00715           \textcolor{keywordflow}{if} (q\_el\_pt != 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00716}00716           \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00717}00717             \textcolor{keywordtype}{unsigned} el\_dim = q\_el\_pt-\/>\mbox{\hyperlink{classoomph_1_1FiniteElement_a5f8fe59f06da1da9f6b7bbcbdb90ef93}{dim}}();}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00718}00718             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} i\_dim = 0; i\_dim < el\_dim; i\_dim++)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00719}00719             \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00720}00720               q\_el\_pt-\/>\mbox{\hyperlink{classoomph_1_1QElementBase_a6c5743d593aa67f9dbfcde9556a9bdd7}{s\_macro\_ll}}(i\_dim) =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00721}00721                 recv\_doubles[counter\_for\_recv\_doubles++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00722}00722               q\_el\_pt-\/>\mbox{\hyperlink{classoomph_1_1QElementBase_a0e02d2c0be2b93967700723d77891cb2}{s\_macro\_ur}}(i\_dim) =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00723}00723                 recv\_doubles[counter\_for\_recv\_doubles++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00724}00724             \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00725}00725           \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00726}00726           \textcolor{keywordflow}{else} \textcolor{comment}{// Throw an error}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00727}00727           \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00728}00728             std::ostringstream error\_stream;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00729}00729             error\_stream << \textcolor{stringliteral}{"{}You are using a MacroElement node update\(\backslash\)n"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00730}00730                          << \textcolor{stringliteral}{"{}in a case with non-\/QElements. This has not\(\backslash\)n"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00731}00731                          << \textcolor{stringliteral}{"{}yet been implemented.\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00732}00732             \textcolor{keywordflow}{throw} \mbox{\hyperlink{classoomph_1_1OomphLibError}{OomphLibError}}(error\_stream.str(),}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00733}00733                                 OOMPH\_CURRENT\_FUNCTION,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00734}00734                                 OOMPH\_EXCEPTION\_LOCATION);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00735}00735           \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00736}00736         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00737}00737 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00738}00738         \textcolor{comment}{// Check if haloed version was p-\/refineable}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00739}00739 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00740}00740         \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00741}00741                    << \textcolor{stringliteral}{"{}  Element was p-\/refineable "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00742}00742                    << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00743}00743 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00744}00744         \textcolor{keywordtype}{unsigned} el\_was\_p\_refineable =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00745}00745           recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00746}00746         \textcolor{keywordflow}{if} (el\_was\_p\_refineable)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00747}00747         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00748}00748           \textcolor{comment}{// Check created element is p-\/refineable}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00749}00749           \mbox{\hyperlink{classoomph_1_1PRefineableElement}{PRefineableElement}}* p\_refineable\_el\_pt =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00750}00750             \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{classoomph_1_1PRefineableElement}{PRefineableElement}}*\textcolor{keyword}{>}(new\_node\_update\_f\_el\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00751}00751           \textcolor{keywordflow}{if} (p\_refineable\_el\_pt != 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00752}00752           \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00753}00753             \textcolor{comment}{// Recieve p-\/order}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00754}00754 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00755}00755             \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds << \textcolor{stringliteral}{"{}  p-\/order: "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00756}00756                        << recv\_unsigneds[counter\_for\_recv\_unsigneds]}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00757}00757                        << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00758}00758 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00759}00759             \textcolor{keywordtype}{unsigned} p\_order = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00760}00760 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00761}00761             \textcolor{comment}{// Do initial setup with original element as the clone's adopted}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00762}00762             \textcolor{comment}{// father}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00763}00763             p\_refineable\_el\_pt-\/>\mbox{\hyperlink{classoomph_1_1RefineableElement_a61ae74d94be7abc7231f34f3322f8e13}{initial\_setup}}(0, p\_order);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00764}00764             \textcolor{comment}{// BENFLAG:}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00765}00765             \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}New node update element: "{}} << new\_node\_update\_el\_pt}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00766}00766                        << \textcolor{stringliteral}{"{} (p-\/order = "{}} << p\_order << \textcolor{stringliteral}{"{})"{}} << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00767}00767           \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00768}00768           \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00769}00769           \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00770}00770             std::ostringstream error\_stream;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00771}00771             error\_stream << \textcolor{stringliteral}{"{}Created MacroElement node update element is not "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00772}00772                             \textcolor{stringliteral}{"{}p-\/refineable\(\backslash\)n"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00773}00773                          << \textcolor{stringliteral}{"{}but the haloed version is.\(\backslash\)n"{}};}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00774}00774             \textcolor{keywordflow}{throw} \mbox{\hyperlink{classoomph_1_1OomphLibError}{OomphLibError}}(error\_stream.str(),}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00775}00775                                 \textcolor{stringliteral}{"{}Missing\_masters\_functions::construct\_new\_"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00776}00776                                 \textcolor{stringliteral}{"{}external\_halo\_master\_...()"{}},}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00777}00777                                 OOMPH\_EXCEPTION\_LOCATION);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00778}00778           \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00779}00779         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00780}00780 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00781}00781         \textcolor{keywordtype}{unsigned} n\_node = new\_node\_update\_f\_el\_pt-\/>\mbox{\hyperlink{classoomph_1_1FiniteElement_a6219ed269a6d89b5aa14659cce48905a}{nnode}}();}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00782}00782         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} j = 0; j < n\_node; j++)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00783}00783         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00784}00784           \mbox{\hyperlink{classoomph_1_1Node}{Node}}* new\_nod\_pt = 0;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00785}00785           add\_external\_halo\_node\_to\_storage<EXT\_ELEMENT>(}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00786}00786             new\_nod\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00787}00787             mesh\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00788}00788             loc\_p,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00789}00789             j,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00790}00790             new\_node\_update\_f\_el\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00791}00791             n\_cont\_inter\_values,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00792}00792             counter\_for\_recv\_unsigneds,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00793}00793             recv\_unsigneds,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00794}00794             counter\_for\_recv\_doubles,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00795}00795             recv\_doubles);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00796}00796           \textcolor{comment}{// BENFLAG:}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00797}00797           \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Added node "{}} << new\_nod\_pt << \textcolor{stringliteral}{"{} at [ "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00798}00798                      << new\_nod\_pt-\/>\mbox{\hyperlink{classoomph_1_1Node_ab76b4773a65b349f143539e07b6e15e2}{x}}(0) << \textcolor{stringliteral}{"{}, "{}} << new\_nod\_pt-\/>\mbox{\hyperlink{classoomph_1_1Node_ab76b4773a65b349f143539e07b6e15e2}{x}}(1) << \textcolor{stringliteral}{"{} ]"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00799}00799                      << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00800}00800         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00801}00801 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00802}00802         \textcolor{comment}{// BENFLAG:}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00803}00803         \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}New node update element: "{}} << new\_node\_update\_f\_el\_pt}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00804}00804                    << \textcolor{stringliteral}{"{} (nnode\_1d = "{}} << new\_node\_update\_f\_el\_pt-\/>\mbox{\hyperlink{classoomph_1_1FiniteElement_ab65c7a94dda80c1876a09ac12be4e39c}{nnode\_1d}}()}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00805}00805                    << \textcolor{stringliteral}{"{})"{}} << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00806}00806       \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00807}00807       \textcolor{keywordflow}{else} \textcolor{comment}{// The node update element exists already}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00808}00808       \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00809}00809 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00810}00810         \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00811}00811                    << \textcolor{stringliteral}{"{}  Found internally? "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00812}00812                    << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00813}00813 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00814}00814         \textcolor{keywordtype}{unsigned} found\_internally =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00815}00815           recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00816}00816 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00817}00817         \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00818}00818                    << \textcolor{stringliteral}{"{}  Number of already existing external halo element "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00819}00819                    << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00820}00820 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00821}00821         \textcolor{keywordtype}{unsigned} halo\_element\_index =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00822}00822           recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00823}00823         \textcolor{keywordflow}{if} (found\_internally != 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00824}00824         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00825}00825           new\_node\_update\_f\_el\_pt = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{classoomph_1_1FiniteElement}{FiniteElement}}*\textcolor{keyword}{>}(}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00826}00826             (mesh\_pt-\/>\mbox{\hyperlink{classoomph_1_1Mesh_a882f5825ab0369b49d1d694f8e87d951}{halo\_element\_pt}}(loc\_p))[halo\_element\_index]);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00827}00827           \textcolor{comment}{// BENFLAG:}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00828}00828           \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Existing node update element: "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00829}00829                      << new\_node\_update\_f\_el\_pt}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00830}00830                      << \textcolor{stringliteral}{"{} (nnode\_1d = "{}} << new\_node\_update\_f\_el\_pt-\/>\mbox{\hyperlink{classoomph_1_1FiniteElement_ab65c7a94dda80c1876a09ac12be4e39c}{nnode\_1d}}()}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00831}00831                      << \textcolor{stringliteral}{"{})"{}} << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00832}00832           \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}on proc "{}} << loc\_p << \textcolor{stringliteral}{"{} at (internal) index "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00833}00833                      << halo\_element\_index << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00834}00834 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00835}00835           \textcolor{comment}{//        //BENFLAG: Also add halo element to external storage}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00836}00836           \textcolor{comment}{//        oomph\_info << "{}Adding to external halo storage..."{} <<}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00837}00837           \textcolor{comment}{//        std::endl; GeneralisedElement* g\_el\_pt =}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00838}00838           \textcolor{comment}{//        dynamic\_cast<GeneralisedElement*>(new\_node\_update\_f\_el\_pt);}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00839}00839           \textcolor{comment}{//        mesh\_pt-\/>add\_external\_halo\_element\_pt(}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00840}00840           \textcolor{comment}{//         loc\_p,g\_el\_pt);}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00841}00841           \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00842}00842           \textcolor{comment}{//        // Check if also found externally}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00843}00843           \textcolor{comment}{//\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00844}00844           \textcolor{comment}{//        oomph\_info << "{}Rec:"{} << counter\_for\_recv\_unsigneds}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00845}00845           \textcolor{comment}{//                   << "{}  Found externally too? "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00846}00846           \textcolor{comment}{//                   << recv\_unsigneds[counter\_for\_recv\_unsigneds]}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00847}00847           \textcolor{comment}{//                   << std::endl;}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00848}00848           \textcolor{comment}{//\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00849}00849           \textcolor{comment}{//        unsigned found\_externally\_too =}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00850}00850           \textcolor{comment}{//        recv\_unsigneds[counter\_for\_recv\_unsigneds++]; std::cout <<}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00851}00851           \textcolor{comment}{//        "{}received found\_externally\_too = "{} << found\_externally\_too}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00852}00852           \textcolor{comment}{//        << std::endl; if(found\_externally\_too==1234)}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00853}00853           \textcolor{comment}{//         \{}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00854}00854           \textcolor{comment}{//\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00855}00855           \textcolor{comment}{//          oomph\_info << "{}Rec:"{} << counter\_for\_recv\_unsigneds}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00856}00856           \textcolor{comment}{//                     << "{}  Number of already existing external halo}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00857}00857           \textcolor{comment}{//                     element "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00858}00858           \textcolor{comment}{//                     << recv\_unsigneds[counter\_for\_recv\_unsigneds]}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00859}00859           \textcolor{comment}{//                     << std::endl;}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00860}00860           \textcolor{comment}{//\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00861}00861           \textcolor{comment}{//          unsigned ext\_version\_halo\_element\_index =}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00862}00862           \textcolor{comment}{//          recv\_unsigneds[counter\_for\_recv\_unsigneds++]; std::cout <<}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00863}00863           \textcolor{comment}{//          "{}received ext\_version\_halo\_element\_index = "{} <<}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00864}00864           \textcolor{comment}{//          ext\_version\_halo\_element\_index << std::endl;}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00865}00865           \textcolor{comment}{//}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00866}00866           \textcolor{comment}{//          FiniteElement* ext\_version\_pt =}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00867}00867           \textcolor{comment}{//          dynamic\_cast<FiniteElement*>(}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00868}00868           \textcolor{comment}{//           (mesh\_pt-\/>halo\_element\_pt(loc\_p))[ext\_version\_halo\_element\_index]);}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00869}00869           \textcolor{comment}{//          //BENFLAG:}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00870}00870           \textcolor{comment}{//          oomph\_info << "{}Existing node update element: "{} <<}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00871}00871           \textcolor{comment}{//          ext\_version\_pt << "{} (nnode\_1d = "{} <<}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00872}00872           \textcolor{comment}{//          ext\_version\_pt-\/>nnode\_1d() << "{})"{} << std::endl; oomph\_info}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00873}00873           \textcolor{comment}{//          << "{}on proc "{} << loc\_p << "{} is also at (external) index "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00874}00874           \textcolor{comment}{//          << ext\_version\_halo\_element\_index << std::endl;}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00875}00875           \textcolor{comment}{//          for(unsigned j=0; j<ext\_version\_pt-\/>nnode(); j++)}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00876}00876           \textcolor{comment}{//           \{}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00877}00877           \textcolor{comment}{//            oomph\_info << ext\_version\_pt-\/>node\_pt(j) << "{} at [ "{} <<}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00878}00878           \textcolor{comment}{//            ext\_version\_pt-\/>node\_pt(j)-\/>x(0) << "{}, "{} <<}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00879}00879           \textcolor{comment}{//            ext\_version\_pt-\/>node\_pt(j)-\/>x(1) << "{} ]"{} << std::endl;}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00880}00880           \textcolor{comment}{//           \}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00881}00881           \textcolor{comment}{//         \}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00882}00882         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00883}00883         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00884}00884         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00885}00885           new\_node\_update\_f\_el\_pt = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{classoomph_1_1FiniteElement}{FiniteElement}}*\textcolor{keyword}{>}(}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00886}00886             mesh\_pt-\/>\mbox{\hyperlink{classoomph_1_1Mesh_a1f889ef9305db5f812f93931877839d2}{external\_halo\_element\_pt}}(loc\_p, halo\_element\_index));}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00887}00887           \textcolor{comment}{// BENFLAG:}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00888}00888           \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Existing node update element: "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00889}00889                      << new\_node\_update\_f\_el\_pt}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00890}00890                      << \textcolor{stringliteral}{"{} (nnode\_1d = "{}} << new\_node\_update\_f\_el\_pt-\/>\mbox{\hyperlink{classoomph_1_1FiniteElement_ab65c7a94dda80c1876a09ac12be4e39c}{nnode\_1d}}()}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00891}00891                      << \textcolor{stringliteral}{"{})"{}} << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00892}00892           \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}on proc "{}} << loc\_p << \textcolor{stringliteral}{"{} at (external) index "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00893}00893                      << recv\_unsigneds[counter\_for\_recv\_unsigneds -\/ 1]}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00894}00894                      << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00895}00895           \textcolor{comment}{// oomph\_info << "{}...and doesn't exist in the external storage."{} <<}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00896}00896           \textcolor{comment}{// std::endl;}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00897}00897         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00898}00898       \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00899}00899 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00900}00900       \textcolor{comment}{// Remaining required information to create functioning}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00901}00901       \textcolor{comment}{// MacroElementNodeUpdateNode...}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00902}00902 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00903}00903       \textcolor{comment}{// Get the required geom objects for the node update}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00904}00904       \textcolor{comment}{// from the mesh}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00905}00905       \mbox{\hyperlink{classoomph_1_1Vector}{Vector<GeomObject*>}} geom\_object\_vector\_pt;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00906}00906       \mbox{\hyperlink{classoomph_1_1MacroElementNodeUpdateMesh}{MacroElementNodeUpdateMesh}}* macro\_mesh\_pt =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00907}00907         \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{classoomph_1_1MacroElementNodeUpdateMesh}{MacroElementNodeUpdateMesh}}*\textcolor{keyword}{>}(mesh\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00908}00908       geom\_object\_vector\_pt = macro\_mesh\_pt-\/>\mbox{\hyperlink{classoomph_1_1MacroElementNodeUpdateMesh_aa550e97598d235eb609bd004d8dbfff2}{geom\_object\_vector\_pt}}();}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00909}00909 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00910}00910       \textcolor{comment}{// Cast to MacroElementNodeUpdateNode}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00911}00911       \mbox{\hyperlink{classoomph_1_1MacroElementNodeUpdateNode}{MacroElementNodeUpdateNode}}* macro\_master\_nod\_pt =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00912}00912         \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{classoomph_1_1MacroElementNodeUpdateNode}{MacroElementNodeUpdateNode}}*\textcolor{keyword}{>}(new\_master\_nod\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00913}00913 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00914}00914       \textcolor{comment}{// Set all required information -\/ node update element,}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00915}00915       \textcolor{comment}{// local coordinate in this element, and then set node update info}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00916}00916       macro\_master\_nod\_pt-\/>\mbox{\hyperlink{classoomph_1_1MacroElementNodeUpdateNode_aee127758a6c511cff9df4004d98744e6}{node\_update\_element\_pt}}() = new\_node\_update\_f\_el\_pt;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00917}00917 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00918}00918 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00919}00919 \textcolor{comment}{      /// /print out nodes}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00920}00920 \textcolor{comment}{}      \textcolor{comment}{// std::cout << "{}nodes are:"{} << std::endl;}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00921}00921       \textcolor{comment}{// for(unsigned j=0; j<new\_node\_update\_f\_el\_pt-\/>nnode(); j++)}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00922}00922       \textcolor{comment}{// \{}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00923}00923       \textcolor{comment}{//  std::cout << new\_node\_update\_f\_el\_pt-\/>node\_pt(j) << "{} at [ "{} <<}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00924}00924       \textcolor{comment}{//  new\_node\_update\_f\_el\_pt-\/>node\_pt(j)-\/>x(0) << "{}, "{} <<}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00925}00925       \textcolor{comment}{//  new\_node\_update\_f\_el\_pt-\/>node\_pt(j)-\/>x(1) << "{} ]"{} << std::endl;}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00926}00926       \textcolor{comment}{//  //std::cout << new\_node\_update\_f\_el\_pt-\/>node\_pt(j) << std::endl;}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00927}00927       \textcolor{comment}{// \}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00928}00928       \textcolor{comment}{// std::cout << "{}should include: "{} << macro\_master\_nod\_pt << "{} at [ "{} <<}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00929}00929       \textcolor{comment}{// macro\_master\_nod\_pt-\/>x(0) << "{}, "{} << macro\_master\_nod\_pt-\/>x(1) << "{} ]"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00930}00930       \textcolor{comment}{// << std::endl;}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00931}00931 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00932}00932 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00933}00933       \textcolor{comment}{// Need to get the local node index of the macro\_master\_nod\_pt}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00934}00934       \textcolor{keywordtype}{unsigned} local\_node\_index = 0;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00935}00935       \textcolor{comment}{// std::cout << "{}before: "{} << local\_node\_index << std::endl;}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00936}00936       \textcolor{keywordtype}{unsigned} n\_node = new\_node\_update\_f\_el\_pt-\/>\mbox{\hyperlink{classoomph_1_1FiniteElement_a6219ed269a6d89b5aa14659cce48905a}{nnode}}();}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00937}00937       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} j = 0; j < n\_node; j++)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00938}00938       \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00939}00939         \textcolor{keywordflow}{if} (macro\_master\_nod\_pt == new\_node\_update\_f\_el\_pt-\/>\mbox{\hyperlink{classoomph_1_1FiniteElement_a9addfe893ab8205619963aa96204cdc4}{node\_pt}}(j))}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00940}00940         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00941}00941           \textcolor{comment}{// std::cout << "{}Node "{} << macro\_master\_nod\_pt << "{} found at index "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00942}00942           \textcolor{comment}{// << j << "{} in update element."{} << std::endl;}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00943}00943           local\_node\_index = j;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00944}00944           \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00945}00945         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00946}00946         \textcolor{comment}{// BENFLAG:}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00947}00947         \textcolor{keywordflow}{if} (j == n\_node -\/ 1)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00948}00948         \{\textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00949}00949 \textcolor{comment}{          /// / Check if sons...}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00950}00950 \textcolor{comment}{}          \textcolor{comment}{// RefineableElement* ref\_el\_pt =}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00951}00951           \textcolor{comment}{// dynamic\_cast<RefineableElement*>(new\_node\_update\_f\_el\_pt);}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00952}00952           \textcolor{comment}{// if(ref\_el\_pt-\/>tree\_pt()-\/>nsons()!=0)}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00953}00953           \textcolor{comment}{// \{}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00954}00954           \textcolor{comment}{//  std::cout << "{}update el has sons!"{} << std::endl;}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00955}00955           \textcolor{comment}{// \}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00956}00956           \textcolor{comment}{// else}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00957}00957           \textcolor{comment}{// \{}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00958}00958           \textcolor{comment}{//  std::cout << "{}No sons."{} << std::endl;}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00959}00959           \textcolor{comment}{// \}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00960}00960 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00961}00961           \textcolor{comment}{// oomph\_info << "{}Node not found in update element!"{} << std::endl;}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00962}00962           \textcolor{keywordflow}{throw} \mbox{\hyperlink{classoomph_1_1OomphLibError}{OomphLibError}}(\textcolor{stringliteral}{"{}Node not found in update element!"{}},}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00963}00963                               \textcolor{stringliteral}{"{}Missing\_masters\_functions::construct\_new\_"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00964}00964                               \textcolor{stringliteral}{"{}external\_halo\_master\_node\_helper()"{}},}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00965}00965                               OOMPH\_EXCEPTION\_LOCATION);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00966}00966         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00967}00967       \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00968}00968       \textcolor{comment}{// std::cout << "{}after: "{} << local\_node\_index << std::endl;}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00969}00969 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00970}00970       \mbox{\hyperlink{classoomph_1_1Vector}{Vector<double>}} s\_in\_macro\_node\_update\_element;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00971}00971       new\_node\_update\_f\_el\_pt-\/>\mbox{\hyperlink{classoomph_1_1FiniteElement_a22bc4ee35e4f948d8d7fba18c7b4f4c4}{local\_coordinate\_of\_node}}(}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00972}00972         local\_node\_index, s\_in\_macro\_node\_update\_element);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00973}00973 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00974}00974       macro\_master\_nod\_pt-\/>\mbox{\hyperlink{classoomph_1_1MacroElementNodeUpdateNode_ad12704b416585f4e34433f4df6bb22b5}{set\_node\_update\_info}}(new\_node\_update\_f\_el\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00975}00975                                                 s\_in\_macro\_node\_update\_element,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00976}00976                                                 geom\_object\_vector\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00977}00977     \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00978}00978     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (solid\_nod\_pt != 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00979}00979     \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00980}00980       \textcolor{comment}{// The master node should also be a SolidNode}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00981}00981       \textcolor{comment}{// If this node was on a boundary then it needs to}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00982}00982       \textcolor{comment}{// be on the same boundary here}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00983}00983 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00984}00984       \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00985}00985                  << \textcolor{stringliteral}{"{}  Bool master is a boundary (solid) node "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00986}00986                  << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00987}00987 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00988}00988       \textcolor{keywordflow}{if} (recv\_unsigneds[counter\_for\_recv\_unsigneds++] == 1)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00989}00989       \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00990}00990         \textcolor{comment}{// Construct a new boundary node}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00991}00991         \textcolor{keywordflow}{if} (time\_stepper\_pt != 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00992}00992         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00993}00993           new\_master\_nod\_pt = \textcolor{keyword}{new} \mbox{\hyperlink{classoomph_1_1BoundaryNode}{BoundaryNode<SolidNode>}}(time\_stepper\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00994}00994                                                           n\_lag\_dim,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00995}00995                                                           n\_lag\_type,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00996}00996                                                           n\_dim,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00997}00997                                                           n\_position\_type,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00998}00998                                                           n\_value);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l00999}00999         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01000}01000         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01001}01001         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01002}01002           new\_master\_nod\_pt = \textcolor{keyword}{new} \mbox{\hyperlink{classoomph_1_1BoundaryNode}{BoundaryNode<SolidNode>}}(}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01003}01003             n\_lag\_dim, n\_lag\_type, n\_dim, n\_position\_type, n\_value);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01004}01004         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01005}01005 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01006}01006 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01007}01007         \textcolor{comment}{// How many boundaries does the macro element master node live on?}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01008}01008 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01009}01009         \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01010}01010                    << \textcolor{stringliteral}{"{} Number of boundaries the solid master node is on: "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01011}01011                    << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01012}01012 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01013}01013         \textcolor{keywordtype}{unsigned} nb = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01014}01014         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \mbox{\hyperlink{cfortran_8h_adb50e893b86b3e55e751a42eab3cba82}{i}} = 0; \mbox{\hyperlink{cfortran_8h_adb50e893b86b3e55e751a42eab3cba82}{i}} < nb; \mbox{\hyperlink{cfortran_8h_adb50e893b86b3e55e751a42eab3cba82}{i}}++)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01015}01015         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01016}01016           \textcolor{comment}{// Boundary number}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01017}01017 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01018}01018           \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01019}01019                      << \textcolor{stringliteral}{"{} Solid master node is on boundary "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01020}01020                      << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01021}01021 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01022}01022           \textcolor{keywordtype}{unsigned} i\_bnd = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01023}01023           mesh\_pt-\/>\mbox{\hyperlink{classoomph_1_1Mesh_a007b102ac8e42328872ad658d7110bfc}{add\_boundary\_node}}(i\_bnd, new\_master\_nod\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01024}01024         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01025}01025 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01026}01026         \textcolor{comment}{// Do we have additional values created by face elements?}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01027}01027 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01028}01028         \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01029}01029                    << \textcolor{stringliteral}{"{} Number of additional values created by face element "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01030}01030                    << \textcolor{stringliteral}{"{}for solid master node "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01031}01031                    << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01032}01032 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01033}01033         \textcolor{keywordtype}{unsigned} n\_entry = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01034}01034         \textcolor{keywordflow}{if} (n\_entry > 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01035}01035         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01036}01036           \textcolor{comment}{// Create storage, if it doesn't already exist, for the map}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01037}01037           \textcolor{comment}{// that will contain the position of the first entry of}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01038}01038           \textcolor{comment}{// this face element's additional values,}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01039}01039           \mbox{\hyperlink{classoomph_1_1BoundaryNodeBase}{BoundaryNodeBase}}* bnew\_master\_nod\_pt =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01040}01040             \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{classoomph_1_1BoundaryNodeBase}{BoundaryNodeBase}}*\textcolor{keyword}{>}(new\_master\_nod\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01041}01041 \textcolor{preprocessor}{\#ifdef PARANOID}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01042}01042           \textcolor{keywordflow}{if} (bnew\_master\_nod\_pt == 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01043}01043           \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01044}01044             \textcolor{keywordflow}{throw} \mbox{\hyperlink{classoomph_1_1OomphLibError}{OomphLibError}}(\textcolor{stringliteral}{"{}Failed to cast new node to boundary node\(\backslash\)n"{}},}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01045}01045                                 OOMPH\_CURRENT\_FUNCTION,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01046}01046                                 OOMPH\_EXCEPTION\_LOCATION);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01047}01047           \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01048}01048 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01049}01049           \textcolor{keywordflow}{if} (bnew\_master\_nod\_pt}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01050}01050                 -\/>index\_of\_first\_value\_assigned\_by\_face\_element\_pt() == 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01051}01051           \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01052}01052             bnew\_master\_nod\_pt}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01053}01053               -\/>\mbox{\hyperlink{classoomph_1_1BoundaryNodeBase_a5f73c54dbb9bdfe3538b61117a0cc674}{index\_of\_first\_value\_assigned\_by\_face\_element\_pt}}() =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01054}01054               \textcolor{keyword}{new} std::map<unsigned, unsigned>;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01055}01055           \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01056}01056 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01057}01057           \textcolor{comment}{// Get pointer to the map of indices associated with}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01058}01058           \textcolor{comment}{// additional values created by face elements}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01059}01059           std::map<unsigned, unsigned>* map\_pt =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01060}01060             bnew\_master\_nod\_pt}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01061}01061               -\/>\mbox{\hyperlink{classoomph_1_1BoundaryNodeBase_a5f73c54dbb9bdfe3538b61117a0cc674}{index\_of\_first\_value\_assigned\_by\_face\_element\_pt}}();}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01062}01062 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01063}01063           \textcolor{comment}{// Loop over number of entries in map}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01064}01064           \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \mbox{\hyperlink{cfortran_8h_adb50e893b86b3e55e751a42eab3cba82}{i}} = 0; \mbox{\hyperlink{cfortran_8h_adb50e893b86b3e55e751a42eab3cba82}{i}} < n\_entry; \mbox{\hyperlink{cfortran_8h_adb50e893b86b3e55e751a42eab3cba82}{i}}++)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01065}01065           \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01066}01066             \textcolor{comment}{// Read out pairs...}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01067}01067 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01068}01068 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01069}01069             \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01070}01070                        << \textcolor{stringliteral}{"{} Key of map entry for solid master node"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01071}01071                        << recv\_unsigneds[counter\_for\_recv\_unsigneds]}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01072}01072                        << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01073}01073 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01074}01074             \textcolor{keywordtype}{unsigned} first = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01075}01075 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01076}01076 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01077}01077             \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01078}01078                        << \textcolor{stringliteral}{"{} Value of map entry for solid master node"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01079}01079                        << recv\_unsigneds[counter\_for\_recv\_unsigneds]}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01080}01080                        << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01081}01081 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01082}01082             \textcolor{keywordtype}{unsigned} second = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01083}01083 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01084}01084             \textcolor{comment}{// ...and assign}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01085}01085             (*map\_pt)[first] = second;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01086}01086           \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01087}01087         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01088}01088       \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01089}01089       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01090}01090       \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01091}01091         \textcolor{comment}{// Construct an ordinary (non-\/boundary) node}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01092}01092         \textcolor{keywordflow}{if} (time\_stepper\_pt != 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01093}01093         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01094}01094           new\_master\_nod\_pt = \textcolor{keyword}{new} \mbox{\hyperlink{classoomph_1_1SolidNode}{SolidNode}}(time\_stepper\_pt,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01095}01095                                             n\_lag\_dim,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01096}01096                                             n\_lag\_type,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01097}01097                                             n\_dim,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01098}01098                                             n\_position\_type,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01099}01099                                             n\_value);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01100}01100         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01101}01101         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01102}01102         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01103}01103           new\_master\_nod\_pt = \textcolor{keyword}{new} \mbox{\hyperlink{classoomph_1_1SolidNode}{SolidNode}}(}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01104}01104             n\_lag\_dim, n\_lag\_type, n\_dim, n\_position\_type, n\_value);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01105}01105         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01106}01106       \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01107}01107 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01108}01108       \textcolor{comment}{// Add this as an external halo node}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01109}01109       mesh\_pt-\/>\mbox{\hyperlink{classoomph_1_1Mesh_ac0b818d3cf5f2eae2816574b6d0a4f07}{add\_external\_halo\_node\_pt}}(loc\_p, new\_master\_nod\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01110}01110 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01111}01111       \textcolor{comment}{// Copy across particular info required for SolidNode}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01112}01112       \textcolor{comment}{// NOTE: Are there any problems with additional values for SolidNodes?}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01113}01113       \mbox{\hyperlink{classoomph_1_1SolidNode}{SolidNode}}* solid\_master\_nod\_pt =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01114}01114         \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{classoomph_1_1SolidNode}{SolidNode}}*\textcolor{keyword}{>}(new\_master\_nod\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01115}01115       \textcolor{keywordtype}{unsigned} n\_solid\_val =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01116}01116         solid\_master\_nod\_pt-\/>\mbox{\hyperlink{classoomph_1_1SolidNode_a22078726936f5bf3cf9e4328b3852a4a}{variable\_position\_pt}}()-\/>\mbox{\hyperlink{classoomph_1_1Data_a7e67fc78a2e8a2fd6eb75bd292d42ff8}{nvalue}}();}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01117}01117       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} i\_val = 0; i\_val < n\_solid\_val; i\_val++)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01118}01118       \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01119}01119         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \mbox{\hyperlink{cfortran_8h_af6f0bd3dc13317f895c91323c25c2b8f}{t}} = 0; \mbox{\hyperlink{cfortran_8h_af6f0bd3dc13317f895c91323c25c2b8f}{t}} < n\_prev; \mbox{\hyperlink{cfortran_8h_af6f0bd3dc13317f895c91323c25c2b8f}{t}}++)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01120}01120         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01121}01121           solid\_master\_nod\_pt-\/>\mbox{\hyperlink{classoomph_1_1SolidNode_a22078726936f5bf3cf9e4328b3852a4a}{variable\_position\_pt}}()-\/>\mbox{\hyperlink{classoomph_1_1Data_a7289ca322725c6fd493970a19474b382}{set\_value}}(}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01122}01122             \mbox{\hyperlink{cfortran_8h_af6f0bd3dc13317f895c91323c25c2b8f}{t}}, i\_val, recv\_doubles[counter\_for\_recv\_doubles++]);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01123}01123         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01124}01124       \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01125}01125     \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01126}01126     \textcolor{keywordflow}{else} \textcolor{comment}{// Just an ordinary node!}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01127}01127     \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01128}01128 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01129}01129       \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01130}01130                  << \textcolor{stringliteral}{"{}  Bool node is on boundary "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01131}01131                  << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01132}01132 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01133}01133 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01134}01134       \textcolor{comment}{// If this node was on a boundary then it needs to}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01135}01135       \textcolor{comment}{// be on the same boundary here}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01136}01136       \textcolor{keywordflow}{if} (recv\_unsigneds[counter\_for\_recv\_unsigneds++] == 1)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01137}01137       \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01138}01138         \textcolor{comment}{// Construct a new boundary node}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01139}01139         \textcolor{keywordflow}{if} (time\_stepper\_pt != 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01140}01140         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01141}01141           new\_master\_nod\_pt = \textcolor{keyword}{new} \mbox{\hyperlink{classoomph_1_1BoundaryNode}{BoundaryNode<Node>}}(}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01142}01142             time\_stepper\_pt, n\_dim, n\_position\_type, n\_value);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01143}01143         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01144}01144         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01145}01145         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01146}01146           new\_master\_nod\_pt =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01147}01147             \textcolor{keyword}{new} \mbox{\hyperlink{classoomph_1_1BoundaryNode}{BoundaryNode<Node>}}(n\_dim, n\_position\_type, n\_value);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01148}01148         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01149}01149 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01150}01150         \textcolor{comment}{// How many boundaries does the master node live on?}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01151}01151 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01152}01152         \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01153}01153                    << \textcolor{stringliteral}{"{} Number of boundaries the master node is on: "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01154}01154                    << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01155}01155 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01156}01156         \textcolor{keywordtype}{unsigned} nb = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01157}01157         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \mbox{\hyperlink{cfortran_8h_adb50e893b86b3e55e751a42eab3cba82}{i}} = 0; \mbox{\hyperlink{cfortran_8h_adb50e893b86b3e55e751a42eab3cba82}{i}} < nb; \mbox{\hyperlink{cfortran_8h_adb50e893b86b3e55e751a42eab3cba82}{i}}++)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01158}01158         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01159}01159           \textcolor{comment}{// Boundary number}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01160}01160 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01161}01161           \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01162}01162                      << \textcolor{stringliteral}{"{}  Master node is on boundary "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01163}01163                      << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01164}01164 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01165}01165           \textcolor{keywordtype}{unsigned} i\_bnd = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01166}01166           mesh\_pt-\/>\mbox{\hyperlink{classoomph_1_1Mesh_a007b102ac8e42328872ad658d7110bfc}{add\_boundary\_node}}(i\_bnd, new\_master\_nod\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01167}01167         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01168}01168 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01169}01169 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01170}01170         \textcolor{comment}{// Do we have additional values created by face elements?}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01171}01171 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01172}01172         \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01173}01173                    << \textcolor{stringliteral}{"{} Number of additional values created by face element "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01174}01174                    << \textcolor{stringliteral}{"{}for master node "{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01175}01175                    << recv\_unsigneds[counter\_for\_recv\_unsigneds] << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01176}01176 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01177}01177         \textcolor{keywordtype}{unsigned} n\_entry = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01178}01178         \textcolor{keywordflow}{if} (n\_entry > 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01179}01179         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01180}01180           \textcolor{comment}{// Create storage, if it doesn't already exist, for the map}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01181}01181           \textcolor{comment}{// that will contain the position of the first entry of}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01182}01182           \textcolor{comment}{// this face element's additional values,}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01183}01183           \mbox{\hyperlink{classoomph_1_1BoundaryNodeBase}{BoundaryNodeBase}}* bnew\_master\_nod\_pt =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01184}01184             \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{classoomph_1_1BoundaryNodeBase}{BoundaryNodeBase}}*\textcolor{keyword}{>}(new\_master\_nod\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01185}01185 \textcolor{preprocessor}{\#ifdef PARANOID}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01186}01186           \textcolor{keywordflow}{if} (bnew\_master\_nod\_pt == 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01187}01187           \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01188}01188             \textcolor{keywordflow}{throw} \mbox{\hyperlink{classoomph_1_1OomphLibError}{OomphLibError}}(\textcolor{stringliteral}{"{}Failed to cast new node to boundary node\(\backslash\)n"{}},}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01189}01189                                 OOMPH\_CURRENT\_FUNCTION,}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01190}01190                                 OOMPH\_EXCEPTION\_LOCATION);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01191}01191           \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01192}01192 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01193}01193           \textcolor{keywordflow}{if} (bnew\_master\_nod\_pt}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01194}01194                 -\/>index\_of\_first\_value\_assigned\_by\_face\_element\_pt() == 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01195}01195           \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01196}01196             bnew\_master\_nod\_pt}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01197}01197               -\/>\mbox{\hyperlink{classoomph_1_1BoundaryNodeBase_a5f73c54dbb9bdfe3538b61117a0cc674}{index\_of\_first\_value\_assigned\_by\_face\_element\_pt}}() =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01198}01198               \textcolor{keyword}{new} std::map<unsigned, unsigned>;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01199}01199           \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01200}01200 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01201}01201           \textcolor{comment}{// Get pointer to the map of indices associated with}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01202}01202           \textcolor{comment}{// additional values created by face elements}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01203}01203           std::map<unsigned, unsigned>* map\_pt =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01204}01204             bnew\_master\_nod\_pt}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01205}01205               -\/>\mbox{\hyperlink{classoomph_1_1BoundaryNodeBase_a5f73c54dbb9bdfe3538b61117a0cc674}{index\_of\_first\_value\_assigned\_by\_face\_element\_pt}}();}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01206}01206 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01207}01207           \textcolor{comment}{// Loop over number of entries in map}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01208}01208           \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \mbox{\hyperlink{cfortran_8h_adb50e893b86b3e55e751a42eab3cba82}{i}} = 0; \mbox{\hyperlink{cfortran_8h_adb50e893b86b3e55e751a42eab3cba82}{i}} < n\_entry; \mbox{\hyperlink{cfortran_8h_adb50e893b86b3e55e751a42eab3cba82}{i}}++)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01209}01209           \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01210}01210             \textcolor{comment}{// Read out pairs...}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01211}01211 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01212}01212 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01213}01213             \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01214}01214                        << \textcolor{stringliteral}{"{} Key of map entry for master node"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01215}01215                        << recv\_unsigneds[counter\_for\_recv\_unsigneds]}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01216}01216                        << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01217}01217 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01218}01218             \textcolor{keywordtype}{unsigned} first = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01219}01219 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01220}01220 \textcolor{preprocessor}{\#ifdef ANNOTATE\_MISSING\_MASTERS\_COMMUNICATION}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01221}01221             \mbox{\hyperlink{namespaceoomph_aec474227917784dc0a255faf289cfc16}{oomph\_info}} << \textcolor{stringliteral}{"{}Rec:"{}} << counter\_for\_recv\_unsigneds}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01222}01222                        << \textcolor{stringliteral}{"{} Value of map entry for master node"{}}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01223}01223                        << recv\_unsigneds[counter\_for\_recv\_unsigneds]}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01224}01224                        << std::endl;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01225}01225 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01226}01226             \textcolor{keywordtype}{unsigned} second = recv\_unsigneds[counter\_for\_recv\_unsigneds++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01227}01227 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01228}01228             \textcolor{comment}{// ...and assign}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01229}01229             (*map\_pt)[first] = second;}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01230}01230           \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01231}01231         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01232}01232       \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01233}01233       \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01234}01234       \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01235}01235         \textcolor{comment}{// Construct an ordinary (non-\/boundary) node}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01236}01236         \textcolor{keywordflow}{if} (time\_stepper\_pt != 0)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01237}01237         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01238}01238           new\_master\_nod\_pt =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01239}01239             \textcolor{keyword}{new} \mbox{\hyperlink{classoomph_1_1Node}{Node}}(time\_stepper\_pt, n\_dim, n\_position\_type, n\_value);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01240}01240         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01241}01241         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01242}01242         \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01243}01243           new\_master\_nod\_pt = \textcolor{keyword}{new} \mbox{\hyperlink{classoomph_1_1Node}{Node}}(n\_dim, n\_position\_type, n\_value);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01244}01244         \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01245}01245       \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01246}01246 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01247}01247       \textcolor{comment}{// Add this as an external halo node}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01248}01248       mesh\_pt-\/>\mbox{\hyperlink{classoomph_1_1Mesh_ac0b818d3cf5f2eae2816574b6d0a4f07}{add\_external\_halo\_node\_pt}}(loc\_p, new\_master\_nod\_pt);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01249}01249     \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01250}01250 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01251}01251     \textcolor{comment}{// Remaining info received for all node types}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01252}01252     \textcolor{comment}{// Get copied history values}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01253}01253     \textcolor{comment}{//  unsigned n\_val=new\_master\_nod\_pt-\/>nvalue();}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01254}01254     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} i\_val = 0; i\_val < n\_value; i\_val++)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01255}01255     \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01256}01256       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \mbox{\hyperlink{cfortran_8h_af6f0bd3dc13317f895c91323c25c2b8f}{t}} = 0; \mbox{\hyperlink{cfortran_8h_af6f0bd3dc13317f895c91323c25c2b8f}{t}} < n\_prev; \mbox{\hyperlink{cfortran_8h_af6f0bd3dc13317f895c91323c25c2b8f}{t}}++)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01257}01257       \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01258}01258         new\_master\_nod\_pt-\/>\mbox{\hyperlink{classoomph_1_1Data_a7289ca322725c6fd493970a19474b382}{set\_value}}(}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01259}01259           \mbox{\hyperlink{cfortran_8h_af6f0bd3dc13317f895c91323c25c2b8f}{t}}, i\_val, recv\_doubles[counter\_for\_recv\_doubles++]);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01260}01260       \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01261}01261     \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01262}01262 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01263}01263     \textcolor{comment}{// Get copied history values for positions}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01264}01264     \textcolor{keywordtype}{unsigned} n\_nod\_dim = new\_master\_nod\_pt-\/>\mbox{\hyperlink{classoomph_1_1Node_a786c96a8e46eb27a03b2b31f629d41b3}{ndim}}();}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01265}01265     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} idim = 0; idim < n\_nod\_dim; idim++)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01266}01266     \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01267}01267       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \mbox{\hyperlink{cfortran_8h_af6f0bd3dc13317f895c91323c25c2b8f}{t}} = 0; \mbox{\hyperlink{cfortran_8h_af6f0bd3dc13317f895c91323c25c2b8f}{t}} < n\_prev; \mbox{\hyperlink{cfortran_8h_af6f0bd3dc13317f895c91323c25c2b8f}{t}}++)}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01268}01268       \{}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01269}01269         \textcolor{comment}{// Copy to coordinate}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01270}01270         new\_master\_nod\_pt-\/>\mbox{\hyperlink{classoomph_1_1Node_ab76b4773a65b349f143539e07b6e15e2}{x}}(\mbox{\hyperlink{cfortran_8h_af6f0bd3dc13317f895c91323c25c2b8f}{t}}, idim) =}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01271}01271           recv\_doubles[counter\_for\_recv\_doubles++];}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01272}01272       \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01273}01273     \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01274}01274 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01275}01275     \textcolor{comment}{// Assign correct non-\/halo processor ID}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01276}01276     new\_master\_nod\_pt-\/>\mbox{\hyperlink{classoomph_1_1Data_ac96b285ae3f1ce549807072b652573bf}{set\_halo}}(non\_halo\_proc\_ID);}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01277}01277   \}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01278}01278 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01279}01279 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01280}01280 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01281}01281 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01282}01282 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01283}01283 \} \textcolor{comment}{// namespace oomph}}
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01284}01284 }
\DoxyCodeLine{\Hypertarget{missing__masters_8template_8cc_source_l01285}01285 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
