\hypertarget{multi__domain_8cc}{}\doxysection{multi\+\_\+domain.\+cc File Reference}
\label{multi__domain_8cc}\index{multi\_domain.cc@{multi\_domain.cc}}
\doxysubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespaceoomph}{oomph}}
\begin{DoxyCompactList}\small\item\em //////////////////////////////////////////////////////////////////// //////////////////////////////////////////////////////////////////// \end{DoxyCompactList}\item 
namespace \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions}{oomph\+::\+Multi\+\_\+domain\+\_\+functions}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_a2fb1a620c45f362039bef826b32b6785}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::send\+\_\+and\+\_\+receive\+\_\+missing\+\_\+zetas}} (Problem $\ast$problem\+\_\+pt)
\begin{DoxyCompactList}\small\item\em Send the zeta coordinates from the current process to the next process; receive from the previous process. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_a131c53d0a1557066df4719d24796b3a8}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::send\+\_\+and\+\_\+receive\+\_\+located\+\_\+info}} (int \&iproc, Mesh $\ast$const \&external\+\_\+mesh\+\_\+pt, Problem $\ast$problem\+\_\+pt)
\begin{DoxyCompactList}\small\item\em Send location information from current process; Received location information from (current process + iproc) modulo (nproc) \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_aea9c2b1984158b8f560c6fff7c0adea7}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::add\+\_\+external\+\_\+haloed\+\_\+node\+\_\+to\+\_\+storage}} (int \&iproc, Node $\ast$nod\+\_\+pt, Problem $\ast$problem\+\_\+pt, Mesh $\ast$const \&external\+\_\+mesh\+\_\+pt, int \&n\+\_\+cont\+\_\+inter\+\_\+values)
\begin{DoxyCompactList}\small\item\em Helper function to add external haloed nodes, including any masters. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_abaafd14a3e78c1965c294797913b44bf}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::recursively\+\_\+add\+\_\+masters\+\_\+of\+\_\+external\+\_\+haloed\+\_\+node}} (int \&iproc, Node $\ast$nod\+\_\+pt, Problem $\ast$problem\+\_\+pt, Mesh $\ast$const \&external\+\_\+mesh\+\_\+pt, int \&n\+\_\+cont\+\_\+inter\+\_\+values)
\begin{DoxyCompactList}\small\item\em Recursively add any master nodes (and their master nodes etc) of external nodes. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_aac4036d305c98081e778e16d568ae560}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::add\+\_\+external\+\_\+haloed\+\_\+node\+\_\+helper}} (int \&iproc, Node $\ast$nod\+\_\+pt, Problem $\ast$problem\+\_\+pt, Mesh $\ast$const \&external\+\_\+mesh\+\_\+pt, int \&n\+\_\+cont\+\_\+inter\+\_\+values)
\begin{DoxyCompactList}\small\item\em Helper to add external haloed node that is not a master. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_a7116b75de2083297cc1ab4e4b1ca2e48}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::add\+\_\+external\+\_\+haloed\+\_\+master\+\_\+node\+\_\+helper}} (int \&iproc, Node $\ast$master\+\_\+nod\+\_\+pt, Problem $\ast$problem\+\_\+pt, Mesh $\ast$const \&external\+\_\+mesh\+\_\+pt, int \&n\+\_\+cont\+\_\+inter\+\_\+values)
\begin{DoxyCompactList}\small\item\em Helper function to add external haloed node that is a master. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_aaf7f6048aab50adfe33d24f8ff9f8390}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::get\+\_\+required\+\_\+nodal\+\_\+information\+\_\+helper}} (int \&iproc, Node $\ast$nod\+\_\+pt, Problem $\ast$problem\+\_\+pt, Mesh $\ast$const \&external\+\_\+mesh\+\_\+pt, int \&n\+\_\+cont\+\_\+inter\+\_\+values)
\begin{DoxyCompactList}\small\item\em Helper function to get the required nodal information from an external haloed node so that a fully-\/functional external halo node (and therefore element) can be created on the receiving process. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_a3b08cda68388e72b4159bbc0fa0826ee}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::get\+\_\+required\+\_\+master\+\_\+nodal\+\_\+information\+\_\+helper}} (int \&iproc, Node $\ast$master\+\_\+nod\+\_\+pt, Problem $\ast$problem\+\_\+pt, Mesh $\ast$const \&external\+\_\+mesh\+\_\+pt, int \&n\+\_\+cont\+\_\+inter\+\_\+values)
\begin{DoxyCompactList}\small\item\em Helper function to get the required master nodal information from an external haloed master node so that a fully-\/functional external halo master node (and possible element) can be created on the receiving process. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_abbec3c28e0cdbe77c6ce3c9021528247}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::add\+\_\+external\+\_\+halo\+\_\+node\+\_\+helper}} (Node $\ast$\&new\+\_\+nod\+\_\+pt, Mesh $\ast$const \&external\+\_\+mesh\+\_\+pt, unsigned \&loc\+\_\+p, unsigned \&node\+\_\+index, Finite\+Element $\ast$const \&new\+\_\+el\+\_\+pt, int \&n\+\_\+cont\+\_\+inter\+\_\+values, Problem $\ast$problem\+\_\+pt)
\begin{DoxyCompactList}\small\item\em Helper functiono to add external halo node that is not a master. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_aa0a1707ca80a12f948616e016a1ed191}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::construct\+\_\+new\+\_\+external\+\_\+halo\+\_\+node\+\_\+helper}} (Node $\ast$\&new\+\_\+nod\+\_\+pt, unsigned \&loc\+\_\+p, unsigned \&node\+\_\+index, Finite\+Element $\ast$const \&new\+\_\+el\+\_\+pt, Mesh $\ast$const \&external\+\_\+mesh\+\_\+pt, Problem $\ast$problem\+\_\+pt)
\begin{DoxyCompactList}\small\item\em Helper function which constructs a new external halo node (on new element) with the required information sent from the haloed process. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_af094851b9ae730f6e8a37a793be05bc9}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::locate\+\_\+zeta\+\_\+for\+\_\+missing\+\_\+coordinates}} (int \&iproc, Mesh $\ast$const \&external\+\_\+mesh\+\_\+pt, Problem $\ast$problem\+\_\+pt, Vector$<$ Mesh\+As\+Geom\+Object $\ast$ $>$ \&mesh\+\_\+geom\+\_\+obj\+\_\+pt)
\begin{DoxyCompactList}\small\item\em Locate zeta for current set of missing coordinates; vector-\/based version. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_a969b893c0f6f013c78076e4013c0f34c}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::locate\+\_\+zeta\+\_\+for\+\_\+local\+\_\+coordinates}} (const Vector$<$ Mesh $\ast$ $>$ \&mesh\+\_\+pt, Mesh $\ast$const \&external\+\_\+mesh\+\_\+pt, Vector$<$ Mesh\+As\+Geom\+Object $\ast$ $>$ \&mesh\+\_\+geom\+\_\+obj\+\_\+pt, const unsigned \&interaction\+\_\+index)
\begin{DoxyCompactList}\small\item\em locate zeta for current set of \char`\"{}local\char`\"{} coordinates vector-\/based version \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_a81f7a581bfb6abfcce009546b80b9898}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::get\+\_\+dim\+\_\+helper}} (Problem $\ast$problem\+\_\+pt, Mesh $\ast$const \&mesh\+\_\+pt, Mesh $\ast$const \&external\+\_\+mesh\+\_\+pt)
\begin{DoxyCompactList}\small\item\em Helper function that computes the dimension of the elements within each of the specified meshes (and checks they are the same). Stores result in Dim. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_a45a7960bff85287284bea3939dcda5c2}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::clean\+\_\+up}} ()
\begin{DoxyCompactList}\small\item\em Helper function that clears all the information used during the external storage creation. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_aee712f5dc126a26cd46b6f717aa1d6c2}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::first\+\_\+closer\+\_\+than\+\_\+second}} (const std\+::pair$<$ Finite\+Element $\ast$, Vector$<$ double $>$ $>$ \&p1, const std\+::pair$<$ Finite\+Element $\ast$, Vector$<$ double $>$ $>$ \&p2)
\begin{DoxyCompactList}\small\item\em Comparison function for sorting entries in bin\+: Returns true if point identified by p1 (comprising pointer to finite element and vector of local coordinates within that element) is closer to Zeta\+\_\+coords\+\_\+for\+\_\+further\+\_\+away\+\_\+comparison than p2. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
std\+::ofstream \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_a87a54c04fcc68b716adf10ca29a1f449}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::\+Doc\+\_\+boundary\+\_\+coordinate\+\_\+file}}
\begin{DoxyCompactList}\small\item\em Output file to document the boundary coordinate along the mesh boundary of the bulk mesh during call to setup\+\_\+bulk\+\_\+elements\+\_\+adjacent\+\_\+to\+\_\+face\+\_\+mesh(...) \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_af4e0a3d3191c370209c6a7830a0dc368}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::\+Accept\+\_\+failed\+\_\+locate\+\_\+zeta\+\_\+in\+\_\+setup\+\_\+multi\+\_\+domain\+\_\+interaction}} = false
\begin{DoxyCompactList}\small\item\em Boolean to indicate that failure in setup multi domain functions is acceptable; defaults to false. If set to true external element pointers are set to null for those elements for which external elements couldn\textquotesingle{}t be located. \end{DoxyCompactList}\item 
unsigned \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_a27cbb5ec7f6fea2f237c11659ffeef58}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::\+Dim}}
\begin{DoxyCompactList}\small\item\em Dimension of zeta tuples (set by get\+\_\+dim\+\_\+helper) -- needed because we store the scalar coordinates in flat-\/packed form. \end{DoxyCompactList}\item 
Vector$<$ Vector$<$ unsigned $>$ $>$ \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_a2325d66c90ff388dfd6b2649a48e9827}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::\+External\+\_\+element\+\_\+located}}
\begin{DoxyCompactList}\small\item\em Lookup scheme for whether a local element\textquotesingle{}s integration point has had an external element assigned to it -- essentially boolean. External\+\_\+element\+\_\+located\mbox{[}e\mbox{]}\mbox{[}ipt\mbox{]} = \{0,1\} if external element for ipt-\/th integration in local element e \{has not, has\} been found. Used locally to ensure that we\textquotesingle{}re not searching for the same elements over and over again when we go around the spirals. \end{DoxyCompactList}\item 
Vector$<$ double $>$ \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_a880374b0f685eeddca0c70b5a5d40a85}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::\+Flat\+\_\+packed\+\_\+zetas\+\_\+not\+\_\+found\+\_\+locally}}
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{classoomph_1_1Vector}{Vector}} of flat-\/packed zeta coordinates for which the external element could not be found during current local search. These will be sent to the next processor in the ring-\/like parallel search. The zeta coordinates come in groups of Dim (scalar) coordinates. \end{DoxyCompactList}\item 
Vector$<$ double $>$ \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_aa5bb8d568feb34660caf8f88928f3be7}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::\+Received\+\_\+flat\+\_\+packed\+\_\+zetas\+\_\+to\+\_\+be\+\_\+found}}
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{classoomph_1_1Vector}{Vector}} of flat-\/packed zeta coordinates for which the external element could not be found on another processor and for which we\textquotesingle{}re currently searching here. Whatever can\textquotesingle{}t be found here, gets written into Flat\+\_\+packed\+\_\+zetas\+\_\+not\+\_\+found\+\_\+locally and then passed on to the next processor during the ring-\/like parallel search. The zeta coordinates come in groups of Dim (scalar) coordinates. \end{DoxyCompactList}\item 
Vector$<$ int $>$ \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_a05cf6413be5c69ff7535ebf0b8a153e3}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::\+Proc\+\_\+id\+\_\+plus\+\_\+one\+\_\+of\+\_\+external\+\_\+element}}
\begin{DoxyCompactList}\small\item\em Proc\+\_\+id\+\_\+plus\+\_\+one\+\_\+of\+\_\+external\+\_\+element\mbox{[}i\mbox{]} contains the processor id (plus one) of the processor on which the i-\/th zeta coordinate tuple received from elsewhere (in the order in which these are stored in Received\+\_\+flat\+\_\+packed\+\_\+zetas\+\_\+to\+\_\+be\+\_\+found) was located; it\textquotesingle{}s zero if it wasn\textquotesingle{}t found during the current stage of the ring-\/like parallel search. \end{DoxyCompactList}\item 
Vector$<$ unsigned $>$ \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_ae6f22430d0d0df252be95eeda5c03151}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::\+Located\+\_\+element\+\_\+status}}
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{classoomph_1_1Vector}{Vector}} to indicate (to another processor) whether a located element (that will have to represented as an external halo element on that processor) should be newly created on that processor (2), already exists on that processor (1), or is not on the current processor either (0). \end{DoxyCompactList}\item 
Vector$<$ double $>$ \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_a095771257db01cdebaaf92facc3057a3}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::\+Flat\+\_\+packed\+\_\+located\+\_\+coordinates}}
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{classoomph_1_1Vector}{Vector}} of flat-\/packed local coordinates for zeta tuples that have been located. \end{DoxyCompactList}\item 
Vector$<$ double $>$ \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_a2fa0a4a4e31700e161441b19f88c4bf3}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::\+Flat\+\_\+packed\+\_\+doubles}}
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{classoomph_1_1Vector}{Vector}} of flat-\/packed doubles to be communicated with other processors. \end{DoxyCompactList}\item 
unsigned \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_aeb7431547acc61e750fcc456a25ffc13}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::\+Counter\+\_\+for\+\_\+flat\+\_\+packed\+\_\+doubles}}
\begin{DoxyCompactList}\small\item\em Counter used when processing vector of flat-\/packed doubles -- this is really \char`\"{}private\char`\"{} data, declared here to avoid having to pass it (and the associated array) between the various helper functions. \end{DoxyCompactList}\item 
Vector$<$ unsigned $>$ \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_a5748b2389912d36f8f05cb175105c0a3}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::\+Flat\+\_\+packed\+\_\+unsigneds}}
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{classoomph_1_1Vector}{Vector}} of flat-\/packed unsigneds to be communicated with other processors -- this is really \char`\"{}private\char`\"{} data, declared here to avoid having to pass the array between the various helper functions. \end{DoxyCompactList}\item 
Vector$<$ std\+::string $>$ \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_a910c65c750d007e76f9175993179d151}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::\+Flat\+\_\+packed\+\_\+unsigneds\+\_\+string}}
\item 
unsigned \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_a20f6de2e1bd15cb40c461d2ca3940bd7}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::\+Counter\+\_\+for\+\_\+flat\+\_\+packed\+\_\+unsigneds}}
\begin{DoxyCompactList}\small\item\em Counter used when processing vector of flat-\/packed unsigneds -- this is really \char`\"{}private\char`\"{} data, declared here to avoid having to pass it (and the associated array) between the various helper functions. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_abc1119753cf68493ba6ea43c2a8bc378}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::\+Use\+\_\+bulk\+\_\+element\+\_\+as\+\_\+external}} = false
\begin{DoxyCompactList}\small\item\em Boolean to indicate when to use the bulk element as the external element. Defaults to false, you must have set up Face\+Elements properly first in order for it to work. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_aa3b57b233a416885018e8993db0b291c}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::\+Allow\+\_\+use\+\_\+of\+\_\+halo\+\_\+elements\+\_\+as\+\_\+external\+\_\+elements}} = true
\begin{DoxyCompactList}\small\item\em Boolean to indicate if we\textquotesingle{}re allowed to use halo elements as external elements. Can drastically reduce the number of external halo elements -- currently not aware of any problems therefore set to true by default but retention of this flag allows easy return to previous implementation. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_aa45f040b8ffc6448777fae76190d308c}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::\+Allow\+\_\+use\+\_\+of\+\_\+halo\+\_\+elements\+\_\+as\+\_\+external\+\_\+elements\+\_\+for\+\_\+projection}} = true
\begin{DoxyCompactList}\small\item\em Indicate whether we are allowed to use halo elements as external elements for projection, possibly only required in parallel unstructured mesh generation during the projection stage. Default set to true. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_a64dc4667540a9a2591b00635dea88423}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::\+Doc\+\_\+timings}} = false
\begin{DoxyCompactList}\small\item\em Boolean to indicate whether to doc timings or not. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_aa490ae6349c68dc3c5b40f6a4a40e718}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::\+Doc\+\_\+stats}} = false
\begin{DoxyCompactList}\small\item\em Boolean to indicate whether to output basic info during \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_ac64183e03f173c69ed6ed6f493a1a67e}{setup\+\_\+multi\+\_\+domain\+\_\+interaction()}} routines. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_aa5969c7c730e13e9d5a2c268f3045203}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::\+Doc\+\_\+full\+\_\+stats}} = false
\begin{DoxyCompactList}\small\item\em Boolean to indicate whether to output further info during \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_ac64183e03f173c69ed6ed6f493a1a67e}{setup\+\_\+multi\+\_\+domain\+\_\+interaction()}} routines. \end{DoxyCompactList}\item 
Vector$<$ double $>$ \mbox{\hyperlink{namespaceoomph_1_1Multi__domain__functions_a5f14db731fddbd057f4099fbdba95cc0}{oomph\+::\+Multi\+\_\+domain\+\_\+functions\+::\+Zeta\+\_\+coords\+\_\+for\+\_\+further\+\_\+away\+\_\+comparison}}
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{classoomph_1_1Vector}{Vector}} of zeta coordinates that we\textquotesingle{}re currently trying to locate; used in sorting of bin entries in further\+\_\+away() comparison function. \end{DoxyCompactList}\end{DoxyCompactItemize}
