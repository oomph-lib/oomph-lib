\hypertarget{classoomph_1_1MatrixVectorProduct}{}\doxysection{oomph\+::Matrix\+Vector\+Product Class Reference}
\label{classoomph_1_1MatrixVectorProduct}\index{oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}}


\mbox{\hyperlink{classoomph_1_1Matrix}{Matrix}} vector product helper class -\/ primarily a wrapper to Trilinos\textquotesingle{}s Epetra matrix vector product methods. This allows the epetra matrix to be assembled once and the matrix vector product to be performed many times.  




{\ttfamily \#include $<$matrix\+\_\+vector\+\_\+product.\+h$>$}

Inheritance diagram for oomph\+::Matrix\+Vector\+Product\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classoomph_1_1MatrixVectorProduct}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classoomph_1_1MatrixVectorProduct_af0c48ee8ae2ae94b5f3f38a8071c22f9}{Matrix\+Vector\+Product}} ()
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classoomph_1_1MatrixVectorProduct_a2b93b64514a6902bfd490299bd8587a0}{Matrix\+Vector\+Product}} (const \mbox{\hyperlink{classoomph_1_1MatrixVectorProduct}{Matrix\+Vector\+Product}} \&)=delete
\begin{DoxyCompactList}\small\item\em Broken copy constructor. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classoomph_1_1MatrixVectorProduct_afc8c0a45a060c3c6a4a5ca40a306a319}{operator=}} (const \mbox{\hyperlink{classoomph_1_1MatrixVectorProduct}{Matrix\+Vector\+Product}} \&)=delete
\begin{DoxyCompactList}\small\item\em Broken assignment operator. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classoomph_1_1MatrixVectorProduct_add19a8ea5d1901423e334587446f55db}{$\sim$\+Matrix\+Vector\+Product}} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classoomph_1_1MatrixVectorProduct_a2f61122d228e81ccff144b1298ccbd36}{clean\+\_\+up\+\_\+memory}} ()
\begin{DoxyCompactList}\small\item\em clear the memory \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classoomph_1_1MatrixVectorProduct_aec74f9bdb65ee7ce86590e26a705f3e9}{setup}} (\mbox{\hyperlink{classoomph_1_1CRDoubleMatrix}{CRDouble\+Matrix}} $\ast$matrix\+\_\+pt, const \mbox{\hyperlink{classoomph_1_1LinearAlgebraDistribution}{Linear\+Algebra\+Distribution}} $\ast$col\+\_\+dist\+\_\+pt=0)
\begin{DoxyCompactList}\small\item\em Setup the matrix vector product operator. WARNING\+: This class is wrapper to Trilinos Epetra matrix vector multiply methods, if Trilinos is not installed then this class will function as expected, but there will be no computational speed gain. By default the Epetra\+\_\+\+Crs\+Matrix\+::multiply(...) are employed. The optional argument col\+\_\+dist\+\_\+pt is the distribution of\+: x if using multiply(...) or y if using multiply\+\_\+transpose(...) where this is A x = y. By default, this is assumed to the uniformly distributed based on matrix\+\_\+pt-\/\texorpdfstring{$>$}{>}\mbox{\hyperlink{classoomph_1_1MatrixVectorProduct_ab11a0763e2cc2ed4e74b06eea664b60e}{ncol()}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classoomph_1_1MatrixVectorProduct_ac29ba50f1a77bf0e316c3417bcff71ee}{multiply}} (const \mbox{\hyperlink{classoomph_1_1DoubleVector}{Double\+Vector}} \&x, \mbox{\hyperlink{classoomph_1_1DoubleVector}{Double\+Vector}} \&y) const
\begin{DoxyCompactList}\small\item\em Apply the operator to the vector x and return the result in the vector y. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classoomph_1_1MatrixVectorProduct_a2b7670797fe289ea814968f2f9469fd5}{multiply\+\_\+transpose}} (const \mbox{\hyperlink{classoomph_1_1DoubleVector}{Double\+Vector}} \&x, \mbox{\hyperlink{classoomph_1_1DoubleVector}{Double\+Vector}} \&y) const
\begin{DoxyCompactList}\small\item\em Apply the transpose of the operator to the vector x and return the result in the vector y. \end{DoxyCompactList}\item 
const unsigned \& \mbox{\hyperlink{classoomph_1_1MatrixVectorProduct_ab11a0763e2cc2ed4e74b06eea664b60e}{ncol}} () const
\begin{DoxyCompactList}\small\item\em Access function to the number of columns. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classoomph_1_1MatrixVectorProduct_a431b4a1aec80593b729aef89d26dd408}{trilinos\+\_\+multiply\+\_\+helper}} (const \mbox{\hyperlink{classoomph_1_1DoubleVector}{Double\+Vector}} \&x, \mbox{\hyperlink{classoomph_1_1DoubleVector}{Double\+Vector}} \&y) const
\begin{DoxyCompactList}\small\item\em Helper function for multiply(...) \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classoomph_1_1MatrixVectorProduct_a192d6aba55af4354c22bc44ab9c9b064}{trilinos\+\_\+multiply\+\_\+transpose\+\_\+helper}} (const \mbox{\hyperlink{classoomph_1_1DoubleVector}{Double\+Vector}} \&x, \mbox{\hyperlink{classoomph_1_1DoubleVector}{Double\+Vector}} \&y) const
\begin{DoxyCompactList}\small\item\em Helper function for multiply\+\_\+transpose(...) \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
Epetra\+\_\+\+Crs\+Matrix $\ast$ \mbox{\hyperlink{classoomph_1_1MatrixVectorProduct_a14264b497811bc0d959be7f3022cd4d2}{Epetra\+\_\+matrix\+\_\+pt}}
\begin{DoxyCompactList}\small\item\em The Epetra version of the matrix. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classoomph_1_1MatrixVectorProduct_ad912d5eeef011117feef7af1cabeb631}{Using\+\_\+trilinos}}
\begin{DoxyCompactList}\small\item\em boolean indicating whether we are using trilinos to perform matvec \end{DoxyCompactList}\item 
\mbox{\hyperlink{classoomph_1_1CRDoubleMatrix}{CRDouble\+Matrix}} $\ast$ \mbox{\hyperlink{classoomph_1_1MatrixVectorProduct_a3932cd524581a670528ee807bf28ff1a}{Oomph\+\_\+matrix\+\_\+pt}}
\begin{DoxyCompactList}\small\item\em an oomph-\/lib matrix \end{DoxyCompactList}\item 
\mbox{\hyperlink{classoomph_1_1LinearAlgebraDistribution}{Linear\+Algebra\+Distribution}} $\ast$ \mbox{\hyperlink{classoomph_1_1MatrixVectorProduct_a986b1f7596b96329644f082b3303e28a}{Column\+\_\+distribution\+\_\+pt}}
\begin{DoxyCompactList}\small\item\em The distribution of\+: x if using multiply(...) or y if using multiply\+\_\+transpose(...) where this is A x = y. \end{DoxyCompactList}\item 
unsigned \mbox{\hyperlink{classoomph_1_1MatrixVectorProduct_ade21a9a8255e6adab4ff367d3716f851}{Ncol}}
\begin{DoxyCompactList}\small\item\em number of columns of the matrix \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
\mbox{\hyperlink{classoomph_1_1Matrix}{Matrix}} vector product helper class -\/ primarily a wrapper to Trilinos\textquotesingle{}s Epetra matrix vector product methods. This allows the epetra matrix to be assembled once and the matrix vector product to be performed many times. 

Definition at line \mbox{\hyperlink{matrix__vector__product_8h_source_l00050}{50}} of file \mbox{\hyperlink{matrix__vector__product_8h_source}{matrix\+\_\+vector\+\_\+product.\+h}}.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classoomph_1_1MatrixVectorProduct_af0c48ee8ae2ae94b5f3f38a8071c22f9}\label{classoomph_1_1MatrixVectorProduct_af0c48ee8ae2ae94b5f3f38a8071c22f9}} 
\index{oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}!MatrixVectorProduct@{MatrixVectorProduct}}
\index{MatrixVectorProduct@{MatrixVectorProduct}!oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}}
\doxysubsubsection{\texorpdfstring{MatrixVectorProduct()}{MatrixVectorProduct()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily oomph\+::\+Matrix\+Vector\+Product\+::\+Matrix\+Vector\+Product (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Constructor. 



Definition at line \mbox{\hyperlink{matrix__vector__product_8h_source_l00054}{54}} of file \mbox{\hyperlink{matrix__vector__product_8h_source}{matrix\+\_\+vector\+\_\+product.\+h}}.



References \mbox{\hyperlink{matrix__vector__product_8h_source_l00137}{Column\+\_\+distribution\+\_\+pt}}, \mbox{\hyperlink{matrix__vector__product_8h_source_l00125}{Epetra\+\_\+matrix\+\_\+pt}}, and \mbox{\hyperlink{matrix__vector__product_8h_source_l00133}{Oomph\+\_\+matrix\+\_\+pt}}.

\mbox{\Hypertarget{classoomph_1_1MatrixVectorProduct_a2b93b64514a6902bfd490299bd8587a0}\label{classoomph_1_1MatrixVectorProduct_a2b93b64514a6902bfd490299bd8587a0}} 
\index{oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}!MatrixVectorProduct@{MatrixVectorProduct}}
\index{MatrixVectorProduct@{MatrixVectorProduct}!oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}}
\doxysubsubsection{\texorpdfstring{MatrixVectorProduct()}{MatrixVectorProduct()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily oomph\+::\+Matrix\+Vector\+Product\+::\+Matrix\+Vector\+Product (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classoomph_1_1MatrixVectorProduct}{Matrix\+Vector\+Product}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



Broken copy constructor. 

\mbox{\Hypertarget{classoomph_1_1MatrixVectorProduct_add19a8ea5d1901423e334587446f55db}\label{classoomph_1_1MatrixVectorProduct_add19a8ea5d1901423e334587446f55db}} 
\index{oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}!````~MatrixVectorProduct@{$\sim$MatrixVectorProduct}}
\index{````~MatrixVectorProduct@{$\sim$MatrixVectorProduct}!oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}}
\doxysubsubsection{\texorpdfstring{$\sim$MatrixVectorProduct()}{~MatrixVectorProduct()}}
{\footnotesize\ttfamily oomph\+::\+Matrix\+Vector\+Product\+::$\sim$\+Matrix\+Vector\+Product (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Destructor. 



Definition at line \mbox{\hyperlink{matrix__vector__product_8h_source_l00071}{71}} of file \mbox{\hyperlink{matrix__vector__product_8h_source}{matrix\+\_\+vector\+\_\+product.\+h}}.



References \mbox{\hyperlink{matrix__vector__product_8h_source_l00077}{clean\+\_\+up\+\_\+memory()}}.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classoomph_1_1MatrixVectorProduct_a2f61122d228e81ccff144b1298ccbd36}\label{classoomph_1_1MatrixVectorProduct_a2f61122d228e81ccff144b1298ccbd36}} 
\index{oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}!clean\_up\_memory@{clean\_up\_memory}}
\index{clean\_up\_memory@{clean\_up\_memory}!oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}}
\doxysubsubsection{\texorpdfstring{clean\_up\_memory()}{clean\_up\_memory()}}
{\footnotesize\ttfamily void oomph\+::\+Matrix\+Vector\+Product\+::clean\+\_\+up\+\_\+memory (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



clear the memory 



Definition at line \mbox{\hyperlink{matrix__vector__product_8h_source_l00077}{77}} of file \mbox{\hyperlink{matrix__vector__product_8h_source}{matrix\+\_\+vector\+\_\+product.\+h}}.



References \mbox{\hyperlink{matrix__vector__product_8h_source_l00137}{Column\+\_\+distribution\+\_\+pt}}, \mbox{\hyperlink{matrix__vector__product_8h_source_l00125}{Epetra\+\_\+matrix\+\_\+pt}}, and \mbox{\hyperlink{matrix__vector__product_8h_source_l00133}{Oomph\+\_\+matrix\+\_\+pt}}.



Referenced by \mbox{\hyperlink{pseudo__elastic__fsi__preconditioner_8cc_source_l00034}{oomph\+::\+Pseudo\+Elastic\+FSIPreconditioner\+::clean\+\_\+up\+\_\+memory()}}, \mbox{\hyperlink{matrix__vector__product_8cc_source_l00041}{setup()}}, and \mbox{\hyperlink{matrix__vector__product_8h_source_l00071}{$\sim$\+Matrix\+Vector\+Product()}}.

\mbox{\Hypertarget{classoomph_1_1MatrixVectorProduct_ac29ba50f1a77bf0e316c3417bcff71ee}\label{classoomph_1_1MatrixVectorProduct_ac29ba50f1a77bf0e316c3417bcff71ee}} 
\index{oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}!multiply@{multiply}}
\index{multiply@{multiply}!oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}}
\doxysubsubsection{\texorpdfstring{multiply()}{multiply()}}
{\footnotesize\ttfamily void oomph\+::\+Matrix\+Vector\+Product\+::multiply (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classoomph_1_1DoubleVector}{Double\+Vector}} \&}]{x,  }\item[{\mbox{\hyperlink{classoomph_1_1DoubleVector}{Double\+Vector}} \&}]{y }\end{DoxyParamCaption}) const}



Apply the operator to the vector x and return the result in the vector y. 



Definition at line \mbox{\hyperlink{matrix__vector__product_8cc_source_l00108}{108}} of file \mbox{\hyperlink{matrix__vector__product_8cc_source}{matrix\+\_\+vector\+\_\+product.\+cc}}.



References \mbox{\hyperlink{double__vector_8cc_source_l00035}{oomph\+::\+Double\+Vector\+::build()}}, \mbox{\hyperlink{double__vector_8h_source_l00154}{oomph\+::\+Double\+Vector\+::built()}}, \mbox{\hyperlink{matrix__vector__product_8h_source_l00137}{Column\+\_\+distribution\+\_\+pt}}, \mbox{\hyperlink{linear__algebra__distribution_8h_source_l00457}{oomph\+::\+Distributable\+Linear\+Algebra\+Object\+::distribution\+\_\+pt()}}, \mbox{\hyperlink{matrices_8cc_source_l01782}{oomph\+::\+CRDouble\+Matrix\+::multiply()}}, \mbox{\hyperlink{matrix__vector__product_8h_source_l00133}{Oomph\+\_\+matrix\+\_\+pt}}, \mbox{\hyperlink{matrix__vector__product_8cc_source_l00242}{trilinos\+\_\+multiply\+\_\+helper()}}, and \mbox{\hyperlink{matrix__vector__product_8h_source_l00130}{Using\+\_\+trilinos}}.



Referenced by \mbox{\hyperlink{fsi__preconditioners_8h_source_l00373}{oomph\+::\+FSIPreconditioner\+::preconditioner\+\_\+solve()}}, \mbox{\hyperlink{pseudo__elastic__fsi__preconditioner_8cc_source_l00280}{oomph\+::\+Pseudo\+Elastic\+FSIPreconditioner\+::preconditioner\+\_\+solve()}}, \mbox{\hyperlink{navier__stokes__preconditioners_8cc_source_l00658}{oomph\+::\+Navier\+Stokes\+Schur\+Complement\+Preconditioner\+::preconditioner\+\_\+solve()}}, \mbox{\hyperlink{solid__preconditioners_8cc_source_l00493}{oomph\+::\+Pressure\+Based\+Solid\+LSCPreconditioner\+::preconditioner\+\_\+solve()}}, and \mbox{\hyperlink{general__purpose__space__time__subsidiary__block__preconditioner_8cc_source_l00482}{oomph\+::\+Space\+Time\+Navier\+Stokes\+Subsidiary\+Preconditioner\+::preconditioner\+\_\+solve()}}.

\mbox{\Hypertarget{classoomph_1_1MatrixVectorProduct_a2b7670797fe289ea814968f2f9469fd5}\label{classoomph_1_1MatrixVectorProduct_a2b7670797fe289ea814968f2f9469fd5}} 
\index{oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}!multiply\_transpose@{multiply\_transpose}}
\index{multiply\_transpose@{multiply\_transpose}!oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}}
\doxysubsubsection{\texorpdfstring{multiply\_transpose()}{multiply\_transpose()}}
{\footnotesize\ttfamily void oomph\+::\+Matrix\+Vector\+Product\+::multiply\+\_\+transpose (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classoomph_1_1DoubleVector}{Double\+Vector}} \&}]{x,  }\item[{\mbox{\hyperlink{classoomph_1_1DoubleVector}{Double\+Vector}} \&}]{y }\end{DoxyParamCaption}) const}



Apply the transpose of the operator to the vector x and return the result in the vector y. 



Definition at line \mbox{\hyperlink{matrix__vector__product_8cc_source_l00177}{177}} of file \mbox{\hyperlink{matrix__vector__product_8cc_source}{matrix\+\_\+vector\+\_\+product.\+cc}}.



References \mbox{\hyperlink{double__vector_8cc_source_l00035}{oomph\+::\+Double\+Vector\+::build()}}, \mbox{\hyperlink{double__vector_8h_source_l00154}{oomph\+::\+Double\+Vector\+::built()}}, \mbox{\hyperlink{matrix__vector__product_8h_source_l00137}{Column\+\_\+distribution\+\_\+pt}}, \mbox{\hyperlink{linear__algebra__distribution_8h_source_l00457}{oomph\+::\+Distributable\+Linear\+Algebra\+Object\+::distribution\+\_\+pt()}}, \mbox{\hyperlink{matrices_8cc_source_l01882}{oomph\+::\+CRDouble\+Matrix\+::multiply\+\_\+transpose()}}, \mbox{\hyperlink{matrix__vector__product_8h_source_l00133}{Oomph\+\_\+matrix\+\_\+pt}}, \mbox{\hyperlink{matrix__vector__product_8cc_source_l00287}{trilinos\+\_\+multiply\+\_\+transpose\+\_\+helper()}}, and \mbox{\hyperlink{matrix__vector__product_8h_source_l00130}{Using\+\_\+trilinos}}.



Referenced by \mbox{\hyperlink{navier__stokes__preconditioners_8cc_source_l00658}{oomph\+::\+Navier\+Stokes\+Schur\+Complement\+Preconditioner\+::preconditioner\+\_\+solve()}}, \mbox{\hyperlink{solid__preconditioners_8cc_source_l00493}{oomph\+::\+Pressure\+Based\+Solid\+LSCPreconditioner\+::preconditioner\+\_\+solve()}}, and \mbox{\hyperlink{general__purpose__space__time__subsidiary__block__preconditioner_8cc_source_l00482}{oomph\+::\+Space\+Time\+Navier\+Stokes\+Subsidiary\+Preconditioner\+::preconditioner\+\_\+solve()}}.

\mbox{\Hypertarget{classoomph_1_1MatrixVectorProduct_ab11a0763e2cc2ed4e74b06eea664b60e}\label{classoomph_1_1MatrixVectorProduct_ab11a0763e2cc2ed4e74b06eea664b60e}} 
\index{oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}!ncol@{ncol}}
\index{ncol@{ncol}!oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}}
\doxysubsubsection{\texorpdfstring{ncol()}{ncol()}}
{\footnotesize\ttfamily const unsigned \& oomph\+::\+Matrix\+Vector\+Product\+::ncol (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Access function to the number of columns. 



Definition at line \mbox{\hyperlink{matrix__vector__product_8h_source_l00110}{110}} of file \mbox{\hyperlink{matrix__vector__product_8h_source}{matrix\+\_\+vector\+\_\+product.\+h}}.



References \mbox{\hyperlink{matrix__vector__product_8h_source_l00140}{Ncol}}.

\mbox{\Hypertarget{classoomph_1_1MatrixVectorProduct_afc8c0a45a060c3c6a4a5ca40a306a319}\label{classoomph_1_1MatrixVectorProduct_afc8c0a45a060c3c6a4a5ca40a306a319}} 
\index{oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}!operator=@{operator=}}
\index{operator=@{operator=}!oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily void oomph\+::\+Matrix\+Vector\+Product\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classoomph_1_1MatrixVectorProduct}{Matrix\+Vector\+Product}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



Broken assignment operator. 

\mbox{\Hypertarget{classoomph_1_1MatrixVectorProduct_aec74f9bdb65ee7ce86590e26a705f3e9}\label{classoomph_1_1MatrixVectorProduct_aec74f9bdb65ee7ce86590e26a705f3e9}} 
\index{oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}!setup@{setup}}
\index{setup@{setup}!oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}}
\doxysubsubsection{\texorpdfstring{setup()}{setup()}}
{\footnotesize\ttfamily void oomph\+::\+Matrix\+Vector\+Product\+::setup (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classoomph_1_1CRDoubleMatrix}{CRDouble\+Matrix}} $\ast$}]{matrix\+\_\+pt,  }\item[{const \mbox{\hyperlink{classoomph_1_1LinearAlgebraDistribution}{Linear\+Algebra\+Distribution}} $\ast$}]{col\+\_\+dist\+\_\+pt = {\ttfamily 0} }\end{DoxyParamCaption})}



Setup the matrix vector product operator. WARNING\+: This class is wrapper to Trilinos Epetra matrix vector multiply methods, if Trilinos is not installed then this class will function as expected, but there will be no computational speed gain. By default the Epetra\+\_\+\+Crs\+Matrix\+::multiply(...) are employed. The optional argument col\+\_\+dist\+\_\+pt is the distribution of\+: x if using multiply(...) or y if using multiply\+\_\+transpose(...) where this is A x = y. By default, this is assumed to the uniformly distributed based on matrix\+\_\+pt-\/\texorpdfstring{$>$}{>}\mbox{\hyperlink{classoomph_1_1MatrixVectorProduct_ab11a0763e2cc2ed4e74b06eea664b60e}{ncol()}}. 



Definition at line \mbox{\hyperlink{matrix__vector__product_8cc_source_l00041}{41}} of file \mbox{\hyperlink{matrix__vector__product_8cc_source}{matrix\+\_\+vector\+\_\+product.\+cc}}.



References \mbox{\hyperlink{linear__algebra__distribution_8h_source_l00507}{oomph\+::\+Distributable\+Linear\+Algebra\+Object\+::build\+\_\+distribution()}}, \mbox{\hyperlink{matrix__vector__product_8h_source_l00077}{clean\+\_\+up\+\_\+memory()}}, \mbox{\hyperlink{matrix__vector__product_8h_source_l00137}{Column\+\_\+distribution\+\_\+pt}}, \mbox{\hyperlink{linear__algebra__distribution_8h_source_l00335}{oomph\+::\+Linear\+Algebra\+Distribution\+::communicator\+\_\+pt()}}, \mbox{\hyperlink{trilinos__helpers_8cc_source_l00289}{oomph\+::\+Trilinos\+Epetra\+Helpers\+::create\+\_\+distributed\+\_\+epetra\+\_\+matrix()}}, \mbox{\hyperlink{linear__algebra__distribution_8h_source_l00329}{oomph\+::\+Linear\+Algebra\+Distribution\+::distributed()}}, \mbox{\hyperlink{linear__algebra__distribution_8h_source_l00457}{oomph\+::\+Distributable\+Linear\+Algebra\+Object\+::distribution\+\_\+pt()}}, \mbox{\hyperlink{matrix__vector__product_8h_source_l00125}{Epetra\+\_\+matrix\+\_\+pt}}, \mbox{\hyperlink{oomph__utilities_8h_source_l00851}{oomph\+::\+MPI\+\_\+\+Helpers\+::mpi\+\_\+has\+\_\+been\+\_\+initialised()}}, \mbox{\hyperlink{matrices_8h_source_l01008}{oomph\+::\+CRDouble\+Matrix\+::ncol()}}, \mbox{\hyperlink{matrix__vector__product_8h_source_l00140}{Ncol}}, \mbox{\hyperlink{oomph__definitions_8cc_source_l00319}{oomph\+::oomph\+\_\+info}}, \mbox{\hyperlink{matrix__vector__product_8h_source_l00133}{Oomph\+\_\+matrix\+\_\+pt}}, \mbox{\hyperlink{oomph__utilities_8cc_source_l01295}{oomph\+::\+Timing\+Helpers\+::timer()}}, and \mbox{\hyperlink{matrix__vector__product_8h_source_l00130}{Using\+\_\+trilinos}}.



Referenced by \mbox{\hyperlink{block__preconditioner_8h_source_l02397}{oomph\+::\+Block\+Preconditioner$<$ MATRIX $>$\+::setup\+\_\+matrix\+\_\+vector\+\_\+product()}}.

\mbox{\Hypertarget{classoomph_1_1MatrixVectorProduct_a431b4a1aec80593b729aef89d26dd408}\label{classoomph_1_1MatrixVectorProduct_a431b4a1aec80593b729aef89d26dd408}} 
\index{oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}!trilinos\_multiply\_helper@{trilinos\_multiply\_helper}}
\index{trilinos\_multiply\_helper@{trilinos\_multiply\_helper}!oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}}
\doxysubsubsection{\texorpdfstring{trilinos\_multiply\_helper()}{trilinos\_multiply\_helper()}}
{\footnotesize\ttfamily void oomph\+::\+Matrix\+Vector\+Product\+::trilinos\+\_\+multiply\+\_\+helper (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classoomph_1_1DoubleVector}{Double\+Vector}} \&}]{x,  }\item[{\mbox{\hyperlink{classoomph_1_1DoubleVector}{Double\+Vector}} \&}]{y }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Helper function for multiply(...) 

Apply the operator to the vector x and return the result in the vector y (helper function) 

Definition at line \mbox{\hyperlink{matrix__vector__product_8cc_source_l00242}{242}} of file \mbox{\hyperlink{matrix__vector__product_8cc_source}{matrix\+\_\+vector\+\_\+product.\+cc}}.



References \mbox{\hyperlink{trilinos__helpers_8cc_source_l00180}{oomph\+::\+Trilinos\+Epetra\+Helpers\+::copy\+\_\+to\+\_\+oomphlib\+\_\+vector()}}, \mbox{\hyperlink{trilinos__helpers_8cc_source_l00041}{oomph\+::\+Trilinos\+Epetra\+Helpers\+::create\+\_\+distributed\+\_\+epetra\+\_\+vector()}}, and \mbox{\hyperlink{matrix__vector__product_8h_source_l00125}{Epetra\+\_\+matrix\+\_\+pt}}.



Referenced by \mbox{\hyperlink{matrix__vector__product_8cc_source_l00108}{multiply()}}.

\mbox{\Hypertarget{classoomph_1_1MatrixVectorProduct_a192d6aba55af4354c22bc44ab9c9b064}\label{classoomph_1_1MatrixVectorProduct_a192d6aba55af4354c22bc44ab9c9b064}} 
\index{oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}!trilinos\_multiply\_transpose\_helper@{trilinos\_multiply\_transpose\_helper}}
\index{trilinos\_multiply\_transpose\_helper@{trilinos\_multiply\_transpose\_helper}!oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}}
\doxysubsubsection{\texorpdfstring{trilinos\_multiply\_transpose\_helper()}{trilinos\_multiply\_transpose\_helper()}}
{\footnotesize\ttfamily void oomph\+::\+Matrix\+Vector\+Product\+::trilinos\+\_\+multiply\+\_\+transpose\+\_\+helper (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classoomph_1_1DoubleVector}{Double\+Vector}} \&}]{x,  }\item[{\mbox{\hyperlink{classoomph_1_1DoubleVector}{Double\+Vector}} \&}]{y }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Helper function for multiply\+\_\+transpose(...) 

Apply the transpose of the operator to the vector x and return the result in the vector y (helper function) 

Definition at line \mbox{\hyperlink{matrix__vector__product_8cc_source_l00287}{287}} of file \mbox{\hyperlink{matrix__vector__product_8cc_source}{matrix\+\_\+vector\+\_\+product.\+cc}}.



References \mbox{\hyperlink{trilinos__helpers_8cc_source_l00180}{oomph\+::\+Trilinos\+Epetra\+Helpers\+::copy\+\_\+to\+\_\+oomphlib\+\_\+vector()}}, \mbox{\hyperlink{trilinos__helpers_8cc_source_l00041}{oomph\+::\+Trilinos\+Epetra\+Helpers\+::create\+\_\+distributed\+\_\+epetra\+\_\+vector()}}, and \mbox{\hyperlink{matrix__vector__product_8h_source_l00125}{Epetra\+\_\+matrix\+\_\+pt}}.



Referenced by \mbox{\hyperlink{matrix__vector__product_8cc_source_l00177}{multiply\+\_\+transpose()}}.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classoomph_1_1MatrixVectorProduct_a986b1f7596b96329644f082b3303e28a}\label{classoomph_1_1MatrixVectorProduct_a986b1f7596b96329644f082b3303e28a}} 
\index{oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}!Column\_distribution\_pt@{Column\_distribution\_pt}}
\index{Column\_distribution\_pt@{Column\_distribution\_pt}!oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}}
\doxysubsubsection{\texorpdfstring{Column\_distribution\_pt}{Column\_distribution\_pt}}
{\footnotesize\ttfamily \mbox{\hyperlink{classoomph_1_1LinearAlgebraDistribution}{Linear\+Algebra\+Distribution}}$\ast$ oomph\+::\+Matrix\+Vector\+Product\+::\+Column\+\_\+distribution\+\_\+pt\hspace{0.3cm}{\ttfamily [private]}}



The distribution of\+: x if using multiply(...) or y if using multiply\+\_\+transpose(...) where this is A x = y. 



Definition at line \mbox{\hyperlink{matrix__vector__product_8h_source_l00137}{137}} of file \mbox{\hyperlink{matrix__vector__product_8h_source}{matrix\+\_\+vector\+\_\+product.\+h}}.



Referenced by \mbox{\hyperlink{matrix__vector__product_8h_source_l00077}{clean\+\_\+up\+\_\+memory()}}, \mbox{\hyperlink{matrix__vector__product_8h_source_l00054}{Matrix\+Vector\+Product()}}, \mbox{\hyperlink{matrix__vector__product_8cc_source_l00108}{multiply()}}, \mbox{\hyperlink{matrix__vector__product_8cc_source_l00177}{multiply\+\_\+transpose()}}, and \mbox{\hyperlink{matrix__vector__product_8cc_source_l00041}{setup()}}.

\mbox{\Hypertarget{classoomph_1_1MatrixVectorProduct_a14264b497811bc0d959be7f3022cd4d2}\label{classoomph_1_1MatrixVectorProduct_a14264b497811bc0d959be7f3022cd4d2}} 
\index{oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}!Epetra\_matrix\_pt@{Epetra\_matrix\_pt}}
\index{Epetra\_matrix\_pt@{Epetra\_matrix\_pt}!oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}}
\doxysubsubsection{\texorpdfstring{Epetra\_matrix\_pt}{Epetra\_matrix\_pt}}
{\footnotesize\ttfamily Epetra\+\_\+\+Crs\+Matrix$\ast$ oomph\+::\+Matrix\+Vector\+Product\+::\+Epetra\+\_\+matrix\+\_\+pt\hspace{0.3cm}{\ttfamily [private]}}



The Epetra version of the matrix. 



Definition at line \mbox{\hyperlink{matrix__vector__product_8h_source_l00125}{125}} of file \mbox{\hyperlink{matrix__vector__product_8h_source}{matrix\+\_\+vector\+\_\+product.\+h}}.



Referenced by \mbox{\hyperlink{matrix__vector__product_8h_source_l00077}{clean\+\_\+up\+\_\+memory()}}, \mbox{\hyperlink{matrix__vector__product_8h_source_l00054}{Matrix\+Vector\+Product()}}, \mbox{\hyperlink{matrix__vector__product_8cc_source_l00041}{setup()}}, \mbox{\hyperlink{matrix__vector__product_8cc_source_l00242}{trilinos\+\_\+multiply\+\_\+helper()}}, and \mbox{\hyperlink{matrix__vector__product_8cc_source_l00287}{trilinos\+\_\+multiply\+\_\+transpose\+\_\+helper()}}.

\mbox{\Hypertarget{classoomph_1_1MatrixVectorProduct_ade21a9a8255e6adab4ff367d3716f851}\label{classoomph_1_1MatrixVectorProduct_ade21a9a8255e6adab4ff367d3716f851}} 
\index{oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}!Ncol@{Ncol}}
\index{Ncol@{Ncol}!oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}}
\doxysubsubsection{\texorpdfstring{Ncol}{Ncol}}
{\footnotesize\ttfamily unsigned oomph\+::\+Matrix\+Vector\+Product\+::\+Ncol\hspace{0.3cm}{\ttfamily [private]}}



number of columns of the matrix 



Definition at line \mbox{\hyperlink{matrix__vector__product_8h_source_l00140}{140}} of file \mbox{\hyperlink{matrix__vector__product_8h_source}{matrix\+\_\+vector\+\_\+product.\+h}}.



Referenced by \mbox{\hyperlink{matrix__vector__product_8h_source_l00110}{ncol()}}, and \mbox{\hyperlink{matrix__vector__product_8cc_source_l00041}{setup()}}.

\mbox{\Hypertarget{classoomph_1_1MatrixVectorProduct_a3932cd524581a670528ee807bf28ff1a}\label{classoomph_1_1MatrixVectorProduct_a3932cd524581a670528ee807bf28ff1a}} 
\index{oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}!Oomph\_matrix\_pt@{Oomph\_matrix\_pt}}
\index{Oomph\_matrix\_pt@{Oomph\_matrix\_pt}!oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}}
\doxysubsubsection{\texorpdfstring{Oomph\_matrix\_pt}{Oomph\_matrix\_pt}}
{\footnotesize\ttfamily \mbox{\hyperlink{classoomph_1_1CRDoubleMatrix}{CRDouble\+Matrix}}$\ast$ oomph\+::\+Matrix\+Vector\+Product\+::\+Oomph\+\_\+matrix\+\_\+pt\hspace{0.3cm}{\ttfamily [private]}}



an oomph-\/lib matrix 



Definition at line \mbox{\hyperlink{matrix__vector__product_8h_source_l00133}{133}} of file \mbox{\hyperlink{matrix__vector__product_8h_source}{matrix\+\_\+vector\+\_\+product.\+h}}.



Referenced by \mbox{\hyperlink{matrix__vector__product_8h_source_l00077}{clean\+\_\+up\+\_\+memory()}}, \mbox{\hyperlink{matrix__vector__product_8h_source_l00054}{Matrix\+Vector\+Product()}}, \mbox{\hyperlink{matrix__vector__product_8cc_source_l00108}{multiply()}}, \mbox{\hyperlink{matrix__vector__product_8cc_source_l00177}{multiply\+\_\+transpose()}}, and \mbox{\hyperlink{matrix__vector__product_8cc_source_l00041}{setup()}}.

\mbox{\Hypertarget{classoomph_1_1MatrixVectorProduct_ad912d5eeef011117feef7af1cabeb631}\label{classoomph_1_1MatrixVectorProduct_ad912d5eeef011117feef7af1cabeb631}} 
\index{oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}!Using\_trilinos@{Using\_trilinos}}
\index{Using\_trilinos@{Using\_trilinos}!oomph::MatrixVectorProduct@{oomph::MatrixVectorProduct}}
\doxysubsubsection{\texorpdfstring{Using\_trilinos}{Using\_trilinos}}
{\footnotesize\ttfamily bool oomph\+::\+Matrix\+Vector\+Product\+::\+Using\+\_\+trilinos\hspace{0.3cm}{\ttfamily [private]}}



boolean indicating whether we are using trilinos to perform matvec 



Definition at line \mbox{\hyperlink{matrix__vector__product_8h_source_l00130}{130}} of file \mbox{\hyperlink{matrix__vector__product_8h_source}{matrix\+\_\+vector\+\_\+product.\+h}}.



Referenced by \mbox{\hyperlink{matrix__vector__product_8cc_source_l00108}{multiply()}}, \mbox{\hyperlink{matrix__vector__product_8cc_source_l00177}{multiply\+\_\+transpose()}}, and \mbox{\hyperlink{matrix__vector__product_8cc_source_l00041}{setup()}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{matrix__vector__product_8h}{matrix\+\_\+vector\+\_\+product.\+h}}\item 
\mbox{\hyperlink{matrix__vector__product_8cc}{matrix\+\_\+vector\+\_\+product.\+cc}}\end{DoxyCompactItemize}
