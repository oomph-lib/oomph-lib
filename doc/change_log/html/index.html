<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<title>oomph-lib: Change log</title>
<link rel="apple-touch-icon" sizes="57x57" href="../../figures/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../../figures/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../../figures/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../../figures/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../../figures/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../../figures/apple-touch-icon-120x120.png">
<link rel="icon" type="image/png" href="../../figures/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="../../figures/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../../figures/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="../../figures/manifest.json">
<link rel="mask-icon" href="../../figures/safari-pinned-tab.svg" color="#008000">
<link rel="shortcut icon" href="../../figures/favicon.ico">
<meta name="msapplication-TileColor" content="#00a300">
<meta name="msapplication-config" content="../../figures/browserconfig.xml">
<meta name="theme-color" content="#008000">
<link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600" rel="stylesheet" type="text/css">
<!-- Doxygen css-->
<!-- <link rel="stylesheet" type="text/css" href="doxygen.css"> -->
<!-- Bootstrap -->
<link href="../../css/bootstrap.css" rel="stylesheet">
<!-- oomph-lib specific overrides -->
<link rel="stylesheet" type="text/css" href="../../css/oomph_header.css">
</head>
<body>
<nav class="navbar navbar-default">
<div class="container">
<div class="container-fluid">
  <!-- Brand and toggle get grouped for better mobile display -->
  <div class="navbar-header">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="../../html/index.html"><img alt="oomph-lib" src="../../figures/oomph_logo.png"></a>
  </div>
  <!-- Collect the nav links, forms, and other content for toggling -->
  <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    <ul class="nav navbar-nav">          
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Documentation <span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li class="dropdown-header">Big picture</li>
          <li><a href="../../../doc/intro/html/index.html">The finite element method</a></li>
          <li><a href="../../../doc/the_data_structure/html/index.html">The data structure</a></li>
          <li><a href="../../../doc/quick_guide/html/index.html">Not-so-quick guide</a></li>
          <li><a href="../../../doc/optimisation/html/index.html">Optimisation</a></li>
          <li><a href="../../../doc/order_of_action_functions/html/index.html">Order of action functions</a></li>
          <li role="separator" class="divider"></li>
          <li class="dropdown-header">Example codes and tutorials</li>
          <li><a href="../../../doc/example_code_list/html/index.html">List of example codes and tutorials</a></li>
          <li><a href="../../../doc/example_code_list/html/index.html#meshes">Meshing</a></li>
          <li><a href="../../../doc/example_code_list/html/index.html#solvers">Solvers</a></li>
          <li><a href="../../../doc/example_code_list/html/index.html#parallel">MPI parallel processing</a></li>
          <li><a href="../../../doc/example_code_list/html/index.html#visualisation">Post-processing/visualisation</a></li>
          <li role="separator" class="divider"></li>
          <li class="dropdown-header">Other</li>
          <li><a href="../../../doc/change_log/html/index.html">Change log</a></li>
          <li><a href="../../../doc/creating_doc/html/index.html">Creating documentation</a></li>
          <li><a href="../../../doc/coding_conventions/html/index.html">Coding conventions</a></li>
          <li><a href="../../../doc/index/html/index.html">Index</a></li>
          <li><a href="../../../doc/FAQ/html/index.html">FAQ</a></li>
        </ul>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Installation<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="../../../doc/the_distribution/html/index.html">Installation guide</a></li>
            <li><a href="../../../doc/copyright/html/index.html">Copyright</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">About <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="../../../doc/people/html/index.html">People</a></li>            
            <li><a href="../../../doc/contact/html/index.html">Contact/Get involved</a></li>
            <li><a href="../../../doc/publications/html/index.html">Publications</a></li>
            <li><a href="../../../doc/acknowledgements/html/index.html">Acknowledgements</a></li>
            <li><a href="../../../doc/picture_show/index.html">Picture show</a></li>
          </ul>
        </li>
      </li>
    </ul>
    <ul class="nav navbar-nav navbar-right navbar-search">
      <form class="navbar-form" role="search" action="../../../doc/search_results/html/index.html">
        <div class="input-group">
          <input type="text" class="form-control" placeholder="Search" name="q">
          <span class="input-group-btn">
            <button class="btn btn-default" type="submit">Go</button>
          </span>
        </div><!-- /input-group -->
       <!--<div class="form-group">
          <input type="text" class="form-control" placeholder="Search">
        </div>
        <button type="submit" class="btn btn-default">Submit</button>-->
      </form>
    </ul>
  </div><!-- /.navbar-collapse -->
</div><!-- /.container-fluid -->
</div>
</nav>
<!-- Generated by Doxygen 1.9.2 -->
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Change log </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >This document provides an overview of the major changes between different "official" releases of <code>oomph-lib</code>.</p>
<p ><code>oomph-lib</code> is hosted on and distributed via its GitHub page </p><center> <a href="https://github.com/oomph-lib/oomph-lib">https://github.com/oomph-lib/oomph-lib</a> </center><p> <br  />
 from where a complete log of all changes is available. The move to GitHub was accompanied by a version bump to 2.0.</p>
<p >This GitHub repository was preceded by two subversion-based repositories and for historical reasons we provide access to the complete log from those:</p><ul>
<li>The file <a href="../final_svn_log_before_move_to_git.txt">final_svn_log_before_move_to_git.txt</a> contains the complete log of our public svn repository (revision 1 to 1367); this has been incorporated into the git log. <br  />
<br  />
</li>
<li>The file <a href="../final_svn_log.txt">final_svn_log.txt</a> contains the complete log of our private svn repository (revisions 1 to 207) which preceded its public counterpart.</li>
</ul>
<p >The remainder of this document covers the following issues:</p>
<ul>
<li><a class="el" href="index.html#interface_changes">Policy on interface changes</a></li>
<li><a class="el" href="index.html#one_point_zero_to_two_point_zero">Changes between version 1.0 and 2.0.*</a><ul>
<li><a class="el" href="index.html#new_functionality_two_point_zero">Major new functionality/changes</a></li>
</ul>
</li>
<li><a class="el" href="index.html#zero_point_nine_to_one_point_zero">Changes between version 0.9 and 1.0.*</a><ul>
<li><a class="el" href="index.html#new_functionality_one_point_zero">Major new functionality</a></li>
</ul>
</li>
<li><a class="el" href="index.html#zero_point_eight_five_to_zero_point_nine">Changes between version 0.85 and 0.9</a><ul>
<li><a class="el" href="index.html#new_functionality_zero_point_nine">Major new functionality</a></li>
<li><a class="el" href="index.html#major_interface_changes_zero_point_nine">Major interface changes</a></li>
</ul>
</li>
<li><a class="el" href="index.html#zero_point_eight_to_zero_point_five">Changes between version 0.8 and 0.85</a><ul>
<li><a class="el" href="index.html#new_functionality_zero_point_five">Major new functionality</a></li>
<li><a class="el" href="index.html#major_interface_changes_zero_point_five">Major interface changes</a></li>
</ul>
</li>
</ul>
<hr  />
 <hr  />
<h1><a class="anchor" id="interface_changes"></a>
Policy on interface changes</h1>
<p >We obviously try to avoid interface changes as much as possible as they may force users to adjust their code when upgrading to a new version. We will only change interfaces (names of objects and/or member functions, or the number or order of their arguments) if</p><ol type="1">
<li>The previously chosen name turned out to be too ambiguous. For instance, the change from <div class="fragment"><div class="line">Problem::actions_before_solve() </div>
</div><!-- fragment --> to <div class="fragment"><div class="line">Problem::actions_before_newton_solve()</div>
</div><!-- fragment --> became necessary because of the addition of further nonlinear (but non-Newton) solvers (e.g. the segregated FSI solver). Since such solvers may call the Newton solver themselves, a more fine-grained control over what we mean by "solving" was required. <br  />
<br  />
</li>
<li>The previously chosen name violated our own <a href="../../coding_conventions/html/index.html">coding conventions.</a> For instance, <div class="fragment"><div class="line">FiniteElement::n_nodal_position_type()</div>
</div><!-- fragment --> had to be changed to <br  />
 <div class="fragment"><div class="line">FiniteElement::nnodal_position_type()</div>
</div><!-- fragment --> because we do not want underscores after the leading "n" in an access function that returns the number of certain objects. <br  />
<br  />
</li>
<li>The order of the function arguments violated our own coding conventions. For instance, <div class="fragment"><div class="line">FiniteElement::get_x(Vector&lt;double&gt;&amp; s, <span class="keyword">const</span> <span class="keywordtype">unsigned</span>&amp; t,...) </div>
</div><!-- fragment --> had to be changed to <div class="fragment"><div class="line">FiniteElement::get_x(<span class="keyword">const</span> <span class="keywordtype">unsigned</span>&amp; t, Vector&lt;double&gt;&amp; s,...) </div>
</div><!-- fragment --> because the discrete "time" argument always comes first. <br  />
<br  />
</li>
</ol>
<p>Changes to function or object names are easy to detect because the compiler will not find the old version when linking against a new version of the library, encouraging the user to consult this list to (hopefully) find the appropriate replacement.</p>
<p >Changes to the order of function arguments can be very dangerous: if the order of two arguments of the same type is exchanged the compiler cannot detect the change to the interface but the code is likely to compute different results. To facilitate the detection of such changes, the new version of such functions contains an explicit warnings that can be enabled by compiling the library with the macro <code>WARN_ABOUT_SUBTLY_CHANGED_OOMPH_INTERFACES</code>. (For a gcc compiler this is done with the compiler flag <code>-DWARN_ABOUT_SUBTLY_CHANGED_OOMPH_INTERFACES</code>).</p>
<p >Here is an example of a function in which the order of the two unsigned arguments was changed. If compiled with <code>WARN_ABOUT_SUBTLY_CHANGED_OOMPH_INTERFACES</code>, the code will issue an appropriate warning every time this function is called.</p>
<div class="fragment"><div class="line"><span class="comment">// Function of two unsigned arguments whose order has changed</span></div>
<div class="line"><span class="comment">// since the previous release</span></div>
<div class="line"><span class="keywordtype">void</span> SomeClass::some_function(<span class="keyword">const</span> <span class="keywordtype">unsigned</span>&amp; t, <span class="keyword">const</span> <span class="keywordtype">unsigned</span>&amp; i)</div>
<div class="line">{</div>
<div class="line"> </div>
<div class="line">  [...]</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"> #ifdef WARN_ABOUT_SUBTLY_CHANGED_OOMPH_INTERFACES</span></div>
<div class="line"> </div>
<div class="line">   <span class="comment">// Throw an oomph-lib warning to alert the user to the change</span></div>
<div class="line">   <span class="comment">// in the order of the arguments</span></div>
<div class="line">   OomphLibWarning(<span class="stringliteral">&quot;Warning: Order of interfaces has changed&quot;</span>,</div>
<div class="line">                   <span class="stringliteral">&quot;SomeClass::some_function(...)&quot;</span>,</div>
<div class="line">                   OOMPH_EXCEPTION_LOCATION);</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"> #endif</span></div>
<div class="line"> </div>
<div class="line">  [...]</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --><p >Obviously, you should only compile the library with <code>WARN_ABOUT_SUBTLY_CHANGED_OOMPH_INTERFACES</code> if you encounter problems after upgrading to a new version.</p>
<hr  />
<h2><a class="anchor" id="one_point_zero_to_two_point_zero"></a>
Changes between version 1.0 and 2.0.*</h2>
<h3><a class="anchor" id="new_functionality_two_point_zero"></a>
Major new functionality/changes</h3>
<ul>
<li>Moved to C++11 standard and now use automatic formatting of code in the <code>src</code> directory, using <code>clang-format</code>. <br  />
<br  />
</li>
<li>Upgraded all python scripts to python3. <br  />
<br  />
</li>
<li>Included <code>CGAL</code>, <code>GMG</code>, <code>MPFR</code> and <code>Boost</code> into the third-party libraries that are shipped and automatically installed with <code>oomph-lib</code>. Existing installations can be used instead (via suitable flags in the configure options), but <code>oomph-lib</code> is only guaranteed to work with the versions provided. This functionality does not work on macOS so macOS users must add the <code>&ndash;enable-suppress-cgal-build</code> flag to their configuration options to ensure that this doesn't break their build. <br  />
<br  />
 They are used for more efficient implementations of <code>locate_zeta(...)</code> functionality. <br  />
<br  />
</li>
<li>Generalised unstructured 3D (tet-)mesh generation procedures so it can use <code>tetgen</code> and <code>gmsh</code>. <br  />
<br  />
</li>
<li>Provided scripts that (i) download the third-party tar files (for <code>MUMPS</code>, <code>trilinos</code> and <code>hypre</code>) and (ii) move the built installations to permanent locations. <br  />
<br  />
</li>
<li>Provided space-time discretisations for time-periodic unsteady-heat and Navier-Stokes equations. <br  />
<br  />
</li>
<li>Implemented a geometric multigrid solver for scalar PDEs (tested for the Poisson and Helmholtz equations). <br  />
<br  />
</li>
<li>Implemented the <code>QuadFromTriangleMesh</code> to construct quad-based meshes from triangle meshes. <br  />
<br  />
</li>
<li>Provided functionality to impose periodicity for three-dimensional brick meshes. <br  />
<br  />
</li>
<li>Provided machinery to create three-dimensional meshes based on the "extrusion" of a two-dimensional mesh; takes time-dependent macro-element behaviour into account. <br  />
<br  />
</li>
<li>Implemented a Krylov-subspace solver for the solution of single-equation-augmented linear systems (<code>AugmentedGMRES</code> ).</li>
</ul>
<hr  />
<h2><a class="anchor" id="zero_point_nine_to_one_point_zero"></a>
Changes between version 0.9 and 1.0.*</h2>
<h3><a class="anchor" id="new_functionality_one_point_zero"></a>
Major new functionality</h3>
<ul>
<li>Provided the capability to solve the Helmholtz equation (with various ways of implementing the Sommerfeld radiation condition), the time-harmonic equations of linear elasticity, and the interaction between these two systems of equations in time-harmonic acoustic fluid structure interaction problems. All equations are implemented in cartesian and cylindrical polar coordinates (in the latter case, using an azimuthal Fourier decomposition for the solution). <br  />
<br  />
</li>
<li>Provided block preconditioners for the solution of large-displacement fluid-structure interaction problems, based the coupling of full nonlinear 2D/3D elasticity and the Navier-Stokes equations. <br  />
<br  />
</li>
<li>Implemented the linearised Navier-Stokes equations (with the option to study their solutions as perturbations relative to a base state that is itself governed by the full Navier-Stokes equations). <br  />
<br  />
</li>
<li>Provided elements for the solution of the axisymmetric equations of linear elasticity. <br  />
<br  />
</li>
<li>Finished what is hopefully the final rewrite of the (parallel) block preconditioning framework and its extensive tutorial. <br  />
<br  />
</li>
<li>Provided elements for the solution of the Foeppl-von-Karman equations in various formulations (using either an Airy-stress function or the in-plane displacements) and in various coordinate systems. <br  />
<br  />
</li>
<li>Provided elements for Darcy porous media flow and Biot-type poro-elasticity, including the ability to use the latter elements in fluid-structure interaction problems which are governed by the equations of poro-elasticity coupled to the Navier-Stokes equations. <br  />
<br  />
</li>
<li>Implemented the ability adapt unstructured meshes in 2D (in serial and in parallel) and (in a parallel setting) to distribute such meshes over multiple processors, and to perform load balancing in spatially adaptive simulations. <br  />
<br  />
</li>
<li>Provided elements for the solution of elements for the solution of the Navier-Stokes equations with generalised Newtonian constitutive equations (i.e. non-Newtonian behaviour in which the viscosity depends on the invariants of the rate-of-strain tensor).<br  />
<br  />
</li>
<li>Provided machinery to output paraview (vtu and vtp) files directly (implemented for selected elements; broken virtual functions in base classes provide instructions what to do for others). <br  />
<br  />
</li>
<li>Provided machinery to establish what the equations/unknowns in a fully-built problem represent. Calling <code>Problem::describe_dofs()</code> trawls recursively through the oomph-lib object hierarchy to describe what each degree of freedom represents (from the Problem's, Meshes' and Nodes' point of view). Very useful for debugging (e.g. "Why are all the entries in the n-th row/column in the Jacobian 
   zero?" or "The n-th residual is enormous -- which equation does it
   correspond to?", etc.) <br  />
<br  />
</li>
<li>Provided machinery for hp adaptivity and p-type spectral elements with mortar constraints in 2D and 3D.<br  />
<br  />
</li>
<li>Added interfaces to the Trilinos ANASAZI eigensolver to allow parallel solution of eigenproblems. <br  />
<br  />
</li>
<li>Basic implementation of discontinuous Galerkin methods for general flux transport problems.<br  />
<br  />
</li>
<li>Many new detailed tutorials explaining:<br  />
<br  />
<ul>
<li>How to use \t oomph-lib in parallel and how to (optionally) distribute problems over multiple processors and to perform load balancing when performing spatially-adaptive, distributed simulations. <br  />
<br  />
</li>
<li>How to use oomph-lib's block preconditioning framework. <br  />
<br  />
</li>
<li>How to solve large-displacement fluid-structure interaction problems, based the coupling of full nonlinear 2D/3D elasticity and the Navier-Stokes equations, incl. the use of preconditioners and spatial adaptivity. <br  />
<br  />
</li>
<li>How to generate unstructured 2D meshes whose curvlinear boundaries are described my <code>GeomObjects</code>; these boundaries are respected under mesh refinement, i.e. the mesh converges to the exact domain geometry, rather than using the geometry defined by the initial, coarse discretisation. <br  />
<br  />
</li>
<li>How to simulate steady and unsteady free-surface flows in various geometries. <br  />
<br  />
</li>
<li>How to simulate the transport of immersed solid particles in viscous flow. <br  />
<br  />
</li>
<li>How to implement and solve surface transport equations, such as insoluble and soluble surfactant problems. <br  />
<br  />
</li>
<li>How to solve the Helmholtz equations in a variety of coordinate systems and how to apply the Sommerfeld radiation condition by ABCs, DTNs, or PMLs. <br  />
<br  />
</li>
<li>How to solve time-harmonic acoustic fluid-structure interaction problems in a variety of coordinate systems. <br  />
<br  />
</li>
<li>...<br  />
<br  />
</li>
</ul>
</li>
</ul>
<p>Have a look through the <a href="../../example_code_list/html/index.html">extensive list of example codes</a> to see what else is available. . <br  />
</p>
<h2><a class="anchor" id="zero_point_eight_five_to_zero_point_nine"></a>
Changes between version 0.85 and 0.9</h2>
<h3><a class="anchor" id="new_functionality_zero_point_nine"></a>
Major new functionality</h3>
<ul>
<li>Significantly extended <code>oomph-lib's</code> parallel processing capabilities. The library's solver and (block) preconditioning framework is now fully parallelised; the parallel assembly of the Jacobian and residual vector has been optimised, and problems can be now distributed by domain decomposition techniques. <a href="../../mpi/general_mpi/html/index.html">A new tutorial</a> and various <a href="../../example_code_list/html/index.html#parallel">new demo driver codes</a> demo driver codes provide an overview of these capabilities. <br  />
<br  />
</li>
<li>Completed the documentation of <code>oomph-lib's</code> solid mechanics (large-displacement elasticity) capabilities. We provide an overview of the <a href="../../solid/solid_theory/html/index.html">theory and implementation</a>, as well as <a href="../../example_code_list/html/index.html#solid">numerous tutorials</a> discussing the solution of steady and unsteady, 2D and 3D problems with compressible and incompressible materials on structured and unstructured meshes. <br  />
<br  />
</li>
<li>Developed a <a href="../../meshes/mesh_from_vmtk/html/index.html">tutorial</a> that shows how to use the <a href="http://www.vmtk.org">Vascular Modeling Toolkit (VMTK)</a> to generate <code>oomph-lib</code> meshes from medical images. The methodology is used in the following driver codes: <br  />
<br  />
<ul>
<li><a href="../../solid/vmtk_solid/html/index.html">The inflation of a blood vessel.</a> <br  />
<br  />
</li>
<li><a href="../../navier_stokes/vmtk_fluid/html/index.html">Finite Reynolds number flow through a (rigid) iliac bifurcation.</a> <br  />
<br  />
</li>
<li><a href="../../interaction/vmtk_fsi/html/index.html">Finite Reynolds number flow through an elastic iliac bifurcation.</a></li>
</ul>
<br  />
<br  />
</li>
<li>Extended FSI capabilities so that such problems can be solved on unstructured meshes. We provide new tutorials that demonstrate this capability for <a href="../../interaction/unstructured_fsi/html/index.html">2D</a> and <a href="../../interaction/unstructured_three_d_fsi/html/index.html">3D</a> problems. <br  />
<br  />
</li>
<li>Introduced <code>ElementWithExternalElement</code> as base class for multi-physics elements in which elements in different meshes/ domains interact via source/load functions (e.g. in fluid-structure interaction or thermal convection problems). See the new tutorials discussing the <a href="../../multi_physics/multi_domain_ref_b_convect/html/index.html">serial</a> and <a href="../../mpi/boussinesq_convection/html/index.html">parallel</a> solution of multi-physics problems by multi-domain approaches. <br  />
<br  />
</li>
<li>Parallelised and optimised the <code>MeshAsGeomObject</code> class to use bin structures to accelerate the search in <code>locate_zeta(...)</code>. <br  />
<br  />
</li>
<li><code>FiniteElements</code> are now <code>GeomObjects</code> within which their local coordinates act as their intrinsic coordinates. <br  />
<br  />
</li>
<li>Extended the <code>Z2ErrorEstimator</code> so that the elemental error estimate can be based on the maximum of various distinct fluxes &ndash; useful for multi-field problems such as Boussinesq convection. See the <a href="../../multi_physics/refine_b_convect/html/index.html#comments">tutorial</a> for details. <br  />
<br  />
</li>
<li>Added a structured, domain-based mesh for the discretisation of tube-like domains. See the <a href="../../meshes/mesh_list/html/index.html">list of structured meshes</a> for details. <br  />
<br  />
</li>
<li>Provided a new Lagrange-multiplier-based element, that allows the imposition of parallel in- or outflow from boundaries that are not aligned with coordinate planes. This is discussed in a <a href="../../navier_stokes/vmtk_fluid/html/index.html">separate tutorial.</a> <br  />
<br  />
</li>
<li>Provided a new mechanism that allows multiple <code>FaceElements</code> to be attached to same node, while providing the ability to distinguish between different Lagrange multipliers stored at the same node. This is discussed in a <a href="../../interaction/vmtk_fsi/html/index.html">separate tutorial.</a> <br  />
<br  />
</li>
<li>Significantly extended oomph-lib's bifurcation tracking routines (no tutorials yet, though). <br  />
<br  />
</li>
<li>Provided general framework and driver codes for discontinuous Galerkin methods and explicit timesteppers (no tutorials yet, though). <br  />
<br  />
</li>
</ul>
<hr  />
<h3><a class="anchor" id="major_interface_changes_zero_point_nine"></a>
Major interface changes</h3>
<ul>
<li><div class="fragment"><div class="line">SolidFiniteElement::add_jacobian_for_solid_ic() </div>
</div><!-- fragment --> becomes <div class="fragment"><div class="line">SolidFiniteElement::fill_in_jacobian_for_solid_ic()</div>
</div><!-- fragment --> <br  />
<br  />
</li>
<li><div class="fragment"><div class="line">SolidFiniteElement::add_residuals_for_ic()</div>
</div><!-- fragment --> becomes <div class="fragment"><div class="line">SolidFiniteElement::fill_in_residuals_for_solid_ic()</div>
</div><!-- fragment --> <br  />
<br  />
</li>
<li><div class="fragment"><div class="line">SolidFiniteElement::get_residuals_for_ic()</div>
</div><!-- fragment --> becomes <div class="fragment"><div class="line">SolidFiniteElement::fill_in_residuals_for_solid_ic()</div>
</div><!-- fragment --> <br  />
<br  />
</li>
<li>Changed order of arguments in <code>PVDEquationsBase::BodyForceFctPt</code> so that time goes first (as it should!). <br  />
<br  />
</li>
<li>Not exactly an interface change but important: <code>AlgebraicMeshes</code> and <code>MacroElementNodeUpdateMeshes</code> <b>should</b> now specify the <code>GeomObjects</code> involved in their node update functions. (This <b>must</b> be done if such meshes are to be used in parallel computations involving domain decomposition). The declaration of the <code>GeomObjects</code> should use the functions <code>AlgebraicMesh::add_geom_object_list_pt(...)</code> and <code>MacroElementNodeUpdateMesh::set_geom_object_vector_pt(...)</code>, respectively. <br  />
<br  />
</li>
<li>Added integration point arguments to all get_source-type functions in elements to allow for overloading in multi-domain calculations. For example, <br  />
<br  />
 <div class="fragment"><div class="line">NavierStokesEquations&lt;DIM&gt;::get_body_force_nst(<span class="keyword">const</span> <span class="keywordtype">double</span>&amp; time,</div>
<div class="line">                                               <span class="keyword">const</span> Vector&lt;double&gt; &amp;s,</div>
<div class="line">                                               <span class="keyword">const</span> Vector&lt;double&gt; &amp;x,</div>
<div class="line">                                               Vector&lt;double&gt; &amp;result)</div>
</div><!-- fragment --> <br  />
<br  />
 has been changed to <br  />
<br  />
 <div class="fragment"><div class="line">NavierStokesEquations&lt;DIM&gt;::get_body_force_nst(<span class="keyword">const</span> <span class="keywordtype">double</span>&amp; time,</div>
<div class="line">                                               <span class="keyword">const</span> <span class="keywordtype">unsigned</span>&amp; ipt,</div>
<div class="line">                                               <span class="keyword">const</span> Vector&lt;double&gt; &amp;s,</div>
<div class="line">                                               <span class="keyword">const</span> Vector&lt;double&gt; &amp;x,</div>
<div class="line">                                               Vector&lt;double&gt; &amp;result)</div>
</div><!-- fragment --> <br  />
<br  />
</li>
<li><code>GeomObject::drdt(...)</code> is now <code>GeomObject::dposition_dt(...)</code> to make it consistent with all other functions of that type. <br  />
<br  />
</li>
<li><code>FSI_functions::setup_fluid_load_info_for_solid_elements(...)</code> now requires a pointer to the <code>Problem</code> to be specified as the first argument. <br  />
<br  />
</li>
<li>Specification of wall and fluid meshes in <code>FSIPreconditioner</code> changed from read/write access functions <code>FSIPreconditioner::navier_stokes_mesh_pt()</code> and <code>FSIPreconditioner::wall_mesh_pt()</code> to <code>FSIPreconditioner::set_navier_stokes_mesh(...)</code> and <code>FSIPreconditioner::set_wall_mesh(...)</code>, respectively. <br  />
<br  />
</li>
<li>Specification of fluid mesh in <code>NavierStokesLSCPreconditioner</code> changed from read/write access function <code>FSIPreconditioner::navier_stokes_mesh_pt()</code> to <code>FSIPreconditioner::set_navier_stokes_mesh(...)</code>. <br  />
<br  />
</li>
<li>Removed all explicit references to <code>MPI_COMM_WORLD</code> and the parameters <code>MPI_Helpers::Nproc</code> <code>MPI_Helpers::My_rank</code>. The total number of processors and the rank of each processor should be obtained from the appropriate <code>OomphCommunicator</code>. <br  />
<br  />
</li>
<li>Replaced <code>MPI_Helpers::setup(...)</code> with <code>MPI_Helpers::init(...)</code> and added <code>MPI_Helpers::finalize()</code>. These should be called instead of MPI's own <code>init()</code> and <code>finalize()</code> functions. <br  />
<br  />
</li>
<li>Introduced <code>DoubleVector</code> &ndash; a distributable vector storing double precision numbers. <br  />
<br  />
</li>
<li>Merged <code>CRDoubleMatrix</code> and <code>DistributableCRDoubleMatrix</code> into <code>CRDoubleMatrix</code>. (Note: <code>CRDoubleMatrix</code> is the only distributable matrix within <code>oomph-lib</code>.) <br  />
<br  />
</li>
<li>Merged <code>SuperLU</code> and <code>SuperLU_dist</code> into <code>SuperLUSolver</code>. If <code>oomph-lib</code> is compiled with MPI support, the parallel version of the (exact) preconditioner is used automatically. This behaviour can be over-ruled with the member function <div class="fragment"><div class="line">SuperLUSolver::set_solver_type(...)</div>
</div><!-- fragment --> whose argument must be one of the three options listed in the enumeration <code>SuperLUSolver::Type</code>. This allows the serial version of the solver to be used even if <code>oomph-lib</code> is compiled with MPI support. <br  />
<br  />
</li>
<li>Merged <code>SuperLUPreconditioner</code> and <code>SuperLUDistPreconditioner</code> into <code>SuperLUPreconditioner</code>. If <code>oomph-lib</code> is compiled with MPI support, the parallel version of the solver is used automatically. <br  />
<br  />
</li>
<li>Updated all solvers/preconditioners to handle new <code>CRDoubleMatrix</code> and <code>DoubleVector</code>. <br  />
<br  />
</li>
<li>In <code>NavierStokesLSCPreconditioner</code> <br  />
<br  />
 <div class="fragment"><div class="line"><span class="keywordtype">void</span> set_f_preconditioner(Preconditioner&amp; new_f_preconditioner)</div>
</div><!-- fragment --> and <br  />
<br  />
 <div class="fragment"><div class="line"><span class="keywordtype">void</span> set_p_preconditioner(Preconditioner&amp; new_f_preconditioner)</div>
</div><!-- fragment --> <br  />
<br  />
 were changed to <br  />
<br  />
 <div class="fragment"><div class="line"><span class="keywordtype">void</span> set_f_preconditioner(Preconditioner* new_f_preconditioner_pt)</div>
</div><!-- fragment --> <br  />
<br  />
 and <br  />
<br  />
 <div class="fragment"><div class="line"><span class="keywordtype">void</span> set_p_preconditioner(Preconditioner* new_f_preconditioner_pt)</div>
</div><!-- fragment --> <br  />
<br  />
 respectively, to make them consistent with the rest of the code. <br  />
<br  />
</li>
<li>Changed <div class="fragment"><div class="line">FiniteElement::get_block_numbers_for_unknowns(...)</div>
</div><!-- fragment --> to <div class="fragment"><div class="line">FiniteElement::get_dof_numbers_for_unknowns(...)</div>
</div><!-- fragment --> and <div class="fragment"><div class="line">FiniteElement::nblock_types()</div>
</div><!-- fragment --> to <div class="fragment"><div class="line">FiniteElement::ndof_types()</div>
</div><!-- fragment --> <br  />
<br  />
</li>
<li>Nearly an interface change: We now provide the option to exclude/wipe the validata from the distribution (during <code>make</code> <code>dist</code>). To make sure that the self-test procedure doesn't break if there's no validata, configure now assesses the availability of validata by checking the existence of <div class="fragment"><div class="line">demo_drivers/poisson/one_d_poisson/validata/one_d_poisson_results.dat.gz</div>
</div><!-- fragment --> If this is not found, we'll assume that there's no validata anywhere. In that case, "make check" will still compile and run the demo drivers but not use fpdiff.py to compare them against the validata. The behaviour is thus similar to what's done if we don't have python. We therefore modified the "no_python" argument that used to be passed to all validate.sh scripts to suppress the execution of fpdiff.py and replaced it by "no_fpdiff". As a result all validate.sh scripts had to be changed. MAKE SURE YOU UPDATE ANY NEW ONES BEFORE ADDING THEM TO THE DISTRIBUTION! <br  />
<br  />
 To reflect the fact that the fpdiff-ing can now be suppressed for multiple reasons, we renamed <div class="fragment"><div class="line">bin/validate_no_python.sh</div>
</div><!-- fragment --> to <div class="fragment"><div class="line">bin/dummy_validate.sh</div>
</div><!-- fragment --> <br  />
<br  />
</li>
<li>All the bools in calls to the various <code>node_update(...)</code> functions were changed to <code>const</code> <code>bool&amp;</code> (rather than <code>bool</code>). <br  />
<br  />
</li>
<li>The constructors for all constitutive equations now take pointers to constitutive parameters rather than the parameters themselves. (With the previous approach, changing Young's modulus, say, required the construction of a new constitutive equation object that then had to be passed to all elements again etc.) <br  />
<br  />
</li>
<li>Got rid of all other instances where time argument was passed by copy rather than by constant reference &ndash; as long as grep-ing for the pattern '(double t' detected it. In practice this involved various Navier-Stokes traction, body force and source functions.</li>
</ul>
<hr  />
 <hr  />
<h2><a class="anchor" id="zero_point_eight_to_zero_point_five"></a>
Changes between version 0.8 and 0.85</h2>
<h3><a class="anchor" id="new_functionality_zero_point_five"></a>
Major new functionality</h3>
<ul>
<li>Added a variety of iterative linear solvers and general-purpose preconditioners. <br  />
<br  />
</li>
<li>Added wrappers to the powerful serial and parallel iterative solvers/preconditioners from the Hyre and Trilinos libraries. <br  />
<br  />
</li>
<li>Developed a general block preconditioning framework and used it implement problem-specific preconditioners for Navier-Stokes and fluid-structure-interaction problems. <br  />
<br  />
<ul>
<li><a href="../../preconditioners/lsc_navier_stokes/html/index.html">Using <code>oomph-lib's</code> Least-Squares-Commutator Navier-Stokes preconditioner.</a> <br  />
<br  />
</li>
<li><a href="../../preconditioners/fsi/html/index.html">Using <code>oomph-lib's</code> FSI preconditioner.</a></li>
</ul>
<br  />
<br  />
</li>
<li>Provided segregated solver capabilities for fluid-structure interaction. <br  />
<br  />
</li>
<li>Added a number of additional tutorials/demo codes illustrating <code>oomph-lib's</code> fluid-structure interaction capabilities: <br  />
<br  />
<ul>
<li><a href="../../interaction/turek_flag/html/index.html">Turek &amp; Hron's FSI benchmark problem of flow past a "flag".</a> <br  />
<br  />
</li>
<li><a href="../../interaction/fsi_channel_with_leaflet/html/index.html">Flow in a channel with an elastic leaflet.</a> <br  />
<br  />
</li>
<li><a href="../../interaction/fsi_channel_segregated_solver/html/index.html">Using <code>oomph-lib's</code> segregated solvers for fluid-structure-interaction problems.</a> <br  />
<br  />
</li>
<li><a href="../../preconditioners/fsi/html/index.html">Using <code>oomph-lib's</code> FSI preconditioner.</a></li>
</ul>
<br  />
<br  />
</li>
<li>MPI capability is now fully integrated into the library (rather than being kept in a separate mpi directory/sub-library) but not yet complete (or documented). Segments of code that involve MPI calls are surrounded by <code>#ifdef</code> <code>OOMPH_HAS_MPI</code> <code></code>[...] <code>#endif</code>. They are only compiled if the <code>&ndash;enable-MPI</code> flag is specified at the configure stage. <br  />
 <br  />
<br  />
</li>
<li>Assuming you have <code>pdflatex</code> installed on your machine, the documentation is now not only built in html format (pretty but hard to print) but we also create associated pdf files. These are accessible via the link at the bottom of relevant html page. <br  />
<br  />
</li>
<li><code>oomph-lib's</code> build script, <code>autogen</code>.<code>sh</code> now allows for parallel compilation. This can lead to considerable speedups on multicore processors that are now widely available. To build <code>oomph-lib</code> in parallel, using up four threads run <code>autogen</code>.<code>sh</code> as follows <div class="fragment"><div class="line">./autogen.sh --jobs=4 </div>
</div><!-- fragment --> or (if you are re-building) <div class="fragment"><div class="line">./autogen.sh --jobs=4 --rebuild</div>
</div><!-- fragment --> <br  />
<br  />
</li>
<li>Angelo Simone has written a python script that converts <code>oomph-lib's</code> output to the vtu format that can be read by <a href="http://www.paraview.org">paraview</a>, an open-source 3D plotting package. This is discussed in <a href="../../paraview/html/index.html">separate tutorial.</a> <br  />
<br  />
</li>
<li>...and much more (eigenproblems, bifurcation tracking, advection-diffusion-reaction equations, displacement-based linear elasticity, impedance-type outflow boundary conditions for Navier-Stokes problems, Lagrange-multiplier-based <code>FaceElements</code> to apply non-trivial boundaries to beams and shells, ...). Feel free to have a look around the distribution. You're welcome to use it all, but please remember that you use any functionality for which no documentation is available at your own risk; while we reserve the right to change interfaces for all objects in the library, such changes are almost certain to happen for objects that are not yet documented (in the form of tutorials). <br  />
<br  />
. <br  />
</li>
</ul>
<hr  />
<h3><a class="anchor" id="major_interface_changes_zero_point_five"></a>
Major interface changes</h3>
<ul>
<li><code>Problem::actions_before_solve()</code> becomes <code>Problem::actions_before_newton_solve()</code> <br  />
<br  />
</li>
<li><code>Problem::actions_after_solve()</code> becomes <code>Problem::actions_after_newton_solve()</code> <br  />
<br  />
</li>
<li><code>TCrouzeixRaviartElement&lt;DIM&gt;</code> becomes <code>TCrouzeixRaviartElement&lt;DIM&gt;</code> <br  />
<br  />
</li>
<li><code>QCrouzeixRaviartElement&lt;DIM&gt;</code> becomes <code>QCrouzeixRaviartElement&lt;DIM&gt;</code> <br  />
<br  />
</li>
<li><code>RefineableQCrouzeixRaviartElement&lt;DIM&gt;</code> becomes <code>RefineableQCrouzeixRaviartElement&lt;DIM&gt;</code> <br  />
<br  />
</li>
<li>Fixed various violations of our naming conventions; see <a class="el" href="index.html#interface_changes">Policy on interface changes</a>. <br  />
<br  />
</li>
<li>Changed the interface of to the <code>FaceElements</code> so that the faces are represented by an integer <code>face_index</code>, rather than the combination <code>s_fixed_index</code> and <code>s_limit</code> which was not sufficiently general.</li>
</ul>
<hr  />
 <hr  />
 <h1><a class="anchor" id="pdf"></a>
PDF file</h1>
<p >A <a href="../latex/refman.pdf">pdf version</a> of this document is available. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->

    <!-- jQuery for Bootstrap and Doxygen -->
    <script src="../../js/jquery-1.12.0.min.js"></script>
    <!-- Minified boostrap plugins-->
    <script src="../../js/bootstrap.js"></script>
    <!-- Doxygen dependency to add powertips to source code-->
    <script src="../../js/jquery.powertip.min.js"></script>
    <!-- The  following script is generated by doxygen and hides/shows levels in 
         the data structure lists and adds powertips to source code-->
    <script src="../../js/dynsections.js" ></script>
    <!-- add to Doxygen's class names so bootstrap css and js recognises them-->
    <script type="text/javascript">
    $(".contents").addClass("container");
    $(".header").addClass("container");
    $(".navpath").addClass("container");
    $("#navrow3").addClass("container");
    $("#navrow4").addClass("container");
    $(".mlabel").addClass("label");
    $(".mlabel").addClass("label-default");
    $(".memitem").addClass("panel");
    $(".memitem").addClass("panel-info");
    $(".memproto").addClass("panel-heading");
    $(".memdoc").addClass("panel-body");
    </script>
    <footer>
      <div class="container">
        <div class="text-muted" style="float:right;">Generated by <a href="http://www.doxygen.org/index.html">
          <img style="height:18px;" class="footer-img" src="doxygen.png" alt="doxygen"></a> on Tue Jan 4 2022 15:10:23
        </div>
      </div>
    </footer>
</body>
</html>
